<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<!-- 2022-04-22 Fri 12:35 -->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Org 手册通读+翻译</title>
<meta name="generator" content="Org mode" />
<meta name="author" content="kamisama" />
<style type="text/css">
 <!--/*--><![CDATA[/*><!--*/
  .title  { text-align: center;
             margin-bottom: .2em; }
  .subtitle { text-align: center;
              font-size: medium;
              font-weight: bold;
              margin-top:0; }
  .todo   { font-family: monospace; color: red; }
  .done   { font-family: monospace; color: green; }
  .priority { font-family: monospace; color: orange; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .org-right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .org-left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .org-center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #ccc;
    box-shadow: 3px 3px 3px #eee;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: visible;
    padding-top: 1.2em;
  }
  pre.src:before {
    display: none;
    position: absolute;
    background-color: white;
    top: -10px;
    right: 10px;
    padding: 3px;
    border: 1px solid black;
  }
  pre.src:hover:before { display: inline;}
  /* Languages per Org manual */
  pre.src-asymptote:before { content: 'Asymptote'; }
  pre.src-awk:before { content: 'Awk'; }
  pre.src-C:before { content: 'C'; }
  /* pre.src-C++ doesn't work in CSS */
  pre.src-clojure:before { content: 'Clojure'; }
  pre.src-css:before { content: 'CSS'; }
  pre.src-D:before { content: 'D'; }
  pre.src-ditaa:before { content: 'ditaa'; }
  pre.src-dot:before { content: 'Graphviz'; }
  pre.src-calc:before { content: 'Emacs Calc'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-fortran:before { content: 'Fortran'; }
  pre.src-gnuplot:before { content: 'gnuplot'; }
  pre.src-haskell:before { content: 'Haskell'; }
  pre.src-hledger:before { content: 'hledger'; }
  pre.src-java:before { content: 'Java'; }
  pre.src-js:before { content: 'Javascript'; }
  pre.src-latex:before { content: 'LaTeX'; }
  pre.src-ledger:before { content: 'Ledger'; }
  pre.src-lisp:before { content: 'Lisp'; }
  pre.src-lilypond:before { content: 'Lilypond'; }
  pre.src-lua:before { content: 'Lua'; }
  pre.src-matlab:before { content: 'MATLAB'; }
  pre.src-mscgen:before { content: 'Mscgen'; }
  pre.src-ocaml:before { content: 'Objective Caml'; }
  pre.src-octave:before { content: 'Octave'; }
  pre.src-org:before { content: 'Org mode'; }
  pre.src-oz:before { content: 'OZ'; }
  pre.src-plantuml:before { content: 'Plantuml'; }
  pre.src-processing:before { content: 'Processing.js'; }
  pre.src-python:before { content: 'Python'; }
  pre.src-R:before { content: 'R'; }
  pre.src-ruby:before { content: 'Ruby'; }
  pre.src-sass:before { content: 'Sass'; }
  pre.src-scheme:before { content: 'Scheme'; }
  pre.src-screen:before { content: 'Gnu Screen'; }
  pre.src-sed:before { content: 'Sed'; }
  pre.src-sh:before { content: 'shell'; }
  pre.src-sql:before { content: 'SQL'; }
  pre.src-sqlite:before { content: 'SQLite'; }
  /* additional languages in org.el's org-babel-load-languages alist */
  pre.src-forth:before { content: 'Forth'; }
  pre.src-io:before { content: 'IO'; }
  pre.src-J:before { content: 'J'; }
  pre.src-makefile:before { content: 'Makefile'; }
  pre.src-maxima:before { content: 'Maxima'; }
  pre.src-perl:before { content: 'Perl'; }
  pre.src-picolisp:before { content: 'Pico Lisp'; }
  pre.src-scala:before { content: 'Scala'; }
  pre.src-shell:before { content: 'Shell Script'; }
  pre.src-ebnf2ps:before { content: 'ebfn2ps'; }
  /* additional language identifiers per "defun org-babel-execute"
       in ob-*.el */
  pre.src-cpp:before  { content: 'C++'; }
  pre.src-abc:before  { content: 'ABC'; }
  pre.src-coq:before  { content: 'Coq'; }
  pre.src-groovy:before  { content: 'Groovy'; }
  /* additional language identifiers from org-babel-shell-names in
     ob-shell.el: ob-shell is the only babel language using a lambda to put
     the execution function name together. */
  pre.src-bash:before  { content: 'bash'; }
  pre.src-csh:before  { content: 'csh'; }
  pre.src-ash:before  { content: 'ash'; }
  pre.src-dash:before  { content: 'dash'; }
  pre.src-ksh:before  { content: 'ksh'; }
  pre.src-mksh:before  { content: 'mksh'; }
  pre.src-posh:before  { content: 'posh'; }
  /* Additional Emacs modes also supported by the LaTeX listings package */
  pre.src-ada:before { content: 'Ada'; }
  pre.src-asm:before { content: 'Assembler'; }
  pre.src-caml:before { content: 'Caml'; }
  pre.src-delphi:before { content: 'Delphi'; }
  pre.src-html:before { content: 'HTML'; }
  pre.src-idl:before { content: 'IDL'; }
  pre.src-mercury:before { content: 'Mercury'; }
  pre.src-metapost:before { content: 'MetaPost'; }
  pre.src-modula-2:before { content: 'Modula-2'; }
  pre.src-pascal:before { content: 'Pascal'; }
  pre.src-ps:before { content: 'PostScript'; }
  pre.src-prolog:before { content: 'Prolog'; }
  pre.src-simula:before { content: 'Simula'; }
  pre.src-tcl:before { content: 'tcl'; }
  pre.src-tex:before { content: 'TeX'; }
  pre.src-plain-tex:before { content: 'Plain TeX'; }
  pre.src-verilog:before { content: 'Verilog'; }
  pre.src-vhdl:before { content: 'VHDL'; }
  pre.src-xml:before { content: 'XML'; }
  pre.src-nxml:before { content: 'XML'; }
  /* add a generic configuration mode; LaTeX export needs an additional
     (add-to-list 'org-latex-listings-langs '(conf " ")) in .emacs */
  pre.src-conf:before { content: 'Configuration File'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.org-right  { text-align: center;  }
  th.org-left   { text-align: center;   }
  th.org-center { text-align: center; }
  td.org-right  { text-align: right;  }
  td.org-left   { text-align: left;   }
  td.org-center { text-align: center; }
  dt { font-weight: bold; }
  .footpara { display: inline; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  .org-svg { width: 90%; }
  /*]]>*/-->
</style>
<script type="text/javascript">
/*
@licstart  The following is the entire license notice for the
JavaScript code in this tag.

Copyright (C) 2012-2019 Free Software Foundation, Inc.

The JavaScript code in this tag is free software: you can
redistribute it and/or modify it under the terms of the GNU
General Public License (GNU GPL) as published by the Free Software
Foundation, either version 3 of the License, or (at your option)
any later version.  The code is distributed WITHOUT ANY WARRANTY;
without even the implied warranty of MERCHANTABILITY or FITNESS
FOR A PARTICULAR PURPOSE.  See the GNU GPL for more details.

As additional permission under GNU GPL version 3 section 7, you
may distribute non-source (e.g., minimized or compacted) forms of
that code without the copy of the GNU GPL normally required by
section 4, provided you include this license notice and a URL
through which recipients can access the Corresponding Source.


@licend  The above is the entire license notice
for the JavaScript code in this tag.
*/
<!--/*--><![CDATA[/*><!--*/
 function CodeHighlightOn(elem, id)
 {
   var target = document.getElementById(id);
   if(null != target) {
     elem.cacheClassElem = elem.className;
     elem.cacheClassTarget = target.className;
     target.className = "code-highlighted";
     elem.className   = "code-highlighted";
   }
 }
 function CodeHighlightOff(elem, id)
 {
   var target = document.getElementById(id);
   if(elem.cacheClassElem)
     elem.className = elem.cacheClassElem;
   if(elem.cacheClassTarget)
     target.className = elem.cacheClassTarget;
 }
/*]]>*///-->
</script>
</head>
<body>
<div id="org-div-home-and-up">
 <a accesskey="h" href="./index.html"> UP </a>
 |
 <a accesskey="H" href="../index.html"> HOME </a>
</div><div id="content">
<h1 class="title">Org 手册通读+翻译</h1>
<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#orgd631527">简介(Introduction)</a>
<ul>
<li><a href="#orgfc66197">安装(Installation)</a></li>
</ul>
</li>
<li><a href="#org30d94f9">文件结构(document structure)</a>
<ul>
<li><a href="#org99a2e9f">标题(Headlines)</a>
<ul>
<li><a href="#org03897a8"><span class="todo TODO">TODO</span> 跟读到 Clean View 这一部分后在这里做链接.</a></li>
<li><a href="#orgdb60a34"><span class="todo TODO">TODO</span> 动态标题编号,链接.</a></li>
</ul>
</li>
<li><a href="#org0c5c5d3">标题可视性切换(Visibility Cycling)</a>
<ul>
<li><a href="#org29d3f85">全局和部分切换(Global and local cycling)</a></li>
<li><a href="#orge96267f">初始的可视性(Initial visibility)</a></li>
<li><a href="#orgbeb5bcd">捕捉不经意的修改(Catching invisible edits)</a></li>
</ul>
</li>
<li><a href="#org24ffd07">跳转(Motion)</a></li>
<li><a href="#org32569b0">结构编辑(Structure Editing)</a></li>
<li><a href="#org3aa1667">稀疏树(Sparse Trees)</a></li>
<li><a href="#orgac6e7a0">简单列表(Plain Lists)</a></li>
<li><a href="#orga8968da">抽屉 (Drawers)</a>
<ul>
<li><a href="#org41f243e"><span class="todo TODO">TODO</span> <code>C-c C-z</code> 添加一个带时间戳的笔记到 <code>LOGBOOK</code> drawer. 写完这里,我执行了快捷键,在</a></li>
</ul>
</li>
<li><a href="#orgdcaca42">块结构 (Blocks)</a></li>
</ul>
</li>
<li><a href="#org669d3eb">表格(Tables)</a>
<ul>
<li><a href="#org4ee805f">内置表格编辑器(Built-in Table Editor)</a>
<ul>
<li><a href="#orgee284e5">创建和转化表格(Creation and conversion)</a></li>
<li><a href="#orgbb74b0f">重对齐和字段移动(re-align and field motion)</a></li>
<li><a href="#org2a64761">编辑列和行(Column and row editing)</a></li>
<li><a href="#orgf5e9f6c">区域操作(Regions)</a></li>
<li><a href="#org015371d">计算(Calculations)</a></li>
<li><a href="#orgad0f82b">杂项(Miscellaneous)</a></li>
</ul>
</li>
<li><a href="#org5111767">列宽和对齐(Column Width and Alignment)</a></li>
<li><a href="#org4649383">列组(Column Groups)</a></li>
<li><a href="#org2b67aa7">Orgtbl Mode</a></li>
<li><a href="#org2fc8e9d">电子表格(The Spreadsheet)</a>
<ul>
<li><a href="#org47848eb">引用(Reference)</a></li>
<li><a href="#org92ec114">Calc 的公式语法(Formula syntax for Calc)</a></li>
<li><a href="#orgeccbeea">Lisp 的公式语法(Formula syntax for Lisp)</a></li>
<li><a href="#org85aa94e">持续时间和时间值(Durations and time values)</a></li>
<li><a href="#orgd4156d2">字段和范围公式(Field and range formulas)</a></li>
<li><a href="#org73b431f">列公式(Column formulas)</a></li>
<li><a href="#orgd200374">查找函数(Lookup functions)</a></li>
<li><a href="#org4ce41a8">编辑和调试公式(Editing and debugging formulas)</a></li>
<li><a href="#org1be2f7c">更新表格(Updating the table)</a></li>
<li><a href="#orgc91f6eb">高级功能(Advanced features)</a></li>
</ul>
</li>
<li><a href="#org9647c24">Org 绘图(Org Plot)</a>
<ul>
<li><a href="#orgd351751">使用 Gnuplot 的图形绘图(Graphical plots using Gnuplot)</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#org420849e">超链接(Hyperlinks)</a>
<ul>
<li><a href="#org470fd50">链接格式(Link Format)</a></li>
<li><a href="#orgf8ec7d0">内部链接(Internal Links)</a></li>
<li><a href="#orgad728a9">无线电目标(Radio Targets)</a></li>
<li><a href="#orgd9e0da6">外部链接(External Links)</a></li>
<li><a href="#org1c9f110">处理链接(Handling Links)</a></li>
<li><a href="#orgcef6df1">Org 文件外部使用链接(Using Links Outside Org)</a></li>
<li><a href="#org1c76d97">链接缩写(Link Abbreviations)</a></li>
<li><a href="#org187fb66">搜索选项(Search Options)</a>
<ul>
<li><a href="#org618f1e9">文件链接的搜索选项(Search Options in File Links)</a></li>
</ul>
</li>
<li><a href="#orgcfc23f0">自定义搜索(Custom Searches)</a></li>
</ul>
</li>
<li><a href="#orgba6b5b5"><code>TODO</code> 条目(TODO Items)</a>
<ul>
<li><a href="#org4ebfd83"><code>TODO</code> 基础(TODO Basics)</a>
<ul>
<li><a href="#org23cd2d9">基本的 TODO 功能(Basic TODO Functionality)</a></li>
</ul>
</li>
<li><a href="#orgbf6bee8"><code>TODO</code> 扩展(TODO Extensions)</a>
<ul>
<li><a href="#orgf26e2da">工作流状态(Workflow states)</a></li>
<li><a href="#orga59eb14"><code>TODO</code> 类型(TODO types)</a></li>
<li><a href="#org2705d32">多套关键字(Multiple sets in one file)</a></li>
<li><a href="#org5d60da6">快速访问 TODO 状态(Fast access to TODO states)</a></li>
<li><a href="#org7addcaf">单文件关键字(Per-file keywords)</a></li>
<li><a href="#orge6c405a"><code>TODO</code> 关键字的外观(Faces for TODO keywords)</a></li>
<li><a href="#orge396b58"><code>TODO</code> 依赖项(TODO dependencies)</a></li>
</ul>
</li>
<li><a href="#org1028f87">进度记录(Progress Logging)</a>
<ul>
<li><a href="#orgaf5788a">关闭条目(Closing items)</a></li>
<li><a href="#orgcf65c81">跟踪待办状态改变(Tracking TODO state changes)</a></li>
<li><a href="#org64b706c">跟踪你的习惯</a></li>
</ul>
</li>
<li><a href="#org1cb8a29">优先级(Priorities)</a></li>
<li><a href="#orgfff7108">分解任务(Breaking Down Tasks)</a></li>
<li><a href="#org69099ec">复选框(Checkboxes)</a></li>
</ul>
</li>
<li><a href="#org13db3c6">标签(Tags)</a>
<ul>
<li><a href="#org858d0fa">标签继承(Tag Inheritance)</a></li>
<li><a href="#org3489332">设置标签(Setting Tags)</a></li>
<li><a href="#org1077f62">标签层级(Tag Hierarchy)</a></li>
<li><a href="#orgd61f10d">标签搜索(Tag Searches)</a></li>
</ul>
</li>
<li><a href="#org952a9c9">属性和列(Properties and Columns)</a>
<ul>
<li><a href="#org6016aa4">属性搜索(Property Searches)</a></li>
</ul>
</li>
<li><a href="#org08d8379">富文本的标记(Markup for Rich Contents)</a>
<ul>
<li><a href="#org9bb3976">创建脚注(Creating Footnotes)</a></li>
</ul>
</li>
<li><a href="#org54cda96">导出(Exporting)</a>
<ul>
<li><a href="#org64af773">The Export Dispatcher(The main interface.) 导出调度器</a></li>
<li><a href="#orgd48d5e9">HTML Export</a></li>
</ul>
</li>
<li><a href="#org0f90a80">捕获和附件(Capture and Attachments)</a>
<ul>
<li><a href="#orga0f743c">附件(Attachments)</a></li>
</ul>
</li>
<li><a href="#orgc0cf598"><span class="todo TODO">TODO</span> Unfinished task</a></li>
<li><a href="#org531de95">Questions &amp; Answers</a>
<ul>
<li><a href="#orgab5519c">orgmode '#STARTUP: hideblocks' doesn't work</a></li>
</ul>
</li>
<li><a href="#org1408836">Agenda Views</a>
<ul>
<li><a href="#org09c33e4">Weekly/daily agenda</a></li>
<li><a href="#org2f0bc3c">Agenda Commands</a></li>
</ul>
</li>
<li><a href="#org5baa8aa">Dates and Times</a>
<ul>
<li><a href="#orgbcdcbb7">创建时间戳(Creating Timestamps)</a></li>
</ul>
</li>
<li><a href="#org8b3525e">Conflicts</a></li>
</ul>
</div>
</div>

<div id="outline-container-orgd631527" class="outline-2">
<h2 id="orgd631527">简介(Introduction)</h2>
<div class="outline-text-2" id="text-orgd631527">
</div>
<div id="outline-container-orgfc66197" class="outline-3">
<h3 id="orgfc66197">安装(Installation)</h3>
</div>
</div>

<div id="outline-container-org30d94f9" class="outline-2">
<h2 id="org30d94f9">文件结构(document structure)</h2>
<div class="outline-text-2" id="text-org30d94f9">
<p>
Org 是一个大纲编辑器. 大纲让文件以层次结构组织文本,是一种很好的记录笔记和想法
的工具.层次结构的概述是以折叠的方式实现的,也就是隐藏文档的大部分内容,只展示大
致的文本结构和当前正在编辑(阅读)的部分. Org 将整个显示和隐藏的功能压缩到一个命
令: <code>org-cycle</code> 这极大地简化了大纲的使用,这个命令被绑定到 <code>&lt;TAB&gt;</code> 快捷键.
如果打开这个笔记的 org 形式源文件,将光标移动到标题上,按下 <code>&lt;TAB&gt;</code> ,就可以看到这
段文本都被隐藏,只显示这段内容的标题,
</p>
</div>

<div id="outline-container-org99a2e9f" class="outline-3">
<h3 id="org99a2e9f">标题(Headlines)</h3>
<div class="outline-text-3" id="text-org99a2e9f">
<blockquote>
<p>
这部分内容是关于如何排版 Org 标题树的.
</p>
</blockquote>
<p>
标题(Headlines) 定义了大纲树的结构.一个 Org 标题从行首(左边缘 left margin)开
始, 格式为一个或多个星号 <code>*</code> 再加上一个空格,后面跟标题名.
</p>
<pre class="example">
* Top level
** Second level
*** Third level
    some content
* Another top level headline
</pre>
<p>
<code>org-footnote-section</code> 这个变量的值是作为'关键字'的角色被保留的,其默认值一般都
是 "Footnotes", 这是用来做页脚的.不要用这个词作为标题名.
有些人觉得多个星号 <code>*</code> 会很烦,他们可能会希望能用多个空格做缩进,只用一个星号来表
示层级.这个需求可以通过Org Indent minro mode 实现.
</p>
</div>

<div id="outline-container-org03897a8" class="outline-4">
<h4 id="org03897a8"><span class="todo TODO">TODO</span> 跟读到 Clean View 这一部分后在这里做链接.</h4>
<div class="outline-text-4" id="text-org03897a8">
<p>
标题是没有编号的,但是可以动态的对他们进行部分或全部编号.更具体可以查看
Dynamic Headline Numbering 这一部分.
</p>
</div>
</div>

<div id="outline-container-orgdb60a34" class="outline-4">
<h4 id="orgdb60a34"><span class="todo TODO">TODO</span> 动态标题编号,链接.</h4>
<div class="outline-text-4" id="text-orgdb60a34">
<p>
一个标题子树内容中,最后一行的空白行会被当作该子树的一部分,在折叠时会被折叠.但如果
最后有超过两行的空行,在折叠后标题之间就会有一行空行被保留,用来构成折叠视图.
查看变量 <code>org-cycle-separator-lines</code> 来调整这个行为.
</p>

<p>
当光标位于标题上时,可以通过快捷键 <code>C-a</code> , <code>C-e</code> , <code>C-k</code> 来在层级间进行光标移动,具体
表现行为看这三个变量的配置 <code>org-special-ctrl-a/e</code> <code>org-special-ctrl-k</code>
<code>org-ctrl-k-protect-subtree</code> .
还要注意下, clocking (计时) 功能只在层级小于等于三十,也就是星号不多于30个的标
题下工作,超过30层级,这个功能就不能使用了.
</p>
</div>
</div>
</div>


<div id="outline-container-org0c5c5d3" class="outline-3">
<h3 id="org0c5c5d3">标题可视性切换(Visibility Cycling)</h3>
<div class="outline-text-3" id="text-org0c5c5d3">
<blockquote>
<p>
这部分是关于隐藏和显示 Org 大纲的.标题可视性就是标题的折叠状态.
</p>
</blockquote>
</div>
<div id="outline-container-org29d3f85" class="outline-4">
<h4 id="org29d3f85">全局和部分切换(Global and local cycling)</h4>
<div class="outline-text-4" id="text-org29d3f85">
<p>
大纲功能可以隐藏当前缓冲区的部分文本. Org 只用两个命令去改变缓冲区文本的可视
性,默认被绑定到 <code>&lt;TAB&gt;</code> 和 <code>S-&lt;TAB&gt;</code> 快捷键.
</p>

<ul class="org-ul">
<li><p>
<code>&lt;TAB&gt;</code> &#x2013; (<code>org-cycle</code>) 部分折叠:
</p>

<ul class="org-ul">
<li>TODO 在当前子树条目中循环切换可视状态.</li>
</ul>
<p>
折叠状态 -&gt; 显示子标题树 -&gt; 显示子树内容 -&gt; 折叠
</p>

<p>
光标必须要在标题上切换才起作用.配置 <code>org-cycle-emulate-tab</code> 变量可以配置快捷键
<code>&lt;TAB&gt;</code> 起作用的情况.
</p></li>

<li><p>
<code>&lt;S-TAB&gt;</code> 或者 <code>C-u &lt;TAB&gt;</code> &#x2013; (<code>org-global-cycle</code>) 全局折叠:
</p>

<p>
在整个缓冲区的内容中循环切换可视状态.
总览 -&gt; 层级内容 -&gt; 显示全部 -&gt; 总览.
</p>

<p>
当用数字前缀 N 调用全局切换时,视图内容会直接切换到第 N 层级.
</p>

<p>
当在表格(Tables)中使用全局切换快捷键时 <code>S-&lt;TAB&gt;</code> 会跳到上一格表格内容,而不是切
换标题的折叠状态.
</p>

<p>
如果光标在缓冲区最开始的地方,但是不在一个标题上,并且变量
<code>org-cycle-global-at-bob</code> 的值被设为非空(non-<code>nil</code>),那么此时使用 <code>&lt;TAB&gt;</code> 也能进行
全局的标题可视性切换.
</p></li>

<li><p>
<code>C-u C-u &lt;TAB&gt;</code> &#x2013; (<code>org-set-startup-visibility</code>) 初始折叠状态:
</p>

<p>
切换到缓冲区的初始可视状态.详情: Initial visibility
</p></li>

<li><p>
<code>C-u C-u C-u &lt;TAB&gt;</code> &#x2013; (<code>outline-show-all</code>) 展开全部:
</p>

<p>
展开全部内容,所有内容都不折叠,包括 drawers.
</p></li>

<li><p>
<code>C-c C-r</code> &#x2013; (<code>org-reveal</code>) 显示上下文:
</p>

<p>
显示光标附近的内容:当前条目,下面和上面的标题.这在使用了稀疏树(sparse tree)
命令或者日程(agenda) 命令时有用.加一个前缀参数使用,会展示每一层级的所有兄
弟标题.加上两个前缀参数,会展示上一层级标题的整个子树.
</p></li>

<li><p>
<code>C-c C-k</code> &#x2013; (<code>outline-show-branches</code>) 显示子树:
</p>

<p>
显示所有的子树的所有标题,不包括内容.
</p></li>

<li><p>
<code>C-c C-x b</code> &#x2013; (<code>org-tree-to-indirect-buffer</code>) 分屏显示:
</p>

<p>
打开一个新的缓冲区,展示当前的子树.
</p>

<p>
打开的这个新的缓冲区(indirect buffer)内容和当前缓冲区内容一致,但是会显示当
前条目的内容. 编辑这个新缓冲区会改变原缓冲区内容,但是不会影响原缓冲区的折
叠状态.
</p></li>

<li><p>
<code>C-c C-x v</code> &#x2013; (<code>org-copy-visible</code>) 复制可视内容:
</p>

<p>
将选中区域的文本内容复制到剪切板,默认情况下就算折叠了,对折叠后的大纲视图进
行复制操作,会将隐藏的内容一起复制,但用这个快捷键,可以只复制选中区域显示出
来的内容.
</p></li>
</ul>
</div>
</div>

<div id="outline-container-orge96267f" class="outline-4">
<h4 id="orge96267f">初始的可视性(Initial visibility)</h4>
<div class="outline-text-4" id="text-orge96267f">
<p>
当 Emacs 第一次打开一个 Org 文件时, 全局状态被设置为显示所有
('showeverything'), 也就是说,文件的所有内容都会被显示. 这个行为可以通过配置
<code>org-startup-folded</code> 变量改变,或者也可以在每个文件缓冲区的任意位置添加下面的某
一行代码进行配置.
</p>
<pre class="example">
#+STARTUP: overview
#+STARTUP: content
#+STARTUP: showall
#+STARTUP: showeverything
</pre>

<p>
此外,任意一个拥有 'VISIBILITY' 属性的条目也会相应地调整其可见性. 这个属性可选
的值有 <code>folded</code>, <code>children</code>, <code>content</code> 和 <code>all</code>
</p>

<ul class="org-ul">
<li><p>
<code>C-u C-u &lt;TAB&gt;</code> &#x2013; <code>(org-set-startup-visibility)</code>:
</p>

<p>
切换到该缓冲区最初始的折叠状态(初始可见性),初始可见性就是 startup 选项和
每个条目的 <code>VISIBILITY</code> 属性所设置任何折叠状态.
</p></li>
</ul>

<p>
当 <code>org-agenda-inhibit-startup</code> 参数非空时(non-<code>nil</code>), 如果第一次打开一个 agenda
文件, Org 不会遵守默认的可见性状态的设置(Speeding Up Your Agendas)
</p>
</div>

<ul class="org-ul">
<li><a id="org239f71b"></a><span class="todo TODO">TODO</span> Speeding Up Your Agendas 需要链接.<br /></li>
</ul>
</div>

<div id="outline-container-orgbeb5bcd" class="outline-4">
<h4 id="orgbeb5bcd">捕捉不经意的修改(Catching invisible edits)</h4>
<div class="outline-text-4" id="text-orgbeb5bcd">
<p>
有时候, 当无意识地编辑了缓冲区中不可视的内容时,会遇到不知道到底什么被编辑了
和怎么撤销错误的问题.
将 <code>org-catch-invisible-edits</code> 设置为非空(non-<code>nil</code>) 可以禁止编辑折叠的内容.阅读
这个变量的文档来查看 Org 是如何处理和捕获不可视的内容的编辑的.
</p>
</div>
</div>
</div>

<div id="outline-container-org24ffd07" class="outline-3">
<h3 id="org24ffd07">跳转(Motion)</h3>
<div class="outline-text-3" id="text-org24ffd07">
<blockquote>
<p>
这部分是关于跳转到其他标题的.
</p>
</blockquote>
<p>
下面这些命令能在缓冲区中跳转到其他的标题.
</p>

<ul class="org-ul">
<li><p>
<code>C-c C-n</code> &#x2013; <code>(org-next-visibile-heading)</code>:
</p>

<p>
跳转到下一个标题.
</p></li>

<li><p>
<code>C-c C-p</code> &#x2013; <code>(org-previous-visible-heading)</code>:
</p>

<p>
跳转到上一标题.
</p></li>

<li><p>
<code>C-c C-f</code> &#x2013; <code>(org-forward-heading-same-level)</code>:
</p>

<p>
跳转到同一层级的下一个标题.
</p></li>

<li><p>
<code>C-c C-b</code> &#x2013; <code>(org-backward-heading-same-level)</code>:
</p>

<p>
跳转到同一层级的上一个标题.
</p></li>

<li><p>
<code>C-c C-u</code> &#x2013; <code>(outline-up-heading)</code>:
</p>

<p>
跳转到上一层级的标题.
</p></li>

<li><p>
<code>C-c C-j</code> &#x2013; <code>(org-goto)</code>:
</p>

<p>
在不改变当前视图的折叠状态前提下跳转到其他地方.将文本结构在一个临时的缓冲区
里展示,在这个缓冲区里可以使用下面这些快捷键来找到要跳转的位置:
</p>
<ul class="org-ul">
<li><code>&lt;TAB&gt;</code>: 切换折叠状态.</li>
<li><code>&lt;DOWN&gt;</code> 或 <code>&lt;UP&gt;</code> : 下一个或上一个标题.</li>
<li><code>&lt;RET&gt;</code> ： 选择当前位置.</li>
<li><code>/</code> : 做稀疏树(Sparse-tree)查找,就是筛选内容.</li>
</ul>

<p>
如果关闭了 <code>org-goto-auto-isearch</code> 选项(将变量设置为 <code>nil</code>), 那么下面的快捷键也
可以在临时的缓冲区中使用:
</p>
<ul class="org-ul">
<li><code>n</code> 或 <code>p</code> : 下一个或上一个标题.</li>
<li><code>f</code> 或 <code>b</code> : 下一个或上一个同级标题.</li>
<li><code>u</code>      : 上个层级标题.</li>
<li><code>0</code> &#x2026; <code>9</code>: 数字参数.</li>
<li><code>q</code>      : 退出.</li>
</ul>

<p>
<code>org-goto</code> 的界面设置可以查看 <code>org-goto-interface</code> 变量的文档.
</p></li>
</ul>
</div>
</div>


<div id="outline-container-org32569b0" class="outline-3">
<h3 id="org32569b0">结构编辑(Structure Editing)</h3>
<div class="outline-text-3" id="text-org32569b0">
<blockquote>
<p>
这部分内容是如何改变标题的次序和层级.
</p>
</blockquote>
<ul class="org-ul">
<li><p>
<code>M-&lt;RET&gt;</code> &#x2013; <code>(org-meta-return)</code>:
</p>

<p>
插入新(同级)标题,新条目或新的一行.
</p>

<p>
如果光标在行首时使用这个命令,而且处于一个标题或普通列表项目范围内,那么就会
在当前行的上一行创建一个标题或列表项.如果一行文本不处于任何一个结构的范围,
就是一个没有缩进的普通行,当光标处于普通行的行首,使用这个命令,Org 会把这一行
转变为一个标题,标题层级和最近(向上查找)的标题层级相同.
</p>

<p>
当在一行的中间使用这个命令时,这一行会被分割,光标之前的内容不变,之后的内容会
被转换成一个新的列表项或者标题. 如果不想内容被分割,可以定制
<code>org-M-RET-may-split-line</code> 这个变量.
</p>

<p>
当加上一个 <code>C-u</code> 前缀使用这个命令时,会无条件地在当前的子树的之后插入一个新的
同级标题.当将上两个 <code>C-u</code> 前缀使用这个命令(<code>C-u C-u</code>) 时,会在当前子树的同级标题
的最后一个标题之后插入一个新的标题.
</p></li>

<li><p>
<code>C-&lt;RET&gt;</code> &#x2013; <code>(org-insert-heading-respect-content)</code>:
</p>

<p>
在当前子树的最后插入一个同级标题
</p></li>

<li><p>
<code>M-S-&lt;RET&gt;</code> &#x2013; <code>(org-insert-todo-heading)</code>:
</p>

<p>
插入一个新的,和当前标题同级的 TODO 项目. 更多详情参考
<code>org-treat-insert-todo-heading-as-state-change</code> 变量的文档.
</p></li>

<li><p>
<code>C-S-&lt;RET&gt;</code> &#x2013; <code>(org-insert-todo-heading-respect-content)</code>:
</p>

<p>
插入一个新的 TODO 标题项目, 项目层级和当前标题同级. 和 <code>C-&lt;RET&gt;</code> 类似,新的标
题会在当前标题之后插入
</p></li>

<li><p>
<code>&lt;TAB&gt;</code> &#x2013; <code>(org-cycle)</code>:
</p>

<p>
如果一个新的项目还没有任何内容,第一次按下 <code>&lt;TAB&gt;</code> 会降低当前项目的层级,第二次
会将层级提升,继续按可以一直提升到最高层级.提升到最高层级后再按 <code>&lt;TAB&gt;</code> 会回到
创建该项目时的初始层级.
</p></li>

<li><p>
<code>M-&lt;LEFT&gt;</code> &#x2013; <code>(org-do-promote)</code> 和 <code>M-&lt;RIGHT&gt;</code> &#x2013; <code>(org-do-demode)</code>:
</p>

<p>
直接提升或降低标题的层级
</p></li>

<li><p>
<code>M-S-&lt;LEFT&gt;</code> &#x2013; <code>(org-promote-subtree)</code>:
</p>

<p>
将当前标题以及其下的子标题的标题等级全都提升一级.
</p></li>

<li><p>
<code>M-S-&lt;RIGHT&gt;</code> &#x2013; <code>(org-demore-subtree)</code>:
</p>

<p>
将当前标题以及其下的子标题的标题等级全都降低一级.
</p></li>

<li><p>
<code>M-&lt;UP&gt;</code> &#x2013; <code>(org-move-subtree-up)</code>:
</p>

<p>
将当前子树的位置上移,就是和同级的上一个标题交换位置.
</p></li>

<li><p>
<code>M-&lt;DOWN&gt;</code> &#x2013; <code>(org-move-subtree-down)</code>:
</p>

<p>
将当前子树的位置下移,就是和同级的下一个标题交换位置.
</p></li>

<li><p>
<code>C-c @</code> &#x2013; <code>(org-mark-subtree)</code>:
</p>

<p>
标记当前所在子树.重复使用会标记同级的下一个子树.就是选中整个子树.
</p></li>

<li><p>
<code>C-c C-x C-w</code> &#x2013; <code>(org-cut-subtree)</code>:
</p>

<p>
剪切当前子树,就是将当前子树的内容从缓冲区中移除到剪切板.加上数字前缀 N 使用
可以移除包括当前子树在内的连续的 N 个子树.
</p></li>

<li><p>
<code>C-c C-x M-w</code> &#x2013; <code>(org-copy-subtree)</code>:
</p>

<p>
复制当前子树的内容到剪切板, 加上数字前缀参数 N 使用,会复制包括当前子树在内
的连续的 N 个子树.
</p></li>

<li><p>
<code>C-c C-x C-y</code> &#x2013; <code>(org-paste-subtree)</code>:
</p>

<p>
从剪切板中粘贴子树内容到光标位置. 这个操作会改变被粘贴的内容的层级结构,以便
其能够和粘贴位置的层级相对应. 粘贴的层级可以通过数字前缀参数来改变,也可以在
标题标记星号后面粘贴来决定层级,比如在 <code>****</code> 后面粘贴,粘贴内容层级会自动调整.
</p></li>

<li><p>
<code>C-y</code> &#x2013; <code>(org-yank)</code>:
</p>

<p>
这个命令的表现取决于两个变量: <code>org-yank-adjusted-subtrees</code> 和
<code>org-yank-folded-subtrees</code>,Org 的内置粘贴命令会像上一个命令一样智能的处理标题
的层级和折叠. 默认设置里,被粘贴出的内容不会改变层级,但是会被折叠起来,除非折
叠会影响到之前能看见的文本内容.与任何的前缀参数一起使用就会执行普通的粘贴命
令.
</p></li>

<li><p>
<code>C-c C-x c</code> &#x2013; <code>(org-clone-subtree-with-time-shift)</code>:
</p>

<p>
复制光标所在的子树项目,并打开一个对话输入需要粘贴的内容份数.而且这个命令还
可以指定项目中的时间戳如何变化. 比如在又一系列演讲需要准备时,这个命令就很有
用,创建第一个要准备的项目,然后复制多个,并调整时间. 更多细节可以查看
<code>org-clone-subtree-with-time-shift</code> 命令的文档.
</p></li>

<li><p>
<code>C-c C-w</code> &#x2013; <code>(org-refile)</code>:
</p>

<p>
将条目或区域重新安排到新的位置
</p></li>

<li><p>
<code>C-c ^</code> &#x2013; <code>(org-sort)</code>:
</p>

<p>
排序同级项目. 当有选中区域时,所有区域中的项目会被排序.没有选中区域,则当期那
标题的所有子标题都会被排序.这个命令会打开一个对话框,选择排序方法.
</p></li>

<li><p>
<code>C-x n s</code> &#x2013; <code>(org-narrow-to-subtree)</code>:
</p>

<p>
将当前缓冲区缩小到光标所在子树项目.像是专注模式一样.
</p></li>

<li><p>
<code>C-x n b</code> &#x2013; <code>(org-narrow-to-block)</code>:
</p>

<p>
将缓冲区缩小到光标所在块结构.
</p></li>

<li><p>
<code>C-x n w</code> &#x2013; <code>(widen)</code>:
</p>

<p>
取消缩小缓冲区的操作,回到原来的视图.
</p></li>

<li><p>
<code>C-c *</code> &#x2013; <code>(org-toggle-heading)</code>:
</p>

<p>
将普通行转化成标题,或者将标题转变成普通行.如有又选中区域,会将所有选中的行都
转变为标题.选中区域如果第一行是标题,那只会将选中区域全变成普通行,第一行是普
通行,那就将选中区域变成标题.
</p></li>
</ul>
</div>
</div>

<div id="outline-container-org3aa1667" class="outline-3">
<h3 id="org3aa1667">稀疏树(Sparse Trees)</h3>
<div class="outline-text-3" id="text-org3aa1667">
<blockquote>
<p>
上下文匹配内嵌内容.(稀疏表示是降低表示的复杂度,或者说是减少参数稀疏)这里我理解
的话就是通过正则等手段筛选符合条件的内容,隐藏不想看到的内容,只展示筛选的结果.
</p>
</blockquote>
<p>
Org mode 一个重要的特性就是可以构造稀疏树(Sparse Trees), 用来选择大纲树中的信
息,这让整个文档尽可能的折叠,只显示被选中的信息和信息的标题.只要试试就能很快直
到这个功能是干嘛用的了.
</p>

<p>
Org 有几个用来创建这样的树的命令,这些命令可以通过一个调度器来调用:
</p>

<ul class="org-ul">
<li><p>
<code>C-c /</code> &#x2013; <code>(org-sparse-tree)</code>:
</p>

<p>
这个快捷键打开一个对话,用来选择创建稀疏树的命令.
</p></li>

<li><p>
<code>C-c / r</code> 或 <code>C-c / /</code> &#x2013; <code>(org-occur)</code>:
</p>

<p>
提示输入正则表达式,并显示所有匹配的稀疏树.如果匹配的是标题,那就显示这个标题,如
果匹配的是内容,那内容和标题都会显示.每个匹配项都会被高亮显示,当缓冲区被编辑
命令修改时,或者按 <code>C-c C-c</code> 高亮会消失. 当和 <code>C-u</code> 前缀参数一起使用时,之前的高
亮会被保留,所以这个命令多次使用的结果可以叠加.
</p>

<p>
<code>C-c C-c</code> 高亮消失的行为取决于变量 <code>org-remove-highlights-with-change</code>.
</p></li>
<li><p>
<code>M-g n</code> 或 <code>M-g M-n</code> &#x2013; <code>(next-error)</code>:
</p>

<p>
跳到下一个稀疏树的匹配结果.
</p></li>

<li><p>
<code>M-g p</code> 或 <code>M-g M-p</code> &#x2013; <code>(previous-error)</code>:
</p>

<p>
跳到上一个稀疏树的匹配结果.
</p></li>
</ul>

<p>
对于经常使用的生成稀疏树的搜索字符串,可以用 <code>org-agenda-custom-commands</code> 变量来
定义快捷键得到指定的稀疏树. 这个变量中的命令可以通过日程调度器使用.例如:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="font-weight: bold;">setq</span> org-agenda-custom-commands
      '((<span style="font-style: italic;">"f"</span> occur-tree <span style="font-style: italic;">"FIXME"</span>)))
</pre>
</div>
<p>
上面的代码将按键 <code>f</code> 定义为创建 <code>FIXME</code> 稀疏树的快捷方式.
</p>

<p>
其他的基于 TODO 关键字,标签,或者是属性等的稀疏树命令会在之后讨论.
</p>

<p>
要打印稀疏树,可以使用 <code>ps-print-buffer-with-faces</code> 命令,这个命令不会打印文档被
折叠或隐藏的部分.或者也可以使用 <code>C-c C-e C-v</code> 只导出可见的部分,然后再打印导出的
文件.
</p>

<p>
稀疏树显示匹配结果附近的上下文多少可以用 <code>org-show-context-detail</code> 变量配置.
</p>
</div>
</div>
<div id="outline-container-orgac6e7a0" class="outline-3">
<h3 id="orgac6e7a0">简单列表(Plain Lists)</h3>
<div class="outline-text-3" id="text-orgac6e7a0">
<blockquote>
<p>
在一个标题条目中,额外的结构.
</p>
</blockquote>

<p>
在一个大纲树项目中,手动格式化的列表可以提供额外的结构. 这种额外结构提供了一种
创建复选框(Checkboxes)的方式.Org 支持编辑这类列表,并且每个导出器都能解析和格
式化他们.
</p>

<p>
Org 支持有序和无序列表,还支持 '描述'类型列表.
</p>
<ul class="org-ul">
<li>无序列表由 <code>+</code> , <code>-</code> ,或者 <code>*</code> 作为标示.</li>
</ul>

<ul class="org-ul">
<li>有序列表由数字开始跟着一个点号 <code>.</code> 或者右括号 <code>)</code>,例如 <code>1.</code> 或 <code>1)</code>.如果想要列表
以字母开始,可以配置变量 <code>org-list-allow-alphabetical</code>, 就可以使用诸如
<code>a.</code>, <code>A.</code> , <code>a)</code> 和 <code>A)</code> 这样的编号开头的列表.如果想用不同的数开始,例如: <code>20</code>,只
要在列表项的开头加上 <code>[@20]</code> 这样列表项就会自动变成以20开头的,而不管上一个
列表项的标号是多少.</li>
<li>描述型列表是无序列表,包含了分割符 <code>::</code> 用来区分列表内容和描述内容:

<dl class="org-dl">
<dt>描述列表</dt><dd>这个是描述列表,具体效果就是这样滴.</dd>
</dl></li>

<li><p>
各种列表的测试结果:
</p>
<ul class="org-ul">
<li>这是 <code>*</code> 列表项,在 Org 里表现为一个小圆点</li>
</ul>
<p>
注意列表项的标示不要混用,混用的话Org会同将其他标示转变为第一个标示符号.
</p>
<ol class="org-ol">
<li>这是有序列表的第一项.</li>
<li>上面说的不要混用指的是不要在同一层级 <code>+-*</code> 混用,同一层级只用一种标示就好
了.
<ul class="org-ul">
<li>这是一个 <code>+</code> 做标示的列表项,在Org里表现为一个箭头.</li>
</ul></li>
<li>再来一个 <code>-</code> 的无序列表:
<ul class="org-ul">
<li>这是一个 <code>-</code> 的无序列表项,Org里好象表现为大一点的减号,真的就大一点点.</li>
</ul></li>
</ol>
<p>
最后再来个描述型列表:
</p>
<dl class="org-dl">
<dt>描述型</dt><dd>这就是描述型的列表.</dd>
<dt>第二个</dt><dd>这是第二个描述型列表, 分割符 <code>::</code> 是需要与列表项的文本空格隔开
的,不要傻傻用 <code>- desc::blablabla</code> 这种.</dd>
<dt>导出效果</dt><dd>导出为html 的时候,这些无序列表的表现形式只会随层级变化,从实
心圆点到空心圆点到方块黑点等等,和在Org 里显示的无关.</dd>
<dt>用处</dt><dd>这个描述型列表刚好适用于手册里那么多命令和对应的描述,不用担心缩
进出错导致排版有问题,而且导出后排版还挺好的.</dd>
</dl></li>
</ul>


<p>
Org 支持这些列表的转化,填充和包裹操作的命令,也支持正确导出他们.因为缩进是
用来管理这些列表的,所以许多其他结构,例如 <code>#+BEGIN_</code> 代码块能够通过缩进来标
示他们从属于某一个特定的列表项.
</p>

<p>
如果发现在下级列表中使用不同的标示符对于可读性由帮助的话,可以定制变量
<code>org-list-demote-modify-bullet</code>. 这个变量自动将下级列表的标示符转化成设定好
的不同标示符. 如果想要列表项和其下级列表项的缩进更明显,可以定制
<code>org-list-indent-offset</code> 变量,将这个变量设置为比较大的数字比如4,这样在下级
列表项会在上级列表项的基础上缩进四个空格.
</p>

<p>
下面的命令在光标处于列表项的第一行,也就是有标示符或数字的那一行时起作用.其
中有一些命令会使用一些自动化规则,用来保证列表的结构完整.如果这些自动的行
为妨碍到你,可以配置 <code>org-list-automatic-rules</code> 变量来禁用这些行为.
</p>

<dl class="org-dl">
<dt><code>&lt;TAB&gt;</code> &#x2013; <code>(org-cycle)</code></dt><dd>列表项也可以像标题一样折叠.通常这只在光标处于列
表项上时起作用.更多细节参 考变量 <code>org-cycle-include-plain-lists</code> 文档. 当
这个变量被设置为 <code>integrate</code> 简单列表会被当作低等级的标题来处理.列表项的
等级由标示符或数字的缩进来决定.列 表项总是标题的下级,但列表项的等级结构
是分开保持的. 在一个没有文本的新列表 象上使用 <code>&lt;TAB&gt;</code> ,第一次按会将其降级
为原来的子项,再按会将回到原来等级,继续 按会一直提升层级一直到列表项的所
属的最高层级,最后回到原来的层级.</dd>
<dt><code>M-&lt;RET&gt;</code> &#x2013; <code>(org-insert-heading)</code></dt><dd>插入一个新的同级列表项. 和前缀参数一
起使用,会强制插入一个新的标题项.如果这个命令在项目中间使用,这个项目会被
分成两部分,第二部分会成为新的列表项.如果命令在项目内容的最前执行,新的项
目会在原项目之前创建.</dd>
<dt><code>M-S-&lt;RET&gt;</code></dt><dd>插入一个有复选框的列表项.</dd>
<dt><code>S-&lt;UP&gt; S-&lt;DOWN&gt;</code></dt><dd>跳转到当前列表的上一或下一项,但只有
<code>org-support-shift-select</code> 是 <code>nil</code> 才行.如果不为空,用 <code>C-&lt;UP&gt;</code> 和 <code>C-&lt;DOWN&gt;</code>
也能得到相似效果.</dd>
<dt><code>M-&lt;UP&gt; M-&lt;DOWN&gt;</code></dt><dd>调整当前列表项在同级列表中的顺序.</dd>
<dt><code>M-S-&lt;LEFT&gt; M-S-&lt;RIGHT&gt;</code></dt><dd>调整列表项的层级.</dd>
<dt><code>C-c C-c</code></dt><dd>如果列表项是复选框,那么这个命令切换复选框的状态.在其他情况下,检
查整个列表标示符和缩进的一致性.</dd>
<dt><code>C-c -</code></dt><dd>循环切换列表的不同标示符(<code>-,+,*,1.,1)</code>). 当和数字前缀参数 N 一起
使用时,选择切换列表中第 N 个列表项. 如果使用时有区域被选中,那选中区域的
所有行会被转变成列表项.当和前缀参数一起使用,会将所有选中区域转变成一个
列表项.如果选中区域的第一行已经是列表项了,那就会删除第一行的标示符.最后,即
使没有选中,光标所在的普通行也会被转变为一个列表项.(普通行是不属于任何结
构的一行文本)</dd>
<dt><code>C-c *</code></dt><dd>将列表项转变成标题项.</dd>
<dt><code>C-c C-*</code></dt><dd>将整个列表转变成当前标题的子树. 复选框被转变成 <code>TODO</code> 和
<code>DOWN</code> 对应复选框未勾选和已勾选.</dd>
<dt><code>S-&lt;LEFT&gt; S-&lt;RIGHT&gt;</code></dt><dd>这个命令也是切换列表标示类型的. 和 <code>C-c -</code> 效果相
同.</dd>
<dt><code>C-c ^</code></dt><dd>对列表排序.提示输入排序方法,按数字,字母,时间或自定义方法.</dd>
</dl>
</div>
</div>


<div id="outline-container-orga8968da" class="outline-3">
<h3 id="orga8968da">抽屉 (Drawers)</h3>
<div class="outline-text-3" id="text-orga8968da">
<ul class="org-ul">
<li>Note taken on <span class="timestamp-wrapper"><span class="timestamp">[2022-01-13 Thu 15:14] </span></span> <br />
快速记录一个带时间戳的笔记.</li>
</ul>
<blockquote>
<p>
把文本'藏'起来,当你想写一些与当前条目有关的信息,但通常不想看到这些信息时就可
以使用该功能.
</p>
</blockquote>
<p>
Drawers 能包括除了标题和另一个 drawer 之外的任何东西.例如:
</p>
<pre class="example">
** This is a headline
still outside the drawer
:DRAWERNAME:
This is inside the drawer.
:END:
After the drawer.
</pre>
<p>
通过命令 <code>org-insert-drawer</code> 或其绑定的快捷键 <code>C-c C-x d</code> 可以在当前光标位置插入
一个 drawer. 有选中区域时,这个命令会把整个区域都放到 drawer 内.加上前缀参数使
用,会变成调用 <code>org-insert-property-drawer</code> ,这个命令会在当前标题之下创建一个
<code>PROPERTIES</code> drawer 就是一个用来设置属性的 drawer.Org 用这种特殊的抽屉来存储属
性设置.抽屉关键词的补全可以使用 <code>M-&lt;TAB&gt;</code> 来提示,有的桌面环境将 <code>M-&lt;TAB&gt;</code> 设置为
切换窗口了,所以也可以用 <code>C-M-i</code> 或者 <code>&lt;ESC&gt; &lt;TAB&gt;</code> 来提示补全.
</p>

<p>
标题的折叠和展开不影响抽屉,抽屉总是会折叠成一行,除非当光标移动到抽屉那一行,再
使用 <code>&lt;TAB&gt;</code> 展开抽屉内容.
</p>

<p>
drawer 也可以用来记录状态变化的笔记和记录时间信息(<code>LOGBOOK</code> drawer).
</p>

<p>
如果想快速的记录一个笔记,有一个和记录状态信息类似的操作:
</p>
</div>

<div id="outline-container-org41f243e" class="outline-4">
<h4 id="org41f243e"><span class="todo TODO">TODO</span> <code>C-c C-z</code> 添加一个带时间戳的笔记到 <code>LOGBOOK</code> drawer. 写完这里,我执行了快捷键,在</h4>
<div class="outline-text-4" id="text-org41f243e">
<p>
抽屉这一小结添加了一条带时间戳的笔记,虽然文档里写的是导出到 <code>LOGBOOK</code> 抽屉,但
是实际操作后发现笔记没有记录到 <code>LOGBOOK</code> 类型的抽屉里, <code>Clocking Work Time</code>
的记录才是,这里只是添加一个列表项,带有时间戳和笔记内容而已,当然,也可能是我
认知的抽屉和文档的意思有差错,等看到更多相关内容之后再来看这里吧.导出后可以看看是啥效果,没看到就是默认
不支持这类文本的导出了.
</p>
</div>
</div>
</div>




<div id="outline-container-orgdcaca42" class="outline-3">
<h3 id="orgdcaca42">块结构 (Blocks)</h3>
<div class="outline-text-3" id="text-orgdcaca42">
<blockquote>
<p>
这部分讲可折叠的块结构.块结构可以用来容纳源代码,记录时间信息和其他许多功能.
</p>
</blockquote>
<p>
Org 用 <code>#+BEGIN ... #+END</code> 做源代码(<code>Literal Examples</code>),引用文本或时间记录
(<code>Clocking Work Time</code>)等多种用途.当光标在 <code>#+BEGIN</code> 行时可以用 <code>&lt;TAB&gt;</code> 进行折叠.
可以设置变量 <code>org-hide-block-startup</code> 来让块结构在一开始处于折叠或展开状态.也
可以在每个文件都设置 <code>#+STARTUP: hideblocks</code> 或 <code>#+STARTUP: nohideblocks</code> 来为每
个文件设置块结构的初始折叠状态.文件里的设置是会覆盖变量设置的.
</p>
</div>
</div>
</div>

<div id="outline-container-org669d3eb" class="outline-2">
<h2 id="org669d3eb">表格(Tables)</h2>
<div class="outline-text-2" id="text-org669d3eb">
<p>
Org 自带快速和直观的表格编辑器.电子表格程序类似的计算器功能通过使用 Emacs 的 Calc
</p>
<ul class="org-ul">
<li class="off"><code>[&#xa0;]</code> 包也是支持的(<code>GNU Emacs Calculator Manual</code>). 坑+1, 有空再看,感觉会很有用.</li>
</ul>
</div>


<div id="outline-container-org4ee805f" class="outline-3">
<h3 id="org4ee805f">内置表格编辑器(Built-in Table Editor)</h3>
<div class="outline-text-3" id="text-org4ee805f">
<blockquote>
<p>
简单表格.
</p>
</blockquote>
<p>
Org 能很容易的格式化纯 ASCII 格式的表格.任何一行以 <code>|</code> 作为第一个非空字符的行都
被视作一个表格的一部分. <code>|</code> 也是列分隔符. 此外,一行以 <code>|-</code> 开始的行是一个水平分割
线. 它将显示分割表格的行.在第一个水平分割线之前的所有行都是标题行. 一个表格可
能长这样:
</p>
<pre class="example">
| Name  | Phone | Age |
|-------+-------+-----|
| Peter |  1234 |  17 |
| Anna  |  4321 |  25 |
</pre>

<p>
在表格内部,每一次按 <code>&lt;TAB&gt;</code>, <code>&lt;RET&gt;</code> 或者 <code>C-c C-c</code> ,这个表格都会自动地被重新对
齐. <code>&lt;TAB&gt;</code> 也会移动到下一个字段, <code>&lt;RET&gt;</code> 会移动到下一行,如果光标在表格的最后一行
或者在分割线之前的行,那就会同时创建一个新的表格行.整个表格的缩进由表格的第一
行决定.水平分割线在每次对齐时都会自动填充为整个表格的宽度.所以,为了创建上面例
子的表格,只需要输入:
</p>
<pre class="example">
| Name  | Phone | Age |
|-
</pre>
<p>
然后按 <code>&lt;TAB&gt;</code> 键调整表格,开始填表.更快的做法是键入 <code>|Name|Phone|Age</code> 然后按 <code>C-c
   &lt;RET&gt;</code>.
</p>

<p>
当输入文本到表格中时, Org 将 <code>DEL</code> , <code>Backspace</code> 和所有的字符键都区别对待,从而使
插入和删除操作不会影响到其他字段.此外,在键入 <code>&lt;TAB&gt;</code> , <code>S-&lt;TAB&gt;</code> 或 <code>&lt;RET&gt;</code> 后,光标
会立即移动到下一个的字段,这个字段将自动变为空白.如果这个行为对你来说太不可预
测,可以配置变量 <code>org-table-auto-blank-field</code> 来禁用这一行为,实际操作发现,当移动
到下一字段,并且其中有内容,内容并不会被立即清除,只有键入新的内容之后才会被消除.
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="font-weight: bold;">setq</span> org-table-auto-blank-field t)
</pre>
</div>
</div>

<div id="outline-container-orgee284e5" class="outline-4">
<h4 id="orgee284e5">创建和转化表格(Creation and conversion)</h4>
<div class="outline-text-4" id="text-orgee284e5">
<dl class="org-dl">
<dt><code>C-c |</code> &#x2013; <code>(org-table-create-or-convert-from-region)</code></dt><dd>将选中区域转化为表格.
如果每行都包含至少一个 <code>&lt;TAB&gt;</code> 字符,这个方法会假定表格是由制表符分隔的,如果
每行都包含一个逗号(comma), 则假定是 CSV(comma-separated values) 格式的数据
转化成表格.如果都不是,那么将会用空白符来做分隔符转化成表格.也可以使用前缀
参数来强制指定分隔符: <code>C-u</code> 指定 CSV, <code>C-u C-u</code> 指定 <code>&lt;TAB&gt;</code>, <code>C-u C-u C-u</code> 请求输
入正则表达式来匹配分隔符, 而使用数字参数 N 表明使用至少 N 个连续的空白作为
分隔符,如果没有找到符合条件的空格,则使用 <code>&lt;TAB&gt;</code> 作为分隔符.
如果没有选中区域,这个命令会创建一个空的表格,但是像键入
<code>|Name|Phone|Age&lt;RET&gt;|-&lt;TAB&gt;</code> 或 <code>|Name|Phone|Age</code> 这种方法创建表格会更容易.</dd>
</dl>
</div>
</div>


<div id="outline-container-orgbb74b0f" class="outline-4">
<h4 id="orgbb74b0f">重对齐和字段移动(re-align and field motion)</h4>
<div class="outline-text-4" id="text-orgbb74b0f">
<dl class="org-dl">
<dt><code>C-c C-c</code> &#x2013; <code>(org-table-align)</code></dt><dd>重新排列表格,不移动光标.</dd>
<dt><code>&lt;TAB&gt;</code> &#x2013; <code>(org-table-next-field)</code></dt><dd>重排表格,并移动光标到下一字段,如果有必要
会创建新的一行.</dd>
<dt><code>C-c &lt;SPC&gt;</code>  &#x2013; <code>(org-table-blank-field)</code></dt><dd>将光标所在字段的内容变为空白.</dd>
<dt><code>S-&lt;TAB&gt;</code> &#x2013; <code>(org-table-previous-field)</code></dt><dd>重排表格,并移动光标到上一字段.</dd>
<dt><code>&lt;RET&gt;</code> &#x2013; <code>(org-table-next-row)</code></dt><dd>重排表格,并向下移动到下一行,如果有必要会
创建新的一行,在一行的最后或开头使用, <code>&lt;RET&gt;</code> 也会插入新的一行,所以也可以用来
分割表格.</dd>
<dt><code>M-a</code> &#x2013; <code>(org-table-beginning-of-field)</code></dt><dd>移动光标到当前表格字段的开头,或移
动光标到上一个字段.</dd>
<dt><code>M-e</code> &#x2013; <code>(org-table-end-of-field)</code></dt><dd>移动光标到当前表格字段的最后,或移动到下
一个字段.</dd>
</dl>
</div>
</div>



<div id="outline-container-org2a64761" class="outline-4">
<h4 id="org2a64761">编辑列和行(Column and row editing)</h4>
<div class="outline-text-4" id="text-org2a64761">
<dl class="org-dl">
<dt><code>M-&lt;LEFT&gt;</code> &#x2013; <code>(org-table-move-column-left)</code></dt><dd>将当前列左移.</dd>

<dt><code>M-&lt;RIGHT&gt;</code> &#x2013; <code>(org-table-move-column-right)</code></dt><dd>将当前列右移.</dd>

<dt><code>M-S-&lt;LEFT&gt;</code> &#x2013; <code>(org-table-delete-column)</code></dt><dd>删除当前列.</dd>

<dt><code>M-S-&lt;RIGHT&gt;</code> &#x2013; <code>(org-table-insert-column)</code></dt><dd>在光标当前位置插入新的一列,将
光标当前所在列右边的所有列都右移.就是在光标所在列的左边插入新的一列.</dd>

<dt><code>M-&lt;UP&gt;</code> &#x2013; <code>(org-table-move-row-up)</code></dt><dd>将光标所在行上移.</dd>

<dt><code>M-&lt;DOWN&gt;</code> &#x2013; <code>(org-table-move-row-down)</code></dt><dd>将光标所在行下移.</dd>

<dt><code>M-&lt;DOWN&gt;</code> &#x2013; <code>(org-table-move-row-down)</code></dt><dd>将光标所在行下移.</dd>

<dt><code>M-&lt;DOWN&gt;</code> &#x2013; <code>(org-table-move-row-down)</code></dt><dd>将光标所在行下移.</dd>

<dt><code>M-S-&lt;UP&gt;</code> &#x2013; <code>(org-table-kill-row)</code></dt><dd>删除当前行或水平分割线.</dd>

<dt><code>S-&lt;UP&gt;</code> &#x2013; <code>(org-table-move-cell-up)</code></dt><dd>将光标所在单元格与其相邻的上面一个单
元格交换位置.</dd>

<dt><code>S-&lt;DOWN&gt;</code> &#x2013; <code>(org-table-move-cell-down)</code></dt><dd>将光标所在单元格与其相邻的下面一
个单元格交换位置.</dd>

<dt><code>S-&lt;LEFT&gt;</code> &#x2013; <code>(org-table-move-cell-left)</code></dt><dd>将光标所在单元格与其相邻的左边的
一个单元格交换位置.</dd>

<dt><code>S-&lt;RIGHT&gt;</code> &#x2013; <code>(org-table-move-cell-right)</code></dt><dd>将光标所在单元格与其相邻的右边
一个单元格交换位置.</dd>

<dt><code>M-S-&lt;DOWN&gt;</code> &#x2013; <code>(org-table-insert-row)</code></dt><dd>在光标所在行的上面插入新的一行,如
果和前缀参数一起使用,就会在当前行的下一行插入新的一行.</dd>

<dt><code>C-c -</code> &#x2013; <code>(org-table-insert-hline)</code></dt><dd>在当前行的下一行插入水平分割线,加上前
缀参数一起使用,就会在当前行的上一行插入.</dd>

<dt><code>C-c &lt;RET&gt;</code> &#x2013; <code>(org-table-hline-and-move)</code></dt><dd>再当前行的下一行插入水平分割线,
并且移动光标到水平分割线的下一行.</dd>

<dt><code>C-c ^</code> &#x2013; <code>(org-table-sort-lines)</code></dt><dd>根据光标所在列对表格的行进行排序.光标所
在的列标示要用来排序的列,排序的范围为两个最近的分割线之间或者整个表格的行.如
果光标在第一列之前,会提示输入用来排序的列.如果有选中区域,选中标记指定第一
行和用来排序的列,而光标应该在最后一行需要进行排序操作的行.这个命令会提示输
入排序类型,按字母, 数字或时间进行排序.可以用正向或反向排序.也可以用自己提
供的排序关键字提取和比较的方法. 和前缀参数一起使用时,按字母排序是区分大小
写的.</dd>
</dl>
</div>
</div>


<div id="outline-container-orgf5e9f6c" class="outline-4">
<h4 id="orgf5e9f6c">区域操作(Regions)</h4>
<div class="outline-text-4" id="text-orgf5e9f6c">
<dl class="org-dl">
<dt><code>C-c C-x M-w</code> &#x2013; <code>(org-table-copy-region)</code></dt><dd>将表格的"矩形区域"选区复制到特殊的剪贴
板.如果没有选中区域,只复制当前单元格内的字段.这个操作无视水平分割线.</dd>

<dt><code>C-c C-x C-w</code> &#x2013; <code>(org-table-cut-region)</code></dt><dd>将表格的矩形区域复制到特殊的剪贴
板,并将区域中的字段清空.所以叫"剪切"操作.</dd>

<dt><code>C-c C-x C-y</code> &#x2013; <code>(org-table-paste-rectangle)</code></dt><dd>将矩形区域粘贴到表格中.矩形
区域的左上角在光标所在位置的字段内,所有包含在矩形区域的字段会被覆盖.如果矩
形区域和表格剩下的区域不合适,那表格会根据需要自动扩大.这个过程无视水平分割
线.</dd>

<dt><code>M-&lt;RET&gt;</code> &#x2013; <code>(org-table-wrap-region)</code></dt><dd>将表格从当前字段所在行分割.如果有选
中区域,而且光标和标记在同一列,那表格以选中区域的行数为最小宽度做分割.和数
字前缀参数一起使用可以指定最小分割宽度.如果没有选区,又使用了前缀参数,那当
前字段会被清除,其字段内容会被加到上边的字段里去.</dd>
</dl>
</div>
</div>

<div id="outline-container-org015371d" class="outline-4">
<h4 id="org015371d">计算(Calculations)</h4>
<div class="outline-text-4" id="text-org015371d">
<dl class="org-dl">
<dt><code>C-c +</code> &#x2013; <code>(org-table-sum)</code></dt><dd>将当前列或有选区定义的矩形区域的数字求和.求和
结果会在显示区域(echo area) 显示并且可以通过 <code>C-y</code> 粘贴.</dd>

<dt><code>S-&lt;RET&gt;</code> &#x2013; <code>(org-table-copy-down)</code></dt><dd>当前字段为空时,复制其上第一个非空字段
的值.当前字段非空时,将当前字段内容复制到下一行的同列字段,并将光标一并移动.基
于变量 <code>org-table-copy-increment</code> 的值,整数和时间戳字段,有数字前缀或后缀的字
段,会在复制过程中进行自增操作.此外,数字前缀参数 <code>0</code> 会暂时禁用自增操作.这个
快捷键同样会被移动选择(shift-selection) 和相关模式使用,具体见 <code>Conflicts</code>.</dd>
</dl>
</div>
</div>

<div id="outline-container-orgad0f82b" class="outline-4">
<h4 id="orgad0f82b">杂项(Miscellaneous)</h4>
<div class="outline-text-4" id="text-orgad0f82b">
<dl class="org-dl">
<dt><code>C-c `</code> &#x2013; <code>(org-table-edit-field)</code></dt><dd>打开一个独立窗口来编辑当前字段.这在字段
不是完全可见时很有用(见下节的 Column Width and Alignment). 当与前缀参数
<code>C-u</code> 一起使用,只会使字段完全可见. 当和 <code>C-u C-u</code> 一起使用,会使编辑器窗口一直
保持一个编辑当前字段的窗口.这个窗口在光标离开表格区域或者再次使用命令
<code>C-u C-u C-c `</code> 时自动消失.</dd>

<dt><code>M-x org-table-import</code></dt><dd>将文件导入成表格. 表格应该用制表符 <code>&lt;TAB&gt;</code> 或空白符
隔开.用法:可以从电子表格软件的表格或数据库中导入数据成表格,因为这些程序可
以导出制表符分隔的文本文件.这个命令也可以通过插入文件到缓冲区然后将区域转
换成表格时使用. 任何的前缀参数都会被传递给转换器,转换器用来决定分隔符.</dd>

<dt><code>C-c |</code> &#x2013; <code>(org-table-create-or-convert-from-region)</code></dt><dd>表格也可以用另一个方
式导入:复制表格式的文本到 Org 缓冲区,选择表格式文本区域,然后用 <code>C-c |</code> 命令
(详情见 <code>Creation and conversion</code>).TODO</dd>

<dt><code>M-x org-table-export</code></dt><dd>导出表格,默认导出为制表符分隔的文件.用来进行数据交
换,例如和电子表格程序或数据库程序进行数据交换.导出文件的格式可以通过配置
<code>org-table-export-default-format</code> 变量改变.也可以在子树中使用
<code>TABLE_EXPORT_FILE</code> 和 <code>TABLE_EXPORT_FORMAT</code> 属性来指定文件名和文件格式.Org 支
持导出表格到十分常见的格式.导出格式和 Orgtbl radio 表格使用的格式一致.更多
细节查看 <code>Translator functions</code> .TODO</dd>

<dt><code>M-x org-table-header-line-mode</code></dt><dd>当缓冲区中的表格的第一行不可见时,显示表
格的第一行数据,(效果待测). 可以将变量 <code>org-table-header-line-p</code> 设置为 <code>t</code>, 表
示默认开启这个副模式.</dd>

<dt><code>M-x org-table-transpose-table-at-point</code></dt><dd>颠倒表格(类似矩阵转置),并消除水
平分割线.</dd>

<dt class="off"><code>[&#xa0;]</code> 垂直线</dt><dd>往表格字段里插入垂直分割线,用 <code>\vert</code> 或在文本中间使用 <code>abc\vert{}def</code>.</dd>
</dl>
</div>
</div>
</div>



<div id="outline-container-org5111767" class="outline-3">
<h3 id="org5111767">列宽和对齐(Column Width and Alignment)</h3>
<div class="outline-text-3" id="text-org5111767">
<blockquote>
<p>
否定自动设置.
</p>
</blockquote>

<p>
表格的列宽是由表格编辑器自动决定的.列的对齐方式是由字段中数字类型和非数字类型
字段的决定的.
</p>

<p>
编辑字段内容可能会改变表格的对齐方式.移动连续的行或列(例如使用 <code>&lt;TAB&gt;</code> 或
<code>&lt;RET&gt;</code>) 会自动重新对齐表格.如果像禁用这一行为,可以将变量
<code>org-table-automatic-realign</code> 设置为 <code>nil</code>. 无论如何,总是可以通过 <code>C-c C-c</code> 快捷键
或命令 <code>(org-table-align)</code> 来手动对齐表格.
</p>

<p>
通过设置变量 <code>org-start-align-all-tables</code> 可以在打开文件时重新对齐文件中的表格.同
时也可以在每个文件中使用这两个选项来实现这一功能:
</p>
<pre class="example">
#+STARTUP: align
#+STARTUP: noalign
</pre>

<p>
有时候一个字段或几个字段需要包含比其他字段更多的文本,导致了很不方便的宽列.这
时候你可能想要隐藏一些行或将他们以固定宽度展示,忽视字段的内容,就像下面的例子:
</p>
<pre class="example">
|---+---------------------+--------|           |---+-------…+…|
|   | &lt;6&gt;                 |        |           |   | &lt;6&gt;   …|…|
| 1 | one                 | some   |   ----\   | 1 | one   …|…|
| 2 | two                 | boring |   ----/   | 2 | two   …|…|
| 3 | This is a long text | column |           | 3 | This i…|…|
|---+---------------------+--------|           |---+-------…+…|
</pre>

<p>
要设置列宽,可以在列的任何一个字段中键入字符串 <code>&lt;N&gt;</code> ,N 指定了宽度的字符个数.可
以用下面的命令控制列宽的显示:
</p>

<dl class="org-dl">
<dt><code>C-c &lt;TAB&gt;</code> &#x2013; <code>(org-table-toggle-column-width)</code></dt><dd>收缩或展开当前列. 如果指定
了列宽 W, 列会收缩到展示前 W 个可见字符,没指定,列会收缩到单个字符宽度.如果
在第一列之前或最后一列之后调用该命令,则会提示输入命令作用的列的范围(如:2-3)</dd>

<dt><code>C-u C-c &lt;TAB&gt;</code> &#x2013; <code>(org-table-shrink)</code></dt><dd>收缩所有设置了列宽的列,展开其他列.</dd>

<dt><code>C-u C-u C-c &lt;TAB&gt;</code> &#x2013; <code>(org-table-expand)</code></dt><dd>展开所有列.</dd>
</dl>

<p>
要像查看收缩字段的完整文本,可以将鼠标放在字段位置上,一个提示窗口会显示字段的
完整内容.或者,也可以使用 <code>C-h .</code> &#x2013; <code>(display-local-help)</code> 命令或快捷键来展现他们.为
了方便起见,任何在列的收缩部分的更改会自动将列展开.
</p>

<p>
设置选项 <code>org-startup-shrink-all-tables</code> 会在第一次打开文件时收缩所有设置了列宽
的列.同时也可以在每个文件设置选项: <code>#+STARTUP:shrink</code> 得到相同效果.
</p>

<p>
如果想要更改数字丰富列右对齐和文本丰富列左对齐的自动对齐设置.可以用类似的方式
使用 <code>&lt;r&gt;</code>, <code>&lt;c&gt;</code> 或 <code>&lt;l&gt;</code> 来指定对齐方式.同时也可以将对齐和列宽设置结合: <code>&lt;r10&gt;</code>.
</p>

<p>
只包含这些格式 <code>cookies</code> 的行会在导出到文本时被自动删除.
</p>

<p>
字段包含cookie 之外的文本的表格导出结果:
</p>
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-right" />

<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-right">&#xa0;</td>
<td class="org-left">&lt;6&gt;这一行包含格式cookie 之外的文本</td>
<td class="org-left">&lt;1&gt;</td>
</tr>

<tr>
<td class="org-right">9</td>
<td class="org-left">one</td>
<td class="org-left">some</td>
</tr>

<tr>
<td class="org-right">10</td>
<td class="org-left">two</td>
<td class="org-left">boring</td>
</tr>

<tr>
<td class="org-right">11</td>
<td class="org-left">Eg:This is a long text</td>
<td class="org-left">ccolumn</td>
</tr>
</tbody>
</table>

<p>
字段不包含cookie 之外的文本的表格导出结果:
</p>
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-right" />

<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-right">9</td>
<td class="org-left">one</td>
<td class="org-left">some</td>
</tr>

<tr>
<td class="org-right">10</td>
<td class="org-left">two</td>
<td class="org-left">boring</td>
</tr>

<tr>
<td class="org-right">11</td>
<td class="org-left">Eg:This is a long text</td>
<td class="org-left">ccolumn</td>
</tr>
</tbody>
</table>
</div>
</div>

<div id="outline-container-org4649383" class="outline-3">
<h3 id="org4649383">列组(Column Groups)</h3>
<div class="outline-text-3" id="text-org4649383">
<blockquote>
<p>
分组以触发(生成)竖线
</p>
</blockquote>
<p>
当Org 导出表格时,默认不使用竖直线,因为一般来讲,这在视觉上更令人满意.然而,竖直
线偶尔也很有用,可以用来将表格的列分组,就像水平分割线把行分组一样.为了指定列组,可
以使用特殊的一行,该行第一个字段只包含 <code>/</code>.更多的字段可以包含 <code>&lt;</code> 来表明此列是一个
组的开始, <code>&gt;</code> 表明此列是一个组的结束,或者是 <code>&lt;&gt;</code> (两个括号中间没有空格) 来表示这
一列就是单独的一个组.在导出时,列组之间的边界会用垂直线标记.下面是一个例子:
</p>
<pre class="example">

| N | N^2 | N^3 | N^4 | sqrt(n) | sqrt[4](N) |
|---+-----+-----+-----+---------+------------|
| / |  &lt;  |     |  &gt;  |       &lt; |          &gt; |
| 1 |  1  |  1  |  1  |       1 |          1 |
| 2 |  4  |  8  | 16  |  1.4142 |     1.1892 |
| 3 |  9  | 27  | 81  |  1.7321 |     1.3161 |
|---+-----+-----+-----+---------+------------|
#+TBLFM: $2=$1^2::$3=$1^3::$4=$1^4::$5=sqrt($1)::$6=sqrt(sqrt(($1)))
</pre>
<p>
导出的结果:
</p>
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-right" />
</colgroup>

<colgroup>
<col  class="org-right" />

<col  class="org-right" />

<col  class="org-right" />
</colgroup>

<colgroup>
<col  class="org-right" />

<col  class="org-right" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-right">N</th>
<th scope="col" class="org-right">N^2</th>
<th scope="col" class="org-right">N^3</th>
<th scope="col" class="org-right">N^4</th>
<th scope="col" class="org-right">sqrt(n)</th>
<th scope="col" class="org-right">sqrt[4](N)</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-right">1</td>
<td class="org-right">1</td>
<td class="org-right">1</td>
<td class="org-right">1</td>
<td class="org-right">1</td>
<td class="org-right">1</td>
</tr>

<tr>
<td class="org-right">2</td>
<td class="org-right">4</td>
<td class="org-right">8</td>
<td class="org-right">16</td>
<td class="org-right">1.4142</td>
<td class="org-right">1.1892</td>
</tr>

<tr>
<td class="org-right">3</td>
<td class="org-right">9</td>
<td class="org-right">27</td>
<td class="org-right">81</td>
<td class="org-right">1.7321</td>
<td class="org-right">1.3161</td>
</tr>
</tbody>
</table>
<blockquote>
<p>
如果发现每个列之间都有竖直线隔开,很可能就是因为导出时并不是使用了默认的导出
设置,额外添加了样式设置.但默认的导出到html <code>C-c C-e h o</code> 是使用默认设置的.
</p>
</blockquote>
<p>
事实上,只使用列组的开始标记 <code>&lt;</code> 也足以标记列组了:
</p>

<pre class="example">
| N | N^2 | N^3 | N^4 | sqrt(n) | sqrt[4](N) |
|---+-----+-----+-----+---------+------------|
| / | &lt;   |     |     | &lt;       |            |
</pre>
<p>
只使用 <code>&lt;</code> 标记:
</p>
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-right" />
</colgroup>

<colgroup>
<col  class="org-right" />

<col  class="org-right" />

<col  class="org-right" />
</colgroup>

<colgroup>
<col  class="org-right" />

<col  class="org-right" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-right">N</th>
<th scope="col" class="org-right">N^2</th>
<th scope="col" class="org-right">N^3</th>
<th scope="col" class="org-right">N^4</th>
<th scope="col" class="org-right">sqrt(n)</th>
<th scope="col" class="org-right">sqrt[4](N)</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-right">1</td>
<td class="org-right">1</td>
<td class="org-right">1</td>
<td class="org-right">1</td>
<td class="org-right">1</td>
<td class="org-right">1</td>
</tr>

<tr>
<td class="org-right">2</td>
<td class="org-right">4</td>
<td class="org-right">8</td>
<td class="org-right">16</td>
<td class="org-right">1.4142136</td>
<td class="org-right">1.1892071</td>
</tr>

<tr>
<td class="org-right">3</td>
<td class="org-right">9</td>
<td class="org-right">27</td>
<td class="org-right">81</td>
<td class="org-right">1.7320508</td>
<td class="org-right">1.3160740</td>
</tr>
</tbody>
</table>
</div>
</div>

<div id="outline-container-org2b67aa7" class="outline-3">
<h3 id="org2b67aa7">Orgtbl Mode</h3>
<div class="outline-text-3" id="text-org2b67aa7">
<blockquote>
<p>
将表格编辑器设置为副模式
</p>
</blockquote>
<p>
如果喜欢Org 表格编辑器的直观的工作方式,你可能也想在其他的文本模式或者邮件模式
中使用它.副模式 <code>orgtbl-mode</code> 能做到这一点.你始终可以用 <code>M-x orgtbl-mode</code> 开关这
一模式.想要它默认打开,例如在 <code>Message</code> 模式中默认打开,可以使用:
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp">(add-hook 'message-mode-hook 'turn-on-orgtbl)
</pre>
</div>
<p>
此外,通过一些特别的设置,可以使用Orgtbl 模式维护任意语法格式的表格.例如,可以使
用Orgtbl 模式的基础易用性和强大功能来构建LaTex 表格,包括电子表格功能.详情参考
<code>Tables in Arbitrary Syntax</code> 一节 TODO.
</p>
</div>
</div>


<div id="outline-container-org2fc8e9d" class="outline-3">
<h3 id="org2fc8e9d">电子表格(The Spreadsheet)</h3>
<div class="outline-text-3" id="text-org2fc8e9d">
<blockquote>
<p>
Org 表格编辑器有电子表格程序的功能
</p>
</blockquote>
<p>
表格编辑器利用Emacs的Calc包来实现类似电子表格程序的功能.编辑器可以计算Emacs
Lisp 公式,以从其他字段派生字段.尽管功能齐全,但是Org功能的实现和其他电子表格程
序不同.例如,Org 有 <code>列公式</code> 的概念,该公式可以应用于列中的所有非标题字段,而不需
要将公式复制到每个相关字段.还有一个公式调试器和公式编辑器,该编辑器有高亮表中
与公式中引用相关的字段的特性,可以通过方向键移动这些引用.
</p>
</div>
<div id="outline-container-org47848eb" class="outline-4">
<h4 id="org47848eb">引用(Reference)</h4>
<div class="outline-text-4" id="text-org47848eb">
<blockquote>
<p>
如何引用另一个字段或范围.
</p>
</blockquote>
<p>
要从表中其他字段计算字段,公式必须引用其他字段或字段范围.在Org中,字段可以通过
名字,绝对座标,和相对座标引用.要找出字段的座标是什么,当光标位于该字段时,按
<code>C-c ?</code> 或者是按 <code>C-c }</code> 切换显示网格.
</p>
</div>

<ul class="org-ul">
<li><a id="org720a711"></a>字段引用(Field references)<br />
<div class="outline-text-5" id="text-org720a711">
<p>
公式可以用两种方式引用其他字段中的值.和其他电子表格程序一样,你可以使用字母
和数字的组合像 <code>B3</code> 这样来引用字段,意思是第三行的第二个字段.然而,Org 更倾向使
用另一种更为通用的表示形式,像下面这样:
</p>
<pre class="example">
@ROW$COLUMN
</pre>
<blockquote>
<p>
Org 能理解 <code>B4</code> 的引用类型,但是它并不用这种语法来编辑表格.你可以通过配置变量
<code>org-table-use=standard-references</code> 来支持这种语法编辑表格.
</p>
</blockquote>

<p>
列的指定可以使用绝对定位例如 <code>$1</code>, <code>$2</code>, &#x2026;, <code>$N</code> 或是相对当前列的定位,也就是要
计算的字段所在的列,例如 <code>$+1</code> 或 <code>$-2</code>. <code>$&lt;</code> 和 <code>$&gt;</code> 分别是第一列和最后一列的固定引
用,你也可以使用 <code>$&gt;&gt;&gt;</code> 来指示右侧的第三列.
</p>

<p>
行的指定只从数据行开始计算,并且忽视水平分割线(或 <code>hlines</code>). 和列一样,也可以使
用绝对行数 <code>@1</code>, <code>@2</code> , &#x2026;, <code>@N</code> 和相对当前行的相对定位 <code>@+3</code>, <code>@-1</code>. <code>@&lt;</code> 和 <code>@&gt;</code> 分别
是第一行和最后一行的固定引用.你也可以指定相对于一个水平分割线的行: <code>@I</code> 引用
第一个水平分割线, <code>@II</code> 引用第二个水平分割线,等等. <code>@-I</code> 指的是当前行之上的第一
个水平分割线, <code>@+I</code> 指的是当前行之下的水平分割线.你也可以用 <code>@III+2</code> 来指定第三
个水平分割线之后的第二个数据行.
</p>

<p>
<code>@0</code> 和 <code>$0</code> 分别指的是当前的行和列.也就是要计算的字段的行/列.还有,如果你省略了
引用中行/列的部分,则默认使用当前的行/列.
</p>

<p>
Org 的无符号数字引用是固定引用,即如果在公式中对两个不同的字段使用相同的引用,则
每次引用相同的字段. Org 的有符号数字引用是不固定引用,因为相同的引用操作会根
据公式中正被计算的字段变化.这有一些例子:
</p>
<ul class="org-ul">
<li><code>@2$3</code> : 第2行第3列(<code>C2</code>).</li>
<li><code>$5</code> : 当前行第5列(<code>E&amp;</code>).</li>
<li><code>@2</code> : 当前列第2行.</li>
<li><code>@-1$-3</code> : 向上1行,向左3列的字段.</li>
<li><code>@-I$2</code> : 第2列,向上第一个分割线之下的第一行的字段.</li>
<li><code>@&gt;$5</code> : 最后一行,第5列的字段.</li>
</ul>
</div>
</li>


<li><a id="org5113c75"></a>范围引用(Range references)<br />
<div class="outline-text-5" id="text-org5113c75">
<p>
你可以通过指定两个用点 <code>..</code> 连接的字段引用来引用一个字段的矩形区域. 结束的字
段包含在引用范围之内. 如果两个字段都在当前行,你可以简单的使用 <code>$2..$7</code> ,但如
果至少有一个字段在不同行,你至少需要在第一个字段使用通用的 <code>@ROW$COLUMN</code> 格式,
也就是说引用必须以 <code>@</code> 开始以便能被正确理解.例子:
</p>

<ul class="org-ul">
<li><code>$1..$3</code> : 当前行的第1到第3列字段.</li>
<li><code>$P..$Q</code> : 使用列名的引用(查看高级特性 <code>Advanced features</code> 一节)</li>
<li><code>$&lt;&lt;&lt;..$&gt;&gt;</code> :从第3列开始,一直到最后一列.</li>
<li><code>@2$1..@4$3</code> :位于两个字段之间的九个字段(<code>A2..C4</code>)</li>
<li><code>@-1$-2..@-1</code> :从左边2列开始,到当前行之上的三个字段,</li>
<li><code>@I..II</code> : 第一和第二个水平分割线之间的字段, <code>@I..@II</code> 的简写.</li>
</ul>

<p>
范围引用返回值的向量,这个向量可以输入到 Calc 的向量函数.范围中的空字段通常
会被删除,所以向量中只包含非空字段.至于其他的模式开关 <code>E</code> , <code>N</code> 和示例的选项,参
见 <a href="#org92ec114">Calc 的公式语法(Formula syntax for Calc)</a>.也就是下一节.
</p>
</div>
</li>


<li><a id="org2fa1873"></a>公式中的字段座标(Field coordinates in formulas)<br />
<div class="outline-text-5" id="text-org2fa1873">
<p>
Calc 公式和 Lisp 公式在计算中的第一个行为是用当前计算结果要填充的字段的行或
列号替换公式中的 <code>@#</code> 和 <code>$#</code>.传统的 Lisp 公式结果是 <code>org-table-current-dline</code> 和
<code>org-table-current-column</code> 的,查看这两个方法的文档来获取详细信息.例子:
</p>

<dl class="org-dl">
<dt><code>if(@# % 2, $#, string(""))</code></dt><dd>在基数行插入列号,将偶数行字段设置为空.</dd>

<dt><code>$2 = '(identity remote(FOO, @@#$1))</code></dt><dd>将表格FOO 中每一行的第一列的文
本或值复制到当前表格的第二列中.</dd>

<dt><code>@3 = 2 * remote(FOO, @1$$#)</code></dt><dd>将表格FOO 中的第一行中的每一列的值的两
倍插入到当前表格的第三行.</dd>
</dl>

<p>
对于第二和第三个例子,表格 FOO 必须至少有和当前表格一样多的行或列.注意:这对大
量的行来说是无效的.因为表格FOO被解析为每个要被复制的字段,所以计算时间规模是
<code>O(N^2)</code>.<a href="https://www.gnu.org/software/emacs/manual/html_mono/org.html#References">info:org#References</a> 这里的翻译可能有问题,所以留下原手册链接.
</p>
</div>
</li>


<li><a id="org0160a7d"></a>名称引用(Named references)<br />
<div class="outline-text-5" id="text-org0160a7d">
<p>
<code>$name</code> 被解释为列,参数或常量的名字. 常量通过变量 <code>org-table-formula-constants</code>
全局范围内定义,通过这样一行在本地或文件范围内定义:
</p>
<pre class="example">
#+CONSTANTS: c=299792458. pi=3.14 eps=2.4e-6
</pre>
<p>
此外,属性也可以在表格里用作常量: 属性 <code>Xyz</code> 可以用 <code>$PROP_Xyz</code> 作为名称引用,属
性值会在当前大纲项目和其层级之上的项目中搜索. 如果你使用了 <code>constants.el</code> 包,
这个包也会用来处理常量,包括像普朗克常量 <code>$h</code> 这样的自然常量,像千米 <code>$km</code> 这样的
单位.这些都在下面的 高级特性里描述(<a href="#orgc91f6eb">高级功能(Advanced features)</a>) . 所有的名称都必须以字
母开始,剩下的由字母和数字组成.
</p>

<p>
文件 <code>constants.el</code> 能够用两种单位系统支持常量的值: <code>SI</code> 和 <code>cgs</code>. 使用哪一个单位
系统取决于变量 <code>constants-unit-system</code> 的值.你也可以用 <code>STARTUP</code> 选项 <code>constSI</code>
和 <code>constcgs</code> 来设置当前缓冲区中的这个值.
</p>
</div>
</li>

<li><a id="org5c4dea1"></a>外部引用(Remote references)<br />
<div class="outline-text-5" id="text-org5c4dea1">
<p>
你可以从当前文件甚至是从其他文件的不同的表格中引用常量,字段和范围.语法是:
</p>
<pre class="example">
remote(NAME,REF)
</pre>
<p>
<code>NAME</code> 可以是当前文件里,在表格之前的行中 <code>#+NAME:</code> 这样的行里设置的表格名,也可
以是一个条目的 <code>ID</code> ,即使是在不同的文件中,引用会指向该条目中的第一个表格.
<code>REF</code> 是一个像上面描述的绝对定位的字段或范围引用: <code>@3$3</code> 或 <code>$somename</code> 在引用的
表中有效的的表示.
</p>

<p>
当 <code>NAME</code> 有 <code>@ROW$COLUMN</code> 的格式时,这部分会被替换成当前表格的这个字段的名字或
ID. 例如 <code>remote($1, @@&gt;$2)</code> ⇒ <code>remote(year_2013, @@&gt;$1)</code>. <code>B3</code> 这种格式不被支持,
因为这种格式不能与一个表的名字或ID 区分开.
</p>
</div>
</li>
</ul>
</div>

<div id="outline-container-org92ec114" class="outline-4">
<h4 id="org92ec114">Calc 的公式语法(Formula syntax for Calc)</h4>
<div class="outline-text-4" id="text-org92ec114">
<blockquote>
<p>
用 <code>Calc</code> 来进行计算.
</p>
</blockquote>

<p>
一个公式可以是任何Emacs Calc 包理解的代数表达式. 注意 Calc 的 <code>/</code> 操作符有着非
标准的约定: <code>/</code> 的优先级低于 <code>*</code>, 所以 <code>a/b*c</code> 会被解释成 <code>(a/(b*c))</code>. 在 <code>calc-eval</code>
(Calling Calc from Your Lisp Programs(calc)TODO)执行的计算之前,变量会根据上面描
述的规则进行替换.
</p>

<p>
范围向量会直接输入到 Calc 的向量函数,比如 <code>vmean</code> 和 <code>vsum</code>.
</p>

<p>
一个公式可以在一个分号之后包含可选的模式字符串.这个字符串由在执行期间影响
Calc 和其他模式的标签组成.默认情况下,Org 使用标准的 Calc 模式(精度12,角单位
度,分数和符号模式关闭).然而,为了保持表格紧凑,显示的格式被改变成了 <code>(float
    8)</code>.默认的设置可以通过变量 <code>org-calc-default-modes</code> 配置.
模式字符串:
</p>

<dl class="org-dl">
<dt><code>p20</code></dt><dd>将 Calc 内部的计算精度设置为20位.</dd>

<dt><code>n3, s3, e2 , f4</code></dt><dd>Calc 传递回 Org 的结果的格式:普通,科学,工程或固定格
式.只要Calc 计算的精度够大,Calc 的格式在精度上是无限的.</dd>

<dt><code>D, R</code></dt><dd>Calc 的角度或弧度模式.</dd>

<dt><code>F, S</code></dt><dd>Calc 的小数和符号模式.</dd>

<dt><code>T, t, U</code></dt><dd>Calc 或 Lisp 的持续时间计算, 查看 <a href="#org85aa94e">持续时间和时间值(Durations and time values)</a>.</dd>

<dt><code>E</code></dt><dd>如何处理空字段.没有 <code>E</code> ,范围引用中的空字段会被删除,以便 Calc 向量或
Lisp 列表只包含非空字段.带上 <code>E</code> ,空字段会被保留.对于范围引用中的空字段或
者空的字段引用,值 <code>nan</code> (不是数字) 被用在 Calc 公式里, 空字符串被用在 Lisp
公式里.如果添加了 <code>N</code> 模式字符串,会在两种公式里使用数字 0.因为对于字段值,模式 <code>N</code> 比 <code>E</code>
有比模式 <code>E</code> 更高的优先级.</dd>

<dt><code>N</code></dt><dd>将所有的字段视为数字处理,对非数字视为 <code>0</code>.查看下一节来看看这在Lisp公
式里对计算有多重要.在 Calc 公式里,这个模式只是偶尔使用,因为即使没有 <code>N</code>,数
字字符串已经被解释为数字了</dd>

<dt><code>L</code></dt><dd>Literal, 只针对Lisp 公式,查看下一节 <a href="#orgeccbeea">Lisp 的公式语法(Formula syntax for Lisp)</a>.</dd>
</dl>

<p>
除非你要用很大的整数或高精度的计算而且要展示浮点数,你可能选择性的需要使用
<code>printf</code> 格式化指示符来重新格式化 Calcd 的传递回 Org 的计算结果,而不是让
Calc 进行格式化的工作. <code>printf</code> 重新格式化被限制在精度方面,因为传递给它的值
被转换成了整数或双精度浮点数.整数的大小通过截断有符号数到32位来限制,双精度
浮点数的精度被限制为64位,这大概保留了16位有效的十进制数.
</p>

<p>
一些例子:
</p>
<ul class="org-ul">
<li><code>$1+$2</code> : 将第一和第二个字段相加.</li>
<li><code>$1+$2;%.2f</code> : 和上面结果相同,但将结果格式化到两位十进制数.</li>
<li><code>exp($2)+exp($1)</code> : 数学函数也能使用.</li>
<li><code>$0;%.1f</code> : 重新格式化当前单元格到一位数.</li>
<li><code>($3-32)*5/9</code> : 温度华氏度到摄氏度的转换.</li>
<li><code>$c/$1/$cm</code> : Hz → cm 转换,使用了 <code>constants.el</code> 包.</li>
<li><code>tan($1);Dp3s1</code> : 计算角度,精度3,科学表示精度1.</li>
<li><code>sin($1);Dp3%.1e</code> : 和上面类似,但是用 <code>printf</code> 说明符指定显示格式.</li>
<li><code>vmean($2..$7)</code> : 用向量函数计算列范围的中值.</li>
<li><code>vmean($2..$7);EN</code> : 和上面类似,但是将空字段视为0.</li>
<li><code>taylor($3,x=7,2)</code> : 第三列的当x=7, 级数为2的泰勒级数.</li>
</ul>


<p>
Calc 页包含一套完整的逻辑操作.例如:
</p>

<dl class="org-dl">
<dt><code>if($1 &lt; 20, teen, string(""))</code></dt><dd>如果年龄 <code>$1</code> 小于 20,设置为 <code>teen</code>, 否则
Org 表格结果字段被设置为空字符串.</dd>
<dt><code>if("$1" == "nan" || "$2" == "nan", string(""), $1 + $2); E f-1</code></dt><dd>将前两列
相加. 如果至少有一个字段是空字段,Org 表格的结果字段会被设置为空. <code>E</code> 是为
了不将空字段转换为0而需要的. <code>f-1</code> 是Calc 的可选格式字符串,类似与 <code>%.1f</code> 但
是保留空结果为空.</dd>
<dt><code>if(typeof(vmean($1..$7)) == 12, string(""), vmean($1..$7); E</code></dt><dd>除非有任
何空字段,不然返回范围的中值. 范围中的每个空字段被 <code>nan</code> 替换,会使 <code>vmean</code> 的
结果为 <code>nan</code> .然后 <code>typeof() == 12</code> 是为了从 <code>vmean</code> 结果检测 <code>nan</code> 值.如果检测
到空值,表格的结果字段被设置为空.当样本集预计不存在缺失值时用这个例子.</dd>
</dl>
<div class="org-src-container">
<pre class="src src-emacs-lisp">(calc-eval <span style="font-style: italic;">"typeof(nan)"</span>)
</pre>
</div>
<dl class="org-dl">
<dt><code>if("$1..$7" == "[]", string(""), vmean($1..$7))</code></dt><dd>跳过空字段的范围的中值.在
范围内的每个空字段都会被跳过.当范围内所有字段都是空值时,中值是未定义的,Org
表格的结果字段也会被设置为空值.当样本集可以有一个可变的大小时使用.</dd>
<dt><code>vmean($1..$7); EN</code></dt><dd>完成之前的例子:范围的中值,将空字段按值0计数.当需要用
0填充不完全的样本集时使用这种.</dd>
</dl>

<p>
你可以用 Emacs Lisp 的 <code>defmath</code> 定义 Calc 函数,并将他们应用在Calc 的公式语法
中.
</p>
</div>
</div>

<div id="outline-container-orgeccbeea" class="outline-4">
<h4 id="orgeccbeea">Lisp 的公式语法(Formula syntax for Lisp)</h4>
<div class="outline-text-4" id="text-orgeccbeea">
<blockquote>
<p>
用 Emacs Lisp 写公式.
</p>
</blockquote>
<p>
用 Emacs Lisp 写公式也是可以的.如果 Calc 的功能不够的话,这在字符串操作和控制
结构时很有用.
</p>

<p>
如果一个公式由单引号加开括号开始(<code>'(</code>),这个公式被当作 Lisp 公式计算.计算结果会
返回字符串或数字.和 Calc 公式一样,你可以指定模式并在分号后使用 <code>printf</code> 格式化.
</p>

<p>
使用Emacs Lisp 公式,你需要了解字段插入到公式的方式.默认情况下,一个引用是作为
一个包含字段的Lisp 字符串被插入(用双引号包裹).如果使用了 <code>N</code> 模式开关,所有没有
数字的数字字段会被作为Lisp 数字0插入到公式(没有引号).如果使用了 <code>L</code> 标签,所有
字段会被不加引号地逐字插入.例如,如果你想要一个引用被Lisp 公式解释为字符串,将
引用操作符包裹在双引号中(<code>"$3"</code>).范围是作为空格分隔的字段被插入的,所以你可以将
他们嵌入到列表或向量语法中.
</p>

<p>
这里有一些当我们使用 <code>N</code> 模式的Lisp 计算的例子:
</p>
<dl class="org-dl">
<dt><code>'(concat (substring $1 1 2) (substring $1 0 1) (substring $1 2))</code></dt><dd>交换第
一行文本的前两个字符.</dd>

<dt><code>'(+ $1 $2);N</code></dt><dd>将第一和第二列相加,相当于 Calc 的 <code>$1+$2</code>.</dd>

<dt><code>'(apply '+ '($1..$4));N</code></dt><dd>计算第一到第四列的求和,就像Calc 的 <code>vsum($1..$4)</code></dd>
</dl>
</div>
</div>

<div id="outline-container-org85aa94e" class="outline-4">
<h4 id="org85aa94e">持续时间和时间值(Durations and time values)</h4>
<div class="outline-text-4" id="text-org85aa94e">
<blockquote>
<p>
如何计算持续时间和时间值.
</p>
</blockquote>
<p>
如果你想在Calc 公式或 Elisp 公式里计算时间值,使用 <code>T</code> , <code>t</code> 或 <code>U</code> 标示:
</p>
<pre class="example">
|  Task 1 |   Task 2 |    Total |
|---------+----------+----------|
|    2:12 |     1:47 |          |
|    2:12 |     1:47 |          |
| 3:02:20 | -2:07:00 |          |
#+TBLFM: @2$3=$1+$2;T::@3$3=$1+$2;U::@4$3=$1+$2;t

</pre>

<p>
计算结果:
</p>
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-right" />

<col  class="org-right" />

<col  class="org-right" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-right">Task 1</th>
<th scope="col" class="org-right">Task 2</th>
<th scope="col" class="org-right">Total</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-right">2:12</td>
<td class="org-right">1:471</td>
<td class="org-right">03:59:00</td>
</tr>

<tr>
<td class="org-right">2:12</td>
<td class="org-right">1:47</td>
<td class="org-right">03:59</td>
</tr>

<tr>
<td class="org-right">3:02:20</td>
<td class="org-right">-2:07:00</td>
<td class="org-right">0.92</td>
</tr>
</tbody>
</table>

<p>
输入持续时间值必须使用 <code>HH:MM[:SS]</code> 的格式,其中秒是可选的. 使用 <code>T</code> 标示,计算持
续时间值的结果用 <code>HH:MM:SS</code> 展示,上面例子的第一个公式.使用 <code>U</code> 标示,秒被略去,所
以结果只有 <code>HH:MM</code> ,上面例子的第二个公式.小时字段的零填充取决于变量
<code>org-table-duration-hour-zero-padding</code> 的值.
</p>

<p>
使用 <code>t</code> 标示,计算出的持续时间值会根据 <code>org-table-duration-custom-format</code> 变量的
值来展示, 默认的值是 <code>hours</code> ,即将结果展示为小时的小数形式,就是上面的第三个公
式的形式.
</p>

<p>
负数的持续时间值也可以被操作,整数在加和减的操作中被视作秒来计算.
</p>
</div>
</div>

<div id="outline-container-orgd4156d2" class="outline-4">
<h4 id="orgd4156d2">字段和范围公式(Field and range formulas)</h4>
<div class="outline-text-4" id="text-orgd4156d2">
<blockquote>
<p>
特定字段(字段范围)的公式.
</p>
</blockquote>
<p>
要将公式赋值给特定字段, 直接在字段里输入公式,放在 <code>:=</code> 之后.例如
<code>:=vsum(@II..III)</code>. 当光标在字段里时,按 <code>&lt;TAB&gt;</code> 或 <code>&lt;RET&gt;</code> 或 <code>C-c C-c</code>, 这个字段的
公式会被存储,计算,当前字段会被替换成计算结果.
</p>

<p>
公式会被存储到表格正下方的特殊关键字 <code>TBLFM</code> 里.如果你在表格第三个数据行的第四个字
段里输入公式,存储的公式会是像这样的: <code>@3$4=$1+$2</code>.当使用恰当的命令插入/删除/交
换 行或列的时候保存的公式里的绝对引用也会跟着改变,以便仍然指向相同的字段.要
想避免这一行为的发生,特别是在范围引用里,用表格边界固定范围(用 <code>@&lt;,@&gt;,$&lt;,$&gt;</code>)或
用水平分割线(<code>@I</code>)标记.如果使用普通的编辑命令修改表格的结构,公式里引用的自动调
整是不会发生的,你必须要自己调整公式.
</p>

<p>
你也可以使用下面的命令,而不是在字段中键入公式:
</p>

<dl class="org-dl">
<dt><code>C-u C-c =</code> &#x2013; <code>(org-table-eval-formula)</code></dt><dd>在当前字段插入新的公式.这个命令提
示输入默认取自 <code>TBLFM</code> 关键词的公式,并将其应用到当前字段,存储到 <code>TBLFM</code> 里. 公
式的左边也可以是赋值公式到若干其他字段的特殊表达式. 要添加这样的公式, 使用
公式编辑器或直接编辑 <code>TBLFM</code> 宽肩字,因为没有输入这样的公式的快捷键.</dd>

<dt><code>$2=</code></dt><dd>列公式,对整个列有效. 因为这种用法的需求很常见,所以Org 将这一类公式
特殊处理,详情见下面 Column formulas 一节.</dd>

<dt><code>@3=</code></dt><dd>行公式,应用到指定行的所有字段. <code>@&gt;=</code> 意味着最后一行.</dd>

<dt><code>@1$2..@4$3=</code></dt><dd>范围公式,应用到给定矩形范围的所有字段. 这也可以用来给一行中
的某些单不是所有字段赋值.</dd>

<dt><code>$NAME=</code></dt><dd>命名字段,详情查看高级功能(Advanced features).</dd>
</dl>
</div>
</div>

<div id="outline-container-org73b431f" class="outline-4">
<h4 id="org73b431f">列公式(Column formulas)</h4>
<div class="outline-text-4" id="text-org73b431f">
<blockquote>
<p>
对整列有效的公式.
</p>
</blockquote>
<p>
当将公式给简单的列引用(<code>$3=</code>)赋值时,相同的公式会被应用到那一列的所有字段,但有
以下非常方便的例外情况:(i) 如果表格的上面和下面的行包括了水平分割线,在第一个
水平分割线之前的所有行都被视为表头,表头不会被列公式改变.因此当你使用了列公式
并系那个要用水平分割线将行分组时,表头时必须有的.例如,将底部的合计行与上面的
汇总行分开. (ii) 那些已经由字段/范围公式赋值的字段,列公式也不会进行赋值.这些
条件使得列公式非常容易使用.
</p>

<p>
要用公式给一列赋值,直接在列中任意字段输入跟在一个等号后面的公式,例如
<code>=$1+$2</code>.当光标仍在字段中时,你按 <code>&lt;TAB&gt;</code> 或 <code>&lt;RET&gt;</code> 或 <code>C-c C-c</code> ,对当前列的公式会被
保存,当前字段会被公式的计算结果替换.如果字段里只有 <code>=</code> ,那么之前保存的这一列的
公式会被使用.对每一列来讲说,Org 只会记得最近使用的公式.在 <code>TBLFM</code> 关键字里,列
公式就像 <code>$4=$1+$2</code> 这样.列公式的左边不能是列的名字,必须是数字形式的列引用或 <code>$&gt;</code>
</p>

<p>
你也可以使用下面的命令,而不是在字段中输入公式:
</p>
<dl class="org-dl">
<dt><code>C-c =</code> &#x2013; <code>(org-table-eval-formula)</code></dt><dd>为当前列插入新的公式,并将当前字段都替
换成公式的结果. 命令会提示输入一个公式,默认公式是从 <code>TBLFM</code> 里取出的上一次应
用并保存的公式,然后会将公式应用到当前字段并保存.当结合数字前缀参数使用,例
如 <code>C-5 C-c =</code>,命令会将公式应用到当前列的前5个连续字段.</dd>
</dl>
</div>
</div>

<div id="outline-container-orgd200374" class="outline-4">
<h4 id="orgd200374">查找函数(Lookup functions)</h4>
<div class="outline-text-4" id="text-orgd200374">
<blockquote>
<p>
用于搜索表格的查找函数.
</p>
</blockquote>

<p>
Org 有三个预定义的 Emacs Lisp 函数,用来在表格中进行查找.
</p>

<dl class="org-dl">
<dt><code>(org-lookup-first VAL S-LIST R-LIST &amp;optional PREDICATE)</code></dt><dd>在 S-LIST 里查
找符合 (PREDICATE VAL S) 的第一个元素 S ; 返回列表 R-LIST 里对应位置
的值. 默认的 PREDICATE(断言)是 <code>equal</code>. 要注意的是, VAL 和 S 是按照他们出现
的顺序传递到 PREDICATE 里的.如果 R-LIST 是 <code>nil</code> 那么就会返回 S-LIST 里匹配
的元素 S.</dd>

<dt><code>(org-lookup-last VAL S-LIST R-LIST &amp;optional PREDICATE)</code></dt><dd>和上面类似,但是
是查找符合条件的最后一个元素 S.</dd>

<dt><code>(org-lookup-all VAL S-LIST R-LIST &amp;optional PREDICATE)</code></dt><dd><p>
和查找第一个元素
类似,但是是查找所有符合条件的元素,并且返回所有相应的值.这个函数在公式里不
能单独使用,因为它返回的是一个值列表.然而,这个函数和其他 Emacs Lisp 函数结
合起来可以构建强大的查找功能.
</p>

<p>
如果这些函数里使用的范围包含空字段,公式的 <code>E</code> 模式通常需要被指定,不然的话空
字段不会在S-LIST 或 R-LIST 里包括的,这就可能导致函数结果返回错误的从
R-LIST 到 S-LIST的相关映射.
</p>

<p>
这三个函数可以用于实现关联数组,计数匹配单元格,排序结果,组合数据等.有关实际
的例子,请查看Worg 的教程:
(<a href="https://orgmode.org/worg/org-tutorials/org-lookups.html">https://orgmode.org/worg/org-tutorials/org-lookups.html</a>)
</p></dd>
</dl>
</div>
</div>

<div id="outline-container-org4ce41a8" class="outline-4">
<h4 id="org4ce41a8">编辑和调试公式(Editing and debugging formulas)</h4>
<div class="outline-text-4" id="text-org4ce41a8">
<blockquote>
<p>
修正公式.
</p>
</blockquote>
<p>
你可以在minibuffer里编辑单个公式,也可以直接在字段里编辑公式. Org 还可以为一
个表格的所有有效公式准备一个特殊的缓冲区.在提供公式进行编辑时,如果可能, Org
会将引用转换成标准格式(如 <code>B3</code> 或 <code>D&amp;</code>). 如果你更喜欢只使用内部的格式(如 <code>@3$2</code>
或 <code>$4</code>),配置变量 <code>org-table-use-standard-references</code>
</p>

<dl class="org-dl">
<dt><code>C-c =</code> 或 <code>C-u C-c =</code> &#x2013; <code>(org-table-eval-formula)</code></dt><dd>在minibuffer里编辑与当前
列/字段关联的公式. 查看 <code>Column formulas</code> 和 <code>Field and range formula</code> 部分.</dd>

<dt><code>C-u C-u C-c =</code> &#x2013; <code>(org-table-eval-formula)</code></dt><dd>将有效公式(字段公式或列公式)
重新插入到当前字段,以便你可以直接在字段中编辑它.和在minibuffer 里编辑相比,
它的优点是可以使用 <code>C-c ?</code> 命令.</dd>

<dt><code>C-c ?</code> &#x2013; <code>(org-table-field-info)</code></dt><dd>当在表格字段里编辑一个公式时,高亮显示
公式中光标位置的引用所引用的字段.</dd>

<dt><code>C-c }</code> &#x2013; <code>(org-table-toggle-coordinate-overlays)</code></dt><dd>切换以覆盖方式显示的表
格的行号和列号.每次表格重新对齐时,显示会被更新;你也可以使用 <code>C-c C-c</code> 强制更
新.</dd>

<dt><code>C-c {</code> &#x2013; <code>(org-table-toggle-formula-debugger)</code></dt><dd>切换表格编辑器的开关.更多
信息查看下面的内容.</dd>

<dt><code>C-c '</code> &#x2013; <code>(org-table-edit-formulas)</code></dt><dd>在特殊的缓冲区编辑当前表格的所有公式,缓
冲区里每行一个公式.如果当前字段有一个有效公式,公式编辑器会用光标标记该公式.在
这个特殊缓冲区里,Org 会自动高亮光标位置的任意字段或范围的引用.你可以用下面
命令编辑,删除和添加公式:
<dl class="org-dl">
<dt><code>C-c C-c</code> 或 <code>C-x C-s</code> &#x2013; <code>(org-table-field-finish)</code></dt><dd>退出公式编辑器并保存公
式修改.加上 <code>C-u</code> 前缀使用,会同时将新公式应用到整个表格.</dd>

<dt><code>C-c C-q</code> &#x2013; <code>(org-table-fedit-abort)</code></dt><dd>退出公式编辑器,并丢弃更改.</dd>

<dt><code>C-c C-r</code> &#x2013; <code>(org-table-fedit-toggle-ref-type)</code></dt><dd>在公式编辑器里切换引用的
标准(<code>B3</code>) 和内部(<code>@3$2</code>) 格式.</dd>

<dt><code>&lt;TAB&gt;</code> &#x2013; <code>(org-table-fedit-lisp-indent)</code></dt><dd>美化光标处的显示或缩进.当一行
里有一个Lisp 公式时,根据Emacs Lisp 规则格式化表格.再次使用 <code>&lt;TAB&gt;</code> 会将公
式还原.在打开的公式中, <code>&lt;TAB&gt;</code> 会像在 Emacs Lisp 模式里一样重新缩进.</dd>

<dt><code>M-&lt;TAB&gt;</code> &#x2013; <code>(lisp-complete-symbol)</code></dt><dd>补全Lisp symbols, 就像在 Emacs Lisp
模式里一样.</dd>

<dt><code>S-&lt;UP&gt;,S-&lt;DOWN&gt;,S-&lt;LEFT&gt;,S-&lt;RIGHT&gt;</code></dt><dd>调整光标处的引用.一如,如果引用是
<code>B3</code> 然后你按了 <code>S-&lt;RIGHT&gt;</code> ,引用会变成 <code>C3</code>. 这种调整对相对定位的引用和水平分
割线的引用也有效.</dd>

<dt><code>M-S-&lt;UP&gt;</code> &#x2013; <code>(org-table-fedit-line-up)</code></dt><dd>将列公式的测试行在Org文件缓冲区
里上移.</dd>

<dt><code>M-S-&lt;DOWN&gt;</code> &#x2013; <code>(org-table-fedit-line-down)</code></dt><dd>将Org文件缓冲区里的列公式的
测试行下移.</dd>

<dt><code>M-&lt;UP&gt;</code> &#x2013; <code>(org-table-fedit-scroll-up)</code></dt><dd>将显示表格的窗口上移.</dd>

<dt><code>M-&lt;DOWN&gt;</code> &#x2013; <code>(org-table-fedit-scroll-down)</code></dt><dd>将显示表格的窗口下移</dd>

<dt><code>C-c }</code></dt><dd>关掉表格的座标网格.</dd>
</dl></dd>
</dl>


<p>
清空一个表格的字段内容不会删除相关字段的公式,因为公式是存储在不同的一行
<code>TBLFM</code> 关键字行里的. 在下一次重新计算时,这个字段会被重新填充.要删除一个字段的
公式,你必须在提示输入公式时给定一个空的值,或者在 <code>TBLFM</code> 关键词里编辑.
你可以直接在 <code>TBLFM</code> 关键词里编辑然后在那一行使用 <code>C-c C-c</code> 或在表格里使用普通的
重计算命令来应用这些更改过的公式.
</p>
</div>




<ul class="org-ul">
<li><a id="org48bd01e"></a>使用多个 <code>TBLFM</code> 行(Using multiple TBLFM lines)<br />
<div class="outline-text-5" id="text-org48bd01e">
<p>
你可能想要暂时应用某个公式. 这在你想要切换应用到表格里的公式时很有用.将多个
<code>TBLFM</code> 关键词直接放在表格之后,然后在公式上按 <code>C-c C-c</code>. 下面是使用的例子:
</p>
<pre class="example">

| x | y |
|---+---|
| 1 |   |
| 2 |   |
#+TBLFM: $2=$1*1
#+TBLFM: $2=$1*2
</pre>
<p>
当光标在 <code>#+TBLFM: $2=$1*2</code> 一行时,按 <code>C-c C-c</code>:
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-right" />

<col  class="org-right" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-right">x</th>
<th scope="col" class="org-right">y</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-right">1</td>
<td class="org-right">2</td>
</tr>

<tr>
<td class="org-right">2</td>
<td class="org-right">4</td>
</tr>
</tbody>
</table>

<p>
如果你使用 <code>C-u C-c *</code> 重新计算表格,还是上面的例子,你会得到只应用第一个 <code>TBLFM</code>
关键词的结果:
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-right" />

<col  class="org-right" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-right">x</th>
<th scope="col" class="org-right">y</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-right">1</td>
<td class="org-right">1</td>
</tr>

<tr>
<td class="org-right">2</td>
<td class="org-right">2</td>
</tr>
</tbody>
</table>
</div>
</li>

<li><a id="org8569eb3"></a>调试公式(Debugging formulas)<br />
<div class="outline-text-5" id="text-org8569eb3">
<p>
当公式的计算发生了错误时,字段的内容会变成字符串 "#ERROR". 如果你想查看在变
量替换和计算的过程中发生了什么,以便找出bug, 在Tbl 菜单里打开公式调试,然后重
新计算,例如,在字段里按 <code>C-u C-u C-c = &lt;RET&gt;</code>. 详细的信息就会显示出来.
(menu-bar-mode 1)
</p>
</div>
</li>
</ul>
</div>

<div id="outline-container-org1be2f7c" class="outline-4">
<h4 id="org1be2f7c">更新表格(Updating the table)</h4>
<div class="outline-text-4" id="text-org1be2f7c">
<blockquote>
<p>
重新计算所有相关字段.
</p>
</blockquote>

<p>
表格的重新计算通常不是自动进行的,这一过程需要某个命令来触发. 要使重新计算至
少半自动,查看高级功能部分.
</p>

<p>
要重新计算表格的一行或整个表格,使用下面的命令:
</p>

<dl class="org-dl">
<dt><code>C-c *</code> &#x2013; <code>(org-table-recalculate)</code></dt><dd>通过先从左到右应用存储的列公式,然后再应用
字段或范围公式到当前的行来重新计算当前行.</dd>

<dt><code>C-u C-c *</code> 或 <code>C-u C-c C-c</code></dt><dd>一行一行地重新计算整个表格,任何在第一个水平分
割线之前的行都不受影响,因为这些行被视作表头的一部分.</dd>

<dt><code>C-u C-u C-c *</code> 或 <code>C-u C-u C-c C-c</code> &#x2013; <code>(org-table-iterate)</code></dt><dd>通过重新计算表
格,直到有新的变化生成来迭代表格.如果有些要计算的字段需要使用在计算序列中靠
后计算的其他字段的值时,则可能需要这样做.</dd>

<dt><code>M-x org-table-recalculate-buffer-tables</code></dt><dd>重新计算当前缓冲区中所有表格.</dd>

<dt><code>M-x org-table-recalculate-buffer-tables</code></dt><dd>迭代当前缓冲区中的所有表格,以聚
合表到表的依赖关系.</dd>
</dl>
</div>
</div>

<div id="outline-container-orgc91f6eb" class="outline-4">
<h4 id="orgc91f6eb">高级功能(Advanced features)</h4>
<div class="outline-text-4" id="text-orgc91f6eb">
<blockquote>
<p>
字段和列名,自动重计算等等.
</p>
</blockquote>

<p>
如果你想要字段自动进行重计算,或者如果你想要能够给字段和列赋值名字,那么你需要
为特殊标记字符保留表格的第一列.
</p>

<dl class="org-dl">
<dt><code>C-#</code> &#x2013; <code>(org-table-rotate-recalc-marks)</code></dt><dd><p>
将第一列中的计算标志旋转到状态
<code>#,*,!,$</code>.当有选中区域时,改变区域内的所有标志
</p>

<p>
这有一个收集学生考试结果的表格示例,并且利用了这些功能.
</p>

<pre class="example">

|---+---------+--------+--------+--------+-------+------|
|   | Student | Prob 1 | Prob 2 | Prob 3 | Total | Note |
|---+---------+--------+--------+--------+-------+------|
| ! |         |     P1 |     P2 |     P3 |   Tot |      |
| # | Maximum |     10 |     15 |     25 |    50 | 10.0 |
| ^ |         |     m1 |     m2 |     m3 |    mt |      |
|---+---------+--------+--------+--------+-------+------|
| # | Peter   |     10 |      8 |     23 |    41 |  8.2 |
| # | Sam     |      2 |      4 |      3 |       |  1.8 |
|---+---------+--------+--------+--------+-------+------|
|   | Average |        |        |        |  25.0 |      |
| ^ |         |        |        |        |    at |      |
| $ | max=50  |        |        |        |       |      |
|---+---------+--------+--------+--------+-------+------|
#+TBLFM: $6=vsum($P1..$P3)::$7=10*$Tot/$max;%.1f::$at=vmean(@-II..@-I);%.1f
</pre>
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-right" />

<col  class="org-right" />

<col  class="org-right" />

<col  class="org-right" />

<col  class="org-right" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Student</th>
<th scope="col" class="org-right">Prob 1</th>
<th scope="col" class="org-right">Prob 2</th>
<th scope="col" class="org-right">Prob 3</th>
<th scope="col" class="org-right">Total</th>
<th scope="col" class="org-right">Note</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">Maximum</td>
<td class="org-right">10</td>
<td class="org-right">15</td>
<td class="org-right">25</td>
<td class="org-right">50</td>
<td class="org-right">10.0</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="org-left">Peter</td>
<td class="org-right">10</td>
<td class="org-right">8</td>
<td class="org-right">23</td>
<td class="org-right">41</td>
<td class="org-right">8.2</td>
</tr>

<tr>
<td class="org-left">Sam</td>
<td class="org-right">2</td>
<td class="org-right">4</td>
<td class="org-right">3</td>
<td class="org-right">9</td>
<td class="org-right">1.8</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="org-left">Average</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">25.0</td>
<td class="org-right">&#xa0;</td>
</tr>
</tbody>
</table>

<p>
重要事项:请注意,对这些特殊表格来讲,使用 <code>C-u C-c *</code> 重新计算表格,只影响被 <code>#</code>
或 <code>#</code> 标记的行,和那些有公式赋值的字段.列公式不会在有空字段的行生效.
</p></dd>
</dl>


<p>
标志字符及其含义:
</p>
<dl class="org-dl">
<dt><code>!</code></dt><dd>这一行定义列名,以便你能使用 <code>$Tot</code> 而不是 <code>$6</code> 来引用第六列.</dd>
<dt><code>^</code></dt><dd>这一行定义上一行字段的名字.用这种定义,表格的任何公式可以使用 <code>$m1</code> 来引
用值 <code>10</code>.此外,你也可以将公式赋值给命名字段,它会被存储成这样: <code>$name = ...</code> .</dd>
<dt><code>_</code></dt><dd>和 <code>^</code> 类似,不过是定义下一行的字段名.</dd>
<dt><code>$</code></dt><dd>这一行的字段能定义公式里的参数.例如,如果 <code>$</code> 行的某一字段包含 <code>max=50</code>,
然后这个表格的公式可以使用 <code>$max</code> 引用50这个值.参数和常量一样使用,只不过参数
是基于每个表定义的.</dd>
<dt><code>#</code></dt><dd>在这一行里按 <code>&lt;TAB&gt;</code> 或 <code>&lt;RET&gt;</code> 或 <code>S-&lt;TAB&gt;</code> 时,这一行的字段会自动进行重新
计算.此外,这一行在使用 <code>C-u C-c *</code> 进行全局重计算时也会被选中.未标记的行不会
被该命令选中.</dd>
<dt><code>*</code></dt><dd>使用 <code>C-u C-c *</code> 进行全局计算时选中改行,但是不会进行自动的重新计算.当自
动重新计算使编辑速度过慢时,请使用这一标志.</dd>
<dt><code>/</code></dt><dd>不导出此行.在包含收缩标记 <code>&lt;N&gt;</code> 或列分组标记的行里很有用.</dd>
</dl>


<p>
最后,为了激起你对奇妙的 Calc 包能做什么的兴趣,这里有一个表格,用来计算两个函
数在 x 位置的 n 阶泰勒级数.
</p>
<pre class="example">
|---+-------------+---+-----+--------------------------------------|
|   | Func        | n | x   | Result                               |
|---+-------------+---+-----+--------------------------------------|
| # | exp(x)      | 1 | x   | 1 + x                                |
| # | exp(x)      | 2 | x   | 1 + x + x^2 / 2                      |
| # | exp(x)      | 3 | x   | 1 + x + x^2 / 2 + x^3 / 6            |
| # | x^2+sqrt(x) | 2 | x=0 | x*(0.5 / 0) + x^2 (2 - 0.25 / 0) / 2 |
| # | x^2+sqrt(x) | 2 | x=1 | 2 + 2.5 x - 2.5 + 0.875 (x - 1)^2    |
| * | tan(x)      | 3 | x   | 0.0175 x + 1.77e-6 x^3               |
|---+-------------+---+-----+--------------------------------------|
#+TBLFM: $5=taylor($2,$4,$3);n3
</pre>


<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-right" />

<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Func</th>
<th scope="col" class="org-right">n</th>
<th scope="col" class="org-left">x</th>
<th scope="col" class="org-left">Result</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">exp(x)</td>
<td class="org-right">1</td>
<td class="org-left">x</td>
<td class="org-left">1 + x</td>
</tr>

<tr>
<td class="org-left">exp(x)</td>
<td class="org-right">2</td>
<td class="org-left">x</td>
<td class="org-left">1 + x + x^2 / 2</td>
</tr>

<tr>
<td class="org-left">exp(x)</td>
<td class="org-right">3</td>
<td class="org-left">x</td>
<td class="org-left">1 + x + x^2 / 2 + x^3 / 6</td>
</tr>

<tr>
<td class="org-left">x^2+sqrt(x)</td>
<td class="org-right">2</td>
<td class="org-left">x=0</td>
<td class="org-left">x*(0.5 / 0) + x^2 (2 - 0.25 / 0) / 2</td>
</tr>

<tr>
<td class="org-left">x^2+sqrt(x)</td>
<td class="org-right">2</td>
<td class="org-left">x=1</td>
<td class="org-left">2 + 2.5 x - 2.5 + 0.875 (x - 1)^2</td>
</tr>

<tr>
<td class="org-left">tan(x)</td>
<td class="org-right">3</td>
<td class="org-left">x</td>
<td class="org-left">0.0175 x + 1.77e-6 x^3</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div id="outline-container-org9647c24" class="outline-3">
<h3 id="org9647c24">Org 绘图(Org Plot)</h3>
<div class="outline-text-3" id="text-org9647c24">
<blockquote>
<p>
根据 Org 表格数据绘图
</p>
</blockquote>
<p>
Org Plot 可以生成存储在Org 表格里的信息的图像,可以是图片形式,也可以是 ASCII
形式
</p>
</div>
<div id="outline-container-orgd351751" class="outline-4">
<h4 id="orgd351751">使用 Gnuplot 的图形绘图(Graphical plots using Gnuplot)</h4>
<div class="outline-text-4" id="text-orgd351751">
<p>
Org Plot 可以使用Gnuplot(<a href="http://www.gnuplot.info/">http://www.gnuplot.info/</a>) 和
Gnuplot(<a href="http://cars9.uchicago.edu/~ravel/software/gnuplot-mode.html">http://cars9.uchicago.edu/~ravel/software/gnuplot-mode.html</a>) 生成Org
表格存储的信息的 2D 和 3D 图形.要看到这一操作,请确保你在你的系统里同时安装了
Gnuplot 和 Gnuplot mode. 然后在下面的表格里调用 <code>C-c " g</code> 或 <code>M-x
    org-plot/gnuplot</code> :
</p>

<pre class="example">
#+PLOT: title:"Citas" ind:1 deps:(3) type:2d with:histograms set:"yrange [0:]"
| Sede      | Max cites | H-index |
|-----------+-----------+---------|
| Chile     |    257.72 |   21.39 |
| Leeds     |    165.77 |   19.68 |
| Sao Paolo |     71.00 |   11.50 |
| Stockholm |    134.19 |   14.33 |
| Morelia   |    257.56 |   17.67 |

</pre>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-right" />

<col  class="org-right" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Sede</th>
<th scope="col" class="org-right">Max cites</th>
<th scope="col" class="org-right">H-index</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">Chile</td>
<td class="org-right">257.72</td>
<td class="org-right">21.39</td>
</tr>

<tr>
<td class="org-left">Leeds</td>
<td class="org-right">165.77</td>
<td class="org-right">19.68</td>
</tr>

<tr>
<td class="org-left">Sao Paolo</td>
<td class="org-right">71.00</td>
<td class="org-right">11.50</td>
</tr>

<tr>
<td class="org-left">Stockholm</td>
<td class="org-right">134.19</td>
<td class="org-right">14.33</td>
</tr>

<tr>
<td class="org-left">Morelia</td>
<td class="org-right">257.56</td>
<td class="org-right">17.67</td>
</tr>
</tbody>
</table>

<p>
注意,Org Plot 足够智能,可以将表格的头信息(不是表头)应用为图形标签.可以通过表
前的 <code>PLOT</code> 关键词进一步控制绘图的标签,内容,类型和外观.完整的Org Plot 选项列表
在下面.更多的信息和例子请查看 Org Plot 教程
(<a href="https://orgmode.org/worg/org-tutorials/org-plot.html">https://orgmode.org/worg/org-tutorials/org-plot.html</a>).
</p>
</div>




<ul class="org-ul">
<li><a id="org8a2723b"></a>绘图选项(Plot options)<br />
<div class="outline-text-5" id="text-org8a2723b">
<dl class="org-dl">
<dt><code>set</code></dt><dd>指定绘图时要设置的Gnuplot选项.</dd>
<dt><code>title</code></dt><dd>指定绘图的标题.</dd>
<dt><code>ind</code></dt><dd>指定表格的哪一行作为 <code>x</code> 轴使用.</dd>
<dt><code>deps</code></dt><dd>如同 Lisp 风格的列表一样指定要绘制的列,用括号包围,并用空格分隔,例
如 <code>dep:(3 4)</code> 来绘制第三和第四列.默认绘制除了 <code>ind</code> 列之外的所有列</dd>
<dt><code>type</code></dt><dd>指定绘图是 <code>2d</code> , <code>3d</code> 还是 <code>grid</code> .</dd>
<dt><code>with</code></dt><dd>为要绘制的每一列指定要插入的 <code>with</code> 选项.例如 <code>lines</code>, <code>points</code>, <code>boxes</code>,
<code>impulses</code>. 默认值是 <code>lines</code>.</dd>
<dt><code>file</code></dt><dd>如果想要绘制到文件,指定其为 <code>"path/to/desired/output-file"</code>.</dd>
<dt><code>labels</code></dt><dd>用于 <code>deps</code> 的标签列表.默认是列的头信息(如果有的话).</dd>
<dt><code>line</code></dt><dd>指定要插入到 Gnuplot 脚本的一整行.</dd>
<dt><code>map</code></dt><dd>当绘制 <code>3d</code> 或 <code>gtid</code> 类型时,设置该选项为 <code>t</code>, 来绘制平面贴图而不是 <code>3d</code>
坡度图.</dd>
<dt><code>timefmt</code></dt><dd>指定Org mode 的时间戳在传递给Gnuplot 时的格式.默认是
<code>%Y-%m-%d-%H:%M:%S</code>.</dd>
<dt><code>script</code></dt><dd>如果你想要完全控制绘图过程,你可以指定一个绘图时使用的脚本文件&#x2013;
将文件名放置在双引号之间.在绘图之前,指定脚本文件中的每一个 <code>$datafile</code> 实例
都会被生成的数据文件的路径替换.注意:即使你设置了这个选项,也可能需要指定绘
图类型,因为这可能影响数据文件的内容.</dd>
</dl>
</div>
</li>

<li><a id="org5347c37"></a>ASCII 条形图(ASCII bar plots)<br />
<div class="outline-text-5" id="text-org5347c37">
<p>
当光标在一列上时,使用 <code>C-c " a</code> 或 <code>M-x orgtbl-ascii-plot</code> 来创造一个包含ASCII
艺术的条形绘图(条形码?)的新列.这个绘图是通过常规的列公式实现的.当根源列改变
时,条状绘图可以通过刷新表格来更新.例如使用 <code>C-u C-c *</code>.
</p>

<pre class="example">
| Sede          | Max cites |              |
|---------------+-----------+--------------|
| Chile         |    257.72 | WWWWWWWWWWWW |
| Leeds         |    165.77 | WWWWWWWh     |
| Sao Paolo     |     71.00 | WWW;         |
| Stockholm     |    134.19 | WWWWWW:      |
| Morelia       |    257.56 | WWWWWWWWWWWW |
| Rochefourchat |      0.00 |              |
#+TBLFM: $3='(orgtbl-ascii-draw $2 0.0 257.72 12)

</pre>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-right" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Sede</th>
<th scope="col" class="org-right">Max cites</th>
<th scope="col" class="org-left">&#xa0;</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">Chile</td>
<td class="org-right">257.72</td>
<td class="org-left">WWWWWWWWWWWW</td>
</tr>

<tr>
<td class="org-left">Leeds</td>
<td class="org-right">165.77</td>
<td class="org-left">WWWWWWWh</td>
</tr>

<tr>
<td class="org-left">Sao Paolo</td>
<td class="org-right">71.00</td>
<td class="org-left">WWW;</td>
</tr>

<tr>
<td class="org-left">Stockholm</td>
<td class="org-right">134.19</td>
<td class="org-left">WWWWWW:</td>
</tr>

<tr>
<td class="org-left">Morelia</td>
<td class="org-right">257.56</td>
<td class="org-left">WWWWWWWWWWWW</td>
</tr>

<tr>
<td class="org-left">Rochefourchat</td>
<td class="org-right">0.00</td>
<td class="org-left">&#xa0;</td>
</tr>
</tbody>
</table>

<p>
上面例子里的公式是 Elisp 调用.
</p>
<dl class="org-dl">
<dt><code>(orgtbl-ascii-draw VALUE MIN MAX &amp;optional WIDTH CHARACTERS)</code></dt><dd>该函数会
在表格里绘制一个 ASCII 条状图. VALUE 是要绘制的值,它确定了要绘制的条状图
的宽度.MIN 是将显示为空的值(零宽度栏).MAX 是将绘制填充所有宽度的值,不在这
个范围(min2max)的值会被展示为 <code>too small</code> 或 ~too large.WIDTH 是从 MIN 到 MAX 的字符
跨度,就是条形图的最大字符数量,默认值是12. CHARACTERS 是一个用来构成条形图
的字符串,带有从纯白到纯黑的灰色阴影,它 默认为10个字符的常规ASCII字符字符
串.</dd>
</dl>
</div>
</li>
</ul>
</div>
</div>
</div>

<div id="outline-container-org420849e" class="outline-2">
<h2 id="org420849e">超链接(Hyperlinks)</h2>
<div class="outline-text-2" id="text-org420849e">
<p>
像 HTML 一样,Org 提供了对文件内部的链接,其他文件的外部链接,新闻文章,邮件等的支
持.
</p>
</div>

<div id="outline-container-org470fd50" class="outline-3">
<h3 id="org470fd50">链接格式(Link Format)</h3>
<div class="outline-text-3" id="text-org470fd50">
<blockquote>
<p>
Org 里的链接是怎样的格式.
</p>
</blockquote>
<p>
Org 能识别普通URI, 可能会被尖括号包围.而且可以将其作为可点击链接激活.
普通URI只能在定义良好的一组模式,见(<code>External Links</code> TODO). 与 URI 语法不同,他们
不能包含括号,也不能包含空格.尖括号里使用 URI 没有这些限制.
</p>

<p>
但是,常规的链接格式如下:
</p>
<pre class="example">
[[LINK][DESCRIPTION]]
</pre>
<p>
或者这样:
</p>
<pre class="example">
[[LINK]]
</pre>
<p>
LINK 部分的有些 <code>\</code> , <code>[</code> 和 <code>]</code> 字符需要被转义,也就是要在之前加一个 <code>\</code> 字符.更特殊
的是,下面的字符,也只有下面的字符,是必须被转义的:
</p>
<ol class="org-ol">
<li>所有 <code>[</code> 和 <code>]</code> 字符.</li>
<li>在 <code>[</code> 或 <code>]</code> 之前的每个 <code>\</code> 字符.</li>
<li>在链接最后的每个 <code>\</code> 字符.</li>
</ol>


<p>
插入链接的函数(Handling Links)会正确地转义不明确的字符.当你直接在方括号里插入
或粘贴URI时,只需要考虑上面的规则.当不是很确定时,你可以使用函数
<code>org-link-escape</code>, 它会将链接字符串转换成其转义后的形式.
</p>

<p>
一旦缓冲区里的一个链接完成了(所有括号都存在),Org 会更改其显示,以便显示
<code>DESCRIPTION</code> 而不是 <code>[[LINK][DESCRIPTION]]</code>, 显示 <code>LINK</code> 而不是 <code>[[LINK]]</code>. 链接会使
用 <code>org-link</code> 特征(face) 来高亮,默认情况下,是一个下划线的特征.
</p>

<p>
你可以直接编辑链接的可视部分,如果没有描述部分,那就编辑的是链接,反之,则编辑的
是描述部分.想要编辑链接的不可见部分,光标在链接上时使用 <code>C-c C-l</code> (Handling
Links).
</p>

<p>
如果当光标在链接可见部分的开头或最后之后按 <code>&lt;BS&gt;</code> ,你会删除那个位置的不可见的括
号(更准确地说,确切的行为取决于光标是如何到达该位置的,参见 <code>Invisible Text</code>
(elisp)TODO).这会使链接变得不完整,然后链接内部会重新作为普通文本显现出来.插入缺
失的括号会将链接重新隐藏.要显示所有链接的内部结构,使用菜单: Org → Hyperlink →
Literal links.
</p>
</div>
</div>

<div id="outline-container-orgf8ec7d0" class="outline-3">
<h3 id="orgf8ec7d0">内部链接(Internal Links)</h3>
<div class="outline-text-3" id="text-orgf8ec7d0">
<blockquote>
<p>
链接到当前文件的其他地方.
</p>
</blockquote>
<p>
一个不像URL(不是以任何一个已知的scheme或文件名开头)的链接,引用当前文件.当光标
位于链接上时,你可以使用 <code>C-c C-o</code> 或鼠标点击来打开链接(Handling Links).
</p>

<p>
Org 对文档内部的导航提供了一些改进.最值得注意的是,一个像 <code>[[#my-custom-id]]</code> 这
样的构造专门针对 <code>CUSTOM_ID</code> 属性设置为 <code>my-custom-id</code> 的条目.此外,一个像这样:
<code>[[*Some section]]</code> 的内部链接指向一个名字是 <code>Some section</code> 的标题.要插入指向标题
的链接,缓冲区补全可以使用.只需键入一个星号再加上几个可选的字母到缓冲区,然后按
<code>M-&lt;TAB&gt;</code>. 当前缓冲区的所有标题项都可由补全提供.
</p>

<p>
当一个链接不属于上述的任一情况时,Org 会查找专用目标:使用双尖括号的相同字符串,
例如 <code>&lt;&lt;My Target&gt;&gt;</code>.
<a href="#orgd9e0da6">外部链接(External Links)</a>
</p>

<p>
如果没有专用目标存在,链接会试图匹配缓冲区里元素的确切名称.命名,不出意料地,是
用 <code>NAME</code> 关键字完成的,它必须放在它引用的元素之前的行中,如下面的示例：
</p>
<pre class="example">
#+NAME: My Target
| a  | table      |
|----+------------|
| of | four cells |
</pre>

<p>
最后,如果上面的情况没有一个成功的,Org 会查找含有有链接文本而且加上 TODO 关键字和
标签的标题,或者根据 <code>org-link-search-must-match-exact-headline</code> 的值开始纯文本
查找.
</p>

<p>
注意,你必须保证自定义ID, 特殊目标和名字在整个文档里是独一无二的.Org 提供了一
个 linter 来帮助你完成这一过程,如果你需要的话.查看Org语法(Org Syntax)TODO.
</p>

<p>
在导出时,内部链接用于标记对象和给他们赋值一个编号.标记后的对象随后由指向他们
的链接引用.特别的,没有描述的链接显示为指定给标记对象的编号(当指向一个 <code>NAME</code> 关
键字时, <code>CAPTION</code> 关键字是必须有的,因为要得到正确的编号).在下面的Org 缓冲区片段
中:
</p>
<pre class="example">
1. one item
2. &lt;&lt;target&gt;&gt;another item
Here we refer to item [[target]].
</pre>
<p>
最后一句在导出时会展示为 <code>Here we refer to item 2</code>:
</p>
<ol class="org-ol">
<li>one item</li>
<li><a id="orgf88d0e6"></a>another item</li>
</ol>
<p>
Here we refer to item <a href="#orgf88d0e6">2</a>.
</p>

<p>
在非Org文件里,查找会找寻链接文本里的内容.在上面的例子里,查找的内容是 <code>target</code>.
</p>

<p>
点击链接会在Org 自己的标记环上加上一个标记.你能通过 <code>C-c &amp;</code> 来返回到上一位置.直
接连续多次使用这个命令,可以返回到先前记录的位置.
</p>
</div>
</div>

<div id="outline-container-orgad728a9" class="outline-3">
<h3 id="orgad728a9">无线电目标(Radio Targets)</h3>
<div class="outline-text-3" id="text-orgad728a9">
<p>
Org 可以自动将普通文本里出现的某些目标名称转换为链接.因此,在不显式创建链接的
情况下,文本将链接到目标,并标记其位置.Radio 目标由三个尖括号包围.例如, 目标
<code>&lt;&lt;&lt;My Target&gt;&gt;&gt;</code> 会导致正常文本中出现的每一个 <code>my target</code> 都作为链接激活.只有当
文件首次加载到 Emacs 里时,才会自动扫描Org 文件里的 radio 目标.要在编辑时更新
目标的列表,在光标位于目标上时,按 <code>C-c C-c</code> 即可. my target , My Target.
</p>
</div>
</div>

<div id="outline-container-orgd9e0da6" class="outline-3">
<h3 id="orgd9e0da6">外部链接(External Links)</h3>
<div class="outline-text-3" id="text-orgd9e0da6">
<blockquote>
<p>
链接到世界的类似 URL 的链接.
</p>
</blockquote>
<p>
Org 支持链接到文件,网站,新闻论坛和邮件消息,BBDB 数据库条目,还支持链接到IRC对
话和其日志. 外部链接是 URL 样子的定位器. 他们由一个简短的标示字符串加一个冒号
开始.冒号后不允许有空格.
</p>

<p>
下面是内建链接类型的完整集合:
</p>

<dl class="org-dl">
<dt><code>file</code></dt><dd>文件链接.文件名可以是远程文件,绝对路径或相对路径文件.
而且,你可以指定行号或搜索文本.在Org 文件里,你可以链接到标题名,自定义ID, 或
者是代码引用.
作为一个特殊的情况,如果文件名是完整的.例如,文件名以 <code>./</code> 或 <code>/</code> 开头."file"前缀
可以被省略.</dd>
<dt><code>attachment</code></dt><dd>和文件链接一样,但适用于附加到当前节点的文件和文件夹(见 <a href="#orga0f743c">附件(Attachments)</a>). 附件链接和文件链接的作用完全相同,但是适用于相对于附件目录的
文件.</dd>
<dt><code>bbdb</code></dt><dd>链接到一个 BBDB 记录,带有可能的正则补全.</dd>
<dt><code>docview</code></dt><dd>连接到使用 DOCView 模式打开的文本.你可以指定页码.</dd>
<dt><code>doi</code></dt><dd>通过其句柄,链接到电子资源.</dd>
<dt><code>elisp</code></dt><dd>激活后执行一个Elisp 命令.</dd>
<dt><code>gnus, rmail, mhe</code></dt><dd>连接到给定的Emacs MUA(邮件用户代理) 的消息或文件夹.</dd>
<dt><code>help</code></dt><dd>在 <code>*Help</code> 缓冲区里展示一个符号的文档.</dd>
<dt><code>http, https</code></dt><dd>网站链接.</dd>
<dt><code>id</code></dt><dd>在Org 文件里,通过ID 属性,连接到指定标题.</dd>
<dt><code>info</code></dt><dd>连接到一个 Info 手册或特定结点.</dd>
<dt><code>irc</code></dt><dd>连接到 IRC 频道.</dd>
<dt><code>mailto</code></dt><dd>连接到消息组成(编辑邮件).</dd>
<dt><code>news</code></dt><dd>新闻组链接.</dd>
<dt><code>shell</code></dt><dd><p>
激活后执行shell命令.
下面的表格说明了上面的链接类型,以及其选项:
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">LinkType</th>
<th scope="col" class="org-left">Example</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">http</td>
<td class="org-left"><code>‘http://staff.science.uva.nl/c.dominik/’</code></td>
</tr>

<tr>
<td class="org-left">https</td>
<td class="org-left"><code>‘https://orgmode.org/’</code></td>
</tr>

<tr>
<td class="org-left">doi</td>
<td class="org-left"><code>‘doi:10.1000/182’</code></td>
</tr>
</tbody>
<tbody>
<tr>
<td class="org-left">file</td>
<td class="org-left"><code>‘file:/home/dominik/images/jupiter.jpg’</code></td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left"><code>‘/home/dominik/images/jupiter.jpg’ (same as above)</code></td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left"><code>‘file:papers/last.pdf’</code></td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left"><code>‘./papers/last.pdf’ (same as above)</code></td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left"><code>‘file:/ssh:me@some.where:papers/last.pdf’ (remote)</code></td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left"><code>‘/ssh:me@some.where:papers/last.pdf’ (same as above)</code></td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left"><code>‘file:sometextfile::NNN’ (jump to line number)</code></td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left"><code>‘file:projects.org’</code></td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left"><code>‘file:projects.org::some words’ (text search)</code> <sup><a id="fnr.1" class="footref" href="#fn.1">1</a></sup></td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left"><code>‘file:projects.org::*task title’ (headline search)</code></td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left"><code>‘file:projects.org::#custom-id’ (headline search)</code></td>
</tr>
</tbody>
<tbody>
<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">attachment</td>
<td class="org-left"><code>‘attachment:projects.org’</code></td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left"><code>‘attachment:projects.org::some words’ (text search)</code></td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="org-left">docview</td>
<td class="org-left"><code>‘docview:papers/last.pdf::NNN’</code></td>
</tr>

<tr>
<td class="org-left">id</td>
<td class="org-left"><code>‘id:B7423F4D-2E8A-471B-8810-C40F074717E9’</code></td>
</tr>

<tr>
<td class="org-left">news</td>
<td class="org-left"><code>‘news:comp.emacs’</code></td>
</tr>

<tr>
<td class="org-left">mailto</td>
<td class="org-left"><code>‘mailto:adent@galaxy.net’</code></td>
</tr>

<tr>
<td class="org-left">mhe</td>
<td class="org-left"><code>‘mhe:folder’ (folder link)</code></td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="org-left">rmail</td>
<td class="org-left"><code>‘rmail:folder’ (folder link)</code></td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left"><code>‘rmail:folder#id’ (message link)</code></td>
</tr>
</tbody>
<tbody>
<tr>
<td class="org-left">gnus</td>
<td class="org-left"><code>‘gnus:group’ (group link)</code></td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left"><code>‘gnus:group#id’ (article link)</code></td>
</tr>
</tbody>
<tbody>
<tr>
<td class="org-left">bbdb</td>
<td class="org-left"><code>‘bbdb:R.*Stallman’ (record with regexp)</code></td>
</tr>

<tr>
<td class="org-left">irc</td>
<td class="org-left"><code>‘irc:/irc.com/#emacs/bob’</code></td>
</tr>

<tr>
<td class="org-left">help</td>
<td class="org-left"><code>‘help:org-store-link’</code></td>
</tr>

<tr>
<td class="org-left">info</td>
<td class="org-left"><code>‘info:org#External links’</code></td>
</tr>

<tr>
<td class="org-left">shell</td>
<td class="org-left"><code>‘shell:ls *.org’</code></td>
</tr>
</tbody>
<tbody>
<tr>
<td class="org-left">elisp</td>
<td class="org-left"><code>‘elisp:(find-file "Elisp.org")’ (Elisp form to evaluate)</code></td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left"><code>‘elisp:org-agenda’ (interactive Elisp command)</code></td>
</tr>
</tbody>
</table></dd>
</dl>


<p>
#+end_example
除了这些内置链接类型之外,还可以通过 <code>contrib/</code> (见<a href="#orgfc66197">安装(Installation)</a>)目录使
用其他类型链接). 例如.当你从 <code>contrib/</code> 目录里加载相应库时,你可以链接到 VM
或 Wanderlust 消息:
</p>
<pre class="example">
‘vm:folder’                              VM folder link
‘vm:folder#id’                           VM message link
‘vm://myself@some.where.org/folder#id’   VM on remote machine
‘vm-imap:account:folder’                 VM IMAP folder link
‘vm-imap:account:folder#id’              VM IMAP message link
‘wl:folder’                              Wanderlust folder link
‘wl:folder#id’                           Wanderlust message link
</pre>
<p>
有关自定义Org 以添加新链接类型的信息,见 [[*Adding Hyperlink Types].TOTO.
</p>

<p>
链接应该用双括号括起来,并且可能包含要展示的描述性文本,而不是URL(见 <a href="#org470fd50">链接格式(Link Format)</a>).例如：
</p>
<pre class="example">
[[http://www.gnu.org/software/emacs/][GNU Emacs]]
</pre>
<p>
效果:
<a href="http://www.gnu.org/software/emacs/">GNU Emacs</a>
如果描述是一个指向图片的文件名或URL,HTML 导出(见 <a href="#orgd48d5e9">HTML Export</a>) 会将图片以可
点击的按钮形式内联导出.如果链接指向一个图片,而且没有任何的描述,改图片会直接
内联到导出的HTML 文件里.
</p>

<p>
Org 还识别普通文本里的外部链接,并将他们激活为链接.如果空格必须是链接的一部
分(例如 <code>bbdb:R. *Stallman</code>) 或者如果你需要消除链接尾部的歧义字符,请将链接括
在方括号或者尖括号中.
</p>
</div>
</div>

<div id="outline-container-org1c9f110" class="outline-3">
<h3 id="org1c9f110">处理链接(Handling Links)</h3>
<div class="outline-text-3" id="text-org1c9f110">
<p>
Org 提供了使用正确语法创建链接,插入链接和打开链接的方法.
</p>

<p>
最主要的方法是 <code>org-store-link</code>, 使用 <code>M-x org-store-link</code> 调用.因为其重要性,我们
建议将其绑定为常用快捷键(*Activation TODO). 这个命令会保存光标所在位置的一个
链接.这个链接是为了之后插入到Org 缓冲区而保存的(下面内容).创造的链接的类型取
决于当前的缓冲区:
</p>

<dl class="org-dl">
<dt>Org 模式缓冲区</dt><dd>对于Org 文件,如果光标处有一个 <code>&lt;&lt;target&gt;&gt;</code>, 链接会指向这个
target. 没有,则链接会指向当前的标题(也是链接的描述内容).注意,如果标题包含有
时间戳,时间戳会在链接里被删除,这会导致一个错误的链接,所以你应该避免在标题里
使用时间戳.
如果标题有 <code>CUSTOM_ID</code> 属性,会使用这个自定义的ID 来保存链接.此外,可选的是,根
据 <code>org-id-link-to-org-use-id</code> 的值,来为链接创造全局唯一的 <code>ID</code> 属性(Org 的 ID
库必须要先被加载,要么通过 <code>org-customize</code> 方法,要么在 <code>org-modules</code> 启用 <code>id</code> 模
块,要么就在Emacs init 文件里添加 <code>require 'org-id</code>). 所以,在Org 缓冲区里使用
这个命令可能会创造两个链接:一种使用自定义ID的人类可读的链接,另一种是全局唯
一的即使条目从一个文件移动到另一个文件也有效的链接.在稍后插入链接时,你需要
决定使用那一种链接.</dd>

<dt>邮件/新闻客户端:VM,Rmail,Wanderlust,MH-E,Gnus </dt><dd>几乎所有的Emacs 邮件客户
端都支持.指向当前文章的链接,或者在某些 Gnus 缓冲区里,指向组的链接.描述部分
是根据变量 <code>org-link-email-description-format</code> 来构建的.默认情况下,链接指向收
件人和主题.</dd>

<dt>网页浏览器:W3,W3M 和 EWW</dt><dd>在这里,链接就是当前的URL, 页面标题就是描述部分.</dd>

<dt>联系人(Contacts):BBDB</dt><dd>BBDB 缓冲区里创造的链接指向当前条目.</dd>

<dt>聊天(Chat):IRC</dt><dd>对于IRC 链接,如果 <code>org-irc-link-to-logs</code> 变量非空,则创建
<code>file</code> 类型的链接,指向光标在当前对话的日志文件的位置.若为空,则保存一个 <code>irc</code> 类
型的链接,指向光标所在的用户/频道/服务器.</dd>

<dt>其他文件</dt><dd>对于其他类型文件,链接指向文件,加上指向当前行内容的搜索字符串(见
Search Options TODO). 如果存在选区,选中的文本组成搜索字符串.你可以编写自定
义的Lisp 函数来选择搜索字符串和针对特定文件类型执行搜索(见 Custom Searches
TODO). 你也可以定义指向其他文件的特定链接(见 Adding Hyperlink Types TODO).</dd>

<dt>Agenda 视图</dt><dd>当光标位于 Agenda(日程) 视图时,创造的链接会指向光标所在当前
行引用的条目.</dd>
</dl>


<p>
在Org 缓冲区中,下面的命令创建,浏览或者更通俗地讲,对链接进行操作:
</p>

<dl class="org-dl">
<dt><code>C-c C-l</code> &#x2013; <code>(org-insert-link)</code></dt><dd>插入一个链接<sup><a id="fnr.2" class="footref" href="#fn.2">2</a></sup>.会提示输入要
被插入到缓冲区的链接.你可以通过键入内部链接的文本,或者上面例子里提到的链接
类型来插入一个链接.链接会被插入到缓冲区,并且带有描述文本<sup><a id="fnr.3" class="footref" href="#fn.3">3</a></sup>.如果这时有文本被选中,文本会成为默认
的链接描述. + 插入保存的链接 :: 在当前会话中所有保存的链接都会作为提示输入
的历史记录的一部分,所以你可以使用 <code>&lt;UP&gt;</code> 和 <code>&lt;DOWN&gt;</code> (<code>M-p</code> , <code>M-n</code>) 来获取这些链接.
<dl class="org-dl">
<dt>补全支持</dt><dd>用 <code>&lt;TAB&gt;</code> 触发补全可以帮助你插入有效的链接前缀(像 <code>http</code> 或
<code>ftp</code>), 甚至包括通过链接缩写(见TODO[*链接缩写(Link Abbreviations)]])定义的
缩写.如果你在只插入前缀之后按 <code>&lt;RET&gt;</code>,Org 会提供这些链接类型的特定的补全支
持(<sup><a id="fnr.4" class="footref" href="#fn.4">4</a></sup>).例如, 如果你键入 <code>file&lt;RET&gt;</code> 或者使用 <code>C-u C-c C-l</code> 看接下来会发生什
么,Org会提供文 件名补全.键入 <code>bbdb&lt;RET&gt;</code> 提供联系人名字补全.</dd>
</dl></dd>

<dt><code>C-u C-c C-l</code></dt><dd>当上面的命令加上 <code>C-u</code> 前缀参数一起使用时,插入一个链接到文件
的链接.你可以使用文件名补全来选择文件的类型.如果链接文件在当前目录或当前目
录的子目录,或者路径是使用相对 路径格式 <code>../</code>, 那么插入的文件路径是相对路径;否
则,就会使用绝对路径.如果可能, 使用 <code>~/</code> 来标示家目录.可以使用两个 <code>C-u C-u</code> 来
强制使用绝对路径.</dd>

<dt><code>C-c C-l</code> (光标在链接上)</dt><dd>当光标在链接上时,该命令允许你编辑链接的链接和描述
部分.</dd>

<dt><code>C-c C-o</code> &#x2013; <code>(org-open-at-point)</code></dt><dd>打开光标处链接.链接是URL,该命令会打开网页
浏览器(使用 <code>browse-url-at-point</code> 方法);如果是相应链接,会运行
VM/MH-E/Wanderlust/Rmail/Gnus/BBDBc 程序;如果是脚本链接,会执行脚本.当光标处
是内部链接时,命令会运行相应查找操作.当光标位于标题的标签(tag)部分,命令会创
建一个响应的标签视图.如果光标在时间戳上,命令会搜集那个日期的日程.此外,命令
会访问Emacs <code>file</code> 链接中的文本和远程文件,并为本地非文本文件选择合适的应用程
序.文件的分类只基于文件扩展名.查看选项 <code>org-file-apps</code>. 如果你想覆盖默认应用
程序并用Emacs 打开文件,请使用 <code>C-u</code> 前缀. 如果你想避免使用 Emacs 打开,使用
<code>C-u C-u</code> 前缀.
如果光标在标题上,但标题不是一个链接,命令提供该标题和条目文本里的所有链接.如
果你想设置打开链接的框架配置,自定义 <code>org-link-frame-setup</code>.</dd>

<dt><code>&lt;RET&gt;</code></dt><dd>当设置了 <code>org-return-follows-link</code> 时(设置为t), <code>&lt;RET&gt;</code> 也可以用来打开
光标处的链接.</dd>

<dt><code>mouse-2</code> 或 <code>mouse-1</code></dt><dd>在链接上时,鼠标左键和滑轮像 <code>C-c C-o</code> 一样打开链接.</dd>

<dt><code>mouse-3</code></dt><dd>和鼠标滑轮相似,但是强制链接在Emacs 里打开,而且内部链接会在另一个
窗口里打开并展示(<sup><a id="fnr.5" class="footref" href="#fn.5">5</a></sup>~).</dd>

<dt><code>C-c %</code> &#x2013; <code>(org-mark-ring-push)</code></dt><dd>将光标当前位置加入到Org 的标记环,以便能轻
松返回.打开内部链接的命令会自动完成这一动作.</dd>

<dt><code>C-c &amp;</code> &#x2013; <code>(org-mark-ring-goto)</code></dt><dd>跳转到记录的位置.位置会被打开内部链接的命
令或 <code>C-c %</code> 记录.直接连续多次使用这个命令会在之前记录的位置环里移动光标.</dd>

<dt><code>C-c C-x C-n</code> &#x2013; <code>(org-next-link)</code> , <code>C-c C-x C-p</code> &#x2013; <code>(org-previous-link)</code></dt><dd><p>
向上
或向下移动光标到缓冲区的链接.在缓冲区的限制下,搜索一旦失败,就返回.这个的快
捷键绑定真的太长了,你可能想要将它绑定到 <code>M-n</code> 和 <code>M-p</code>.
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="font-weight: bold;">with-eval-after-load</span> 'org
  (define-key org-mode-map (kbd <span style="font-style: italic;">"M-n"</span>) 'org-next-link)
  (define-key org-mode-map (kbd <span style="font-style: italic;">"M-p"</span>) 'org-previous-link))
</pre>
</div></dd>
</dl>
</div>
</div>

<div id="outline-container-orgcef6df1" class="outline-3">
<h3 id="orgcef6df1">Org 文件外部使用链接(Using Links Outside Org)</h3>
<div class="outline-text-3" id="text-orgcef6df1">
<p>
你不只可以在Org 文件里使用Org 语法插入和打开链接,你还可以在任意的Emacs 缓冲区里
使用.针对这个,Org 提供了两个函数: <code>org-insert-link-golobal</code> 和
<code>org-open-at-point-global</code>.
</p>

<p>
你可能想将他们绑定到全局可用快捷键.查看[Activation]TODO 来获取一些建议.
</p>
</div>
</div>

<div id="outline-container-org1c76d97" class="outline-3">
<h3 id="org1c76d97">链接缩写(Link Abbreviations)</h3>
<div class="outline-text-3" id="text-org1c76d97">
<p>
原始链接(长链接)的键入可能很麻烦,而且文档中通常需要许多类似的链接.为此,你可以
使用链接缩写.一个缩写链接长这样:
</p>
<pre class="example">
[[linkword:tag][description]]
</pre>
<p>
其中,tag 是可选的. linkword 必须是一个单词,以字母开头,后面跟着字母,数字, <code>-</code> 和
<code>_</code>.缩写将会根据变量 <code>org-link-abbrev-alist</code> 的信息进行解析,该变量将 linkword 和
替换文本关联起来.下面是一个例子:
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="font-weight: bold;">setq</span> org-link-abbrev-alist
      '((<span style="font-style: italic;">"bugzilla"</span>        . <span style="font-style: italic;">"http://10.1.2.9/bugzilla/show_bug.cgi?id="</span>)
        (<span style="font-style: italic;">"Nu Html Checker"</span> . <span style="font-style: italic;">"https://validator.w3.org/nu/?doc=%h"</span>)
        (<span style="font-style: italic;">"duckduckgo"</span>      . <span style="font-style: italic;">"https://duckduckgo.com/?q=%s"</span>)
        (<span style="font-style: italic;">"omap"</span>            . <span style="font-style: italic;">"http://nominatim.openstreetmap.org/search?q=%s&amp;polygon=1"</span>)
        (<span style="font-style: italic;">"ads"</span>             . <span style="font-style: italic;">"https://ui.adsabs.harvard.edu/search/q=%20author%3A\"%s\""</span>)))
</pre>
</div>
<p>
如果替换文本包含字符串 <code>%s</code> ,它将被 tag 替换. 使用 <code>%h</code> 而不是 <code>%s</code> 百分比,会对 tag
进行编码(上面需要将url参数编码的例子). 使用 <code>%(my-function)</code> 会将 tag 传递给自
定义的 Lisp 函数,并将tag 替换成结果字符串.
</p>

<p>
如果替换字符串并不包括任意的指示符,则只需要将其添加到字符串来创建链接.
</p>

<p>
你也可以指定一个 Lisp 函数而不是字符串来创建链接.这样的函数会将 tag 作为唯一
参数进行调用.
</p>

<p>
使用上面的设置,你可以使用 <code>[[bugzilla:129]]</code> 链接到一个特定的bug:29, 使用
<code>[[google:OrgMode]]</code> 来搜索 <code>OrgMode</code> , 使用 <code>[[gmap:51 Franklin Street, Boston]]</code>
来显示自由软件基金会的地图位置或使用 <code>[[omap:Science Park 904, Amsterdam, The
   Netherlands]]</code> 显示Carsten办公室的位置,还可以使用 <code>[[ads:Dominik,C]]</code> 来了解 Org
的作者除了 Emacs hacking 之外还在做些什么.
</p>

<p>
如果你只在单个Org 缓冲区里使用特殊缩写,你可以在文件里面定义他们:
</p>
<pre class="example">
#+LINK: bugzilla  http://10.1.2.9/bugzilla/show_bug.cgi?id=
#+LINK: google    http://www.google.com/search?q=%s
</pre>
<p>
缓冲区补全可以在 <code>[</code> 之后提供补全链接缩写的功能.你也可以定义Lisp 函数来实现特殊
的支持(例如补全功能),以便使用 <code>C-c C-l</code> 来插入这样的链接.这样的函数不应该接受任
何的参数,应该返回带前缀的完整链接. 你可以设置这样一个链接补全函数:
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp">(org-link-set-parameter <span style="font-style: italic;">"type"</span> <span style="font-weight: bold;">:complete</span> #'some-completion-function)
</pre>
</div>
</div>
</div>

<div id="outline-container-org187fb66" class="outline-3">
<h3 id="org187fb66">搜索选项(Search Options)</h3>
<div class="outline-text-3" id="text-org187fb66">
<blockquote>
<p>
链接到特定的位置.
</p>
</blockquote>
</div>

<div id="outline-container-org618f1e9" class="outline-4">
<h4 id="org618f1e9">文件链接的搜索选项(Search Options in File Links)</h4>
<div class="outline-text-4" id="text-org618f1e9">
<p>
文件链接可以包含额外的信息,来使Emacs 打开链接时跳转打文件的特定位置.特定位置
可以是行号或在双冒号之后的搜索选项<sup><a id="fnr.6" class="footref" href="#fn.6">6</a></sup>.例如,当 <code>org-store-link</code> 创建一个链文件(见 <a href="#org1c9f110">处理链接(Handling Links)</a> 链接
时,该命令会将当前行的文本编码为搜索字符串(search string), 可以用于在以后使用
<code>C-c C-o</code> 打开链接时查找到这一行.
</p>

<p>
注意,所有搜索选项应用于附件链接和应用于文件链接的方式相同.
</p>

<p>
以下是将搜索附加到文件链接的不同方法的语法,以及每种方法的说明:
</p>
<pre class="example">

[[file:~/code/main.c::255]]
[[file:~/xx.org::My Target]]
[[file:~/xx.org::*My Target]]
[[file:~/xx.org::#my-custom-id]]
[[file:~/xx.org::/regexp/]]
[[attachment:main.c::255]]

</pre>
<dl class="org-dl">
<dt><code>255</code></dt><dd>跳转到第255行.</dd>
<dt><code>My Target</code></dt><dd>查找链接目标 <code>&lt;&lt;My Target&gt;&gt;</code> 或者进行文本 <code>my target</code> 的查找,和内
部链接的查找相似(见 <a href="#orgf8ec7d0">内部链接(Internal Links)</a>). 在HTML导出时(见 <a href="#orgd48d5e9">HTML Export</a>), 这样的文件链接会成为一个指向链接文件里相应命名锚点的HTML 引用.</dd>
<dt><code>*My Target</code></dt><dd>在Org 文件里,将搜索限制到标题.</dd>
<dt><code>#my-custom-id</code></dt><dd>链接到有 <code>CUSTOM_ID</code> 属性的标题.</dd>
<dt><code>/REGEXP/</code></dt><dd>进行一次 <code>REGEXP</code> 的正则表达式查找. 这使用 Emacs 命令 <code>occur</code> 来在
单独窗口显示所有的匹配. 如果目标文件是Org 文件,会使用 <code>org-occur</code> 命令来创建
一个匹配内容的 <code>sparse tree</code> 稀疏树.</dd>
</dl>


<p>
作为次级用法,一个有空文件名的文件链接可以用来搜索当前文件.例如:
<code>[[file:::find me]]</code> 会在当前文件里进行 <code>find me</code> 的查找, 就和 <code>[[find me]]</code> 一样.
</p>
</div>
</div>
</div>


<div id="outline-container-orgcfc23f0" class="outline-3">
<h3 id="orgcfc23f0">自定义搜索(Custom Searches)</h3>
<div class="outline-text-3" id="text-orgcfc23f0">
<blockquote>
<p>
当默认搜索功能不够用时.
</p>
</blockquote>
<p>
创建搜索字符串并且执行与文件链接相关的实际搜索的默认机制可能无法在所有情况下
都正常工作.例如,BibTex 数据库文件有许多像 <code>year="1993"</code> 的条目,这样的条目不能生
成有效的搜索字符串,因为在BibTex 条目里只有引用key 是唯一的标示.
</p>

<p>
如果你碰到了这样的问题,你可以编写自定义的函数,来为特定文件类型设置正确的搜索
字符串,并执行文件里搜索字符串的搜索. 这些方法需要使用 <code>add-hook</code> 添加到钩子变量
(hook variable) <code>org-create-file-search-functions</code> 和
<code>org-execute-file-search-functions</code> 里.查看这些变量的文档字符串来获取更多信息.Org
实际上对 BibTex 数据库文件使用这种机制,而且你可以使用相关的代码作为一个实现的
例子. 查看文件 <code>ol-bibtex.ex</code>
</p>
</div>
</div>
</div>


<div id="outline-container-orgba6b5b5" class="outline-2">
<h2 id="orgba6b5b5"><code>TODO</code> 条目(TODO Items)</h2>
<div class="outline-text-2" id="text-orgba6b5b5">
<p>
Org mode 并不把 TODO 项目当成独立的文档维护<sup><a id="fnr.7" class="footref" href="#fn.7">7</a></sup>,相反的, TODO 项目被视作笔记文件的
一个组成部分, 因为 TODO 项目通常在作笔记时出现(使用)! 在 Org mode 下,只需要将
结构树重任意条目标记为一个 TODO 项目,这样, 信息就不会重复,并且 TODO 项目的整个
上下文总是会显示.
</p>

<p>
当然,这种管理 TODO 项目的技术会将他们分散到你的笔记文件中. 为了补偿这一点, Org
mode 提供了一些方法来让你对你必须要做的事情有一个总览视图.
</p>
</div>

<div id="outline-container-org4ebfd83" class="outline-3">
<h3 id="org4ebfd83"><code>TODO</code> 基础(TODO Basics)</h3>
<div class="outline-text-3" id="text-org4ebfd83">
<p>
标记和展示 TODO 条目.
</p>
</div>

<div id="outline-container-org23cd2d9" class="outline-4">
<h4 id="org23cd2d9">基本的 TODO 功能(Basic TODO Functionality)</h4>
<div class="outline-text-4" id="text-org23cd2d9">
<p>
任何以 'TODO' 开头的标题都会称为一个 TODO 条目, 例如:
</p>
<pre class="example">
*** TODO Write letter to Sam Fortune
</pre>
<p>
和 TODO 条目一起工作的最重要的命令是下面这些:
</p>
<dl class="org-dl">
<dt><code>C-c C-t</code> &#x2013; (<code>org-todo</code>)</dt><dd><p>
让当前 TODO 条目的状态在下面的状态里循环:
</p>
<pre class="example">
,-&gt; (unmarked) -&gt; TODO -&gt; DONE --.
'--------------------------------'
</pre>
<p>
如果 TODO 关键字有快速访问键([[]]),则会从快速选择界面提示输入 TODO 关键字;
这个行为在 <code>org-use-fast-todo-selection</code> 变量非 <code>nil</code> 时是默认行为.
同样的状态改变可以通过在 agenda 缓冲区使用 <code>t</code> 命令键完成(TODO[[]]).
</p></dd>
<dt>S-&lt;RIGHT&gt; S-&lt;LEFT&gt;</dt><dd>选择上一个或下一个 TODO 状态, 和循环类似.如果可能有
两个以上的 TODO 状态,则最有用(<a href="#orgbf6bee8"><code>TODO</code> 扩展(TODO Extensions)</a>). 又见
TODO *Conflicts]] 有关用shift选择来进行交互的讨论. 另见变量
<code>org-treat-S-cursor-todo-selection-as-state-change</code> 的文档.</dd>
<dt>C-c / t &#x2013; (org-show-todo-tree)</dt><dd>在稀疏树中查看TODO条目(参见
<a href="#org3aa1667">稀疏树(Sparse Trees)</a>).这会折叠整个缓冲区,但只显示所有未完成状态的 TODO 条目,以及
他们上层的标题. 带上前缀参数使用,或者用 <code>C-c / T</code>, 可以查找特定的 TODO 条目,
你会被提示输入关键字,而且你会看到一个像这样的关键字列表 <code>‘KWD1|KWD2|...’</code> 来
展示列表中任何一个与你的输入匹配的条目. 带上数字前缀参数 N 使用时,会展示变
量 <code>org-todo-keywords</code> 里的第 N 个关键字类型的 TODO 条目. 不带前缀参数使用,
会查找并展示所有 TODO 状态的条目,包括完成和未完成的条目.</dd>
<dt>M-x org-agenda t &#x2013; (org-todo-list)</dt><dd>显示全局(所有) TODO 列表.从所有
agenda 文件(见 [[]])中搜集 TODO 条目并汇总到一个新缓冲区中.新的缓冲区处于
Org Agenda mode(模式),并提供了可以在这个新缓冲区里检查和处理 TODO 条目的命
令(见 [TODO Agenda Commands]). 更多信息可以查看 [Global TODO list].</dd>
<dt>S-M-&lt;RET&gt; &#x2013; (org-insert-todo-heading)</dt><dd>在 <span class="underline">当前</span> TODO 条目下面插入一个新
的 TODO 条目.</dd>
</dl>


<p>
改变 TODO 状态也可以触发(导致)标签改变.更多细节查看选项
<code>org-todo-state-tags-triggers</code> 的文档字符串.
</p>
</div>
</div>
</div>

<div id="outline-container-orgbf6bee8" class="outline-3">
<h3 id="orgbf6bee8"><code>TODO</code> 扩展(TODO Extensions)</h3>
<div class="outline-text-3" id="text-orgbf6bee8">
<p>
工作流和工作分配.
默认情况下, 标记为 TODO 的条目只有两种状态中的一个: TODO 和 DONE. Org mode 允
许你使用更复杂的 TODO 关键字(存储在变量 <code>org-todo-keywords</code> 里)来对 TODO 项目分
类.TODO 关键字系统可以通过特殊的设置在不同的文件里以不同的方式工作.
</p>

<p>
请注意, <span class="underline">标签</span> 是另一种分类方式, 通常用来分类标题但也可以用来分类 TODO 项目.
</p>
</div>

<div id="outline-container-orgf26e2da" class="outline-4">
<h4 id="orgf26e2da">工作流状态(Workflow states)</h4>
<div class="outline-text-4" id="text-orgf26e2da">
<p>
一步步从待办(TODO)到完成(DONE).
</p>

<p>
在处理一个项目的过程中,你可以使用 TODO 关键字来表示不一样的,可能是连续的状态,例
如<sup><a id="fnr.8" class="footref" href="#fn.8">8</a></sup>:
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="font-weight: bold;">setq</span> org-todo-keywords
      '((sequence <span style="font-style: italic;">"TODO"</span> <span style="font-style: italic;">"FEEDBACK"</span> <span style="font-style: italic;">"VERIFY"</span> <span style="font-style: italic;">"|"</span> <span style="font-style: italic;">"DONE"</span> <span style="font-style: italic;">"DELEGATED"</span>)))
</pre>
</div>
<p>
竖线将 TODO(待办状态,需要完成)关键字和 DONE(完成状态,不需要进一步操作)分隔开.如果不使用竖
线,最后一个状态会被当作是完成状态.
</p>

<p>
使用上面的设置, <code>C-c C-t</code> 命令会让一个条目的状态从 TODO 到 FEEDBACK, 再到
VERIFY 最后到 DONE 和 DELEGATED 里循环切换. 你也可以使用数字前缀参数来快速选
择特定状态.例如 <code>C-3 C-c C-t</code> 会将状态立即切换成 VERIFY. 或者你也可以使用
<code>S-&lt;RIGTH&gt;</code> 和 <code>S-&lt;LEFT&gt;</code> 来向前或向后遍历状态. 如果你定义了许多关键字,你可以使
用缓冲区补全(见 Completion[[]]) 或者特殊的一键选择模式(见
<a href="#org5d60da6">快速访问 TODO 状态(Fast access to TODO states)</a> 来将这些关键字插入到缓冲区.改
变一个 TODO 状态可以记录一个时间戳, 更多信息查看 [[* Tracking TODO state changes
</p>
</div>
</div>



<div id="outline-container-orga59eb14" class="outline-4">
<h4 id="orga59eb14"><code>TODO</code> 类型(TODO types)</h4>
<div class="outline-text-4" id="text-orga59eb14">
<p>
我做这部分,张三做剩下的.
</p>

<p>
第二个用法是使用 TODO 关键字来表示不同类型的待办事项.
</p>

<p>
例如,你可能想指出这些事项是为了工作或者生活. 或者,当你在一个项目里和其他人一
起工作时,你可能希望通过将人员的名字作为 TODO 关键字,将待办事项直接分配给个人.
</p>

<p>
要使用 TODO 类型,它的设置可能像这样:
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="font-weight: bold;">setq</span> org-todo-keywords '((type <span style="font-style: italic;">"Fred"</span> <span style="font-style: italic;">"Sara"</span> <span style="font-style: italic;">"Lucy"</span> <span style="font-style: italic;">"|"</span> <span style="font-style: italic;">"DONE"</span>)))
</pre>
</div>
<p>
这种情况下,不同的关键字不表示状态,而是表示不同类型.所以,正常的工作流可以将任
务分配到个人,之后再标记为已完成.Org mode 通过改变命令 <code>C-c C-t</code> <sup><a id="fnr.9" class="footref" href="#fn.9">9</a></sup>的工作方式来支持这一点.当连续使用这个命令几次时,为
了初次选择任务的正确类型,关键字仍然会在所有名字里循环.但当你一段时间后回到该
待办事项,然后再次使用 <code>C-c C-t</code> 命令时,会将类型从任何名字直接转换成 <code>DONE</code> .使用
前缀参数或补全可以快速选择特定名字.你也可以通过使用带数字前缀参数的 <code>C-c / t</code>
命令来在稀疏树中查看一种特定待办类型的条目.
例如,为了查看 Lucy 要做的所有事情,你可以使用 <code>C-3 C-c / t</code>.
为了从所有的 agenda 文件中搜集所有 Lucy 的事项到单个缓冲区,你也可以在创建全
局待办列表时使用数字前缀参数: <code>C-3 M-x org-agenda t</code>
</p>
</div>
</div>

<div id="outline-container-org2705d32" class="outline-4">
<h4 id="org2705d32">多套关键字(Multiple sets in one file)</h4>
<div class="outline-text-4" id="text-org2705d32">
<p>
所有都混合在一起,但仍然能够找到&#x2026;(Mixing it all, still finding your way.)
</p>

<p>
有时候,你可能想同时使用不同系列的待办关键字.
例如,你可能想使用基本的 TODO/DONE, 但也想有一个修复 bug 的工作流和一个单独的
状态来表示被取消的事项,也就是没有完成,但是也不需要处理的事项.
那你可以这样设置:
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="font-weight: bold;">setq</span> org-todo-keywords
      '((sequence <span style="font-style: italic;">"TODO"</span> <span style="font-style: italic;">"|"</span> <span style="font-style: italic;">"DONE"</span>)
        (sequence <span style="font-style: italic;">"REPORT"</span> <span style="font-style: italic;">"BUG"</span> <span style="font-style: italic;">"KNOWNCAUSE"</span> <span style="font-style: italic;">"|"</span> <span style="font-style: italic;">"FIXED"</span>)
        (sequence <span style="font-style: italic;">"|"</span> <span style="font-style: italic;">"CANCELED"</span>)))
</pre>
</div>

<p>
关键字应该都不同,这有助于 Org mode 跟踪给定条目应该使用的子序列.使用这个设
置, <code>C-c C-t</code> 只会在字序列里操作,所以,该命令只会将状态从 DONE 切换到
nothing(普通标题结构) 再到 TODO, 从 FIXED 切换到 nothing 再到 REPORT. 因此,
你需要一个能在开始选择正确序列的机制.除了键入关键字或使用补全(见
[[Completion), 你也可以应用下面这些命令:
</p>
<dl class="org-dl">
<dt>'C-u C-u C-c C-t' 'C-S-&lt;RIGHT&gt;' 'C-S-&lt;LEFT&gt;'</dt><dd>这些快捷键从一个待办的子序
列跳转到下一个. 在上面的例子中, <code>C-u C-u C-c C-t</code> 或 <code>C-S-&lt;RIGHT&gt;</code> 会将状态从
TODO 或 DONE 跳转到 REPORT, 会将第二行中的任意一种状态跳转到 CANCELED. 注
意, <code>C-S-</code> 快捷键绑定与 shift-selection (见 [[Conflicts)冲突了.</dd>
<dt>'S-&lt;RIGTH&gt;' 'S-&lt;LEFT&gt;'</dt><dd><code>S-&lt;LEFT&gt;</code> 和 <code>S-&lt;RIGHT&gt;</code> 会遍历所有子序列中的所有关
键字.例如,在上面例子中, <code>S-&lt;RIGHT&gt;</code> 会从 DONE 切换到 REPORT. 有关
shift-selection 的交互的讨论,参见[[Conflicts.</dd>
</dl>
</div>
</div>

<div id="outline-container-org5d60da6" class="outline-4">
<h4 id="org5d60da6">快速访问 TODO 状态(Fast access to TODO states)</h4>
<div class="outline-text-4" id="text-org5d60da6">
<p>
使用单个字母选择状态.
</p>

<p>
如果你想快速改变一个条目的状态为任意的待办状态,而不是通过循环状态来选择,你可
以设置单字符的快捷键来访问这些状态.这个可以通过在每一个关键字后面的括号中添
加选择字符来完成<sup><a id="fnr.10" class="footref" href="#fn.10">10</a></sup>.
例如:
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="font-weight: bold;">setq</span> org-todo-keywords
      '((sequence <span style="font-style: italic;">"TODO(t)"</span> <span style="font-style: italic;">"|"</span> <span style="font-style: italic;">"DONE(d)"</span>)
        (sequence <span style="font-style: italic;">"REPORT(r)"</span> <span style="font-style: italic;">"BUG(b)"</span> <span style="font-style: italic;">"KNOWNCAUSE(k)"</span> <span style="font-style: italic;">"|"</span> <span style="font-style: italic;">"FIXED(f)"</span>)
        (sequence <span style="font-style: italic;">"|"</span> <span style="font-style: italic;">"CANCELED(c)"</span>)))
</pre>
</div>

<p>
如果你按下 <code>C-c C-t</code> 再加上一个选择键,条目就会被切换到那个状态. <code>&lt;SPC&gt;</code> 可以用来
移除一个条目的任意待办关键字<sup><a id="fnr.11" class="footref" href="#fn.11">11</a></sup>.
</p>
</div>
</div>


<div id="outline-container-org7addcaf" class="outline-4">
<h4 id="org7addcaf">单文件关键字(Per-file keywords)</h4>
<div class="outline-text-4" id="text-org7addcaf">
<p>
不同的文件,不同的需求.
</p>

<p>
在不同的文件中使用 TODO 机制的不同方面是很有用的.对于文件内设置,你需要添加特
殊行来为该文件设置关键字和解释.例如,为了设置上面讨论过的两个例子,你需要下面
的一行内容,放在在文件的任何一行的行首:
</p>
<pre class="example">
#+TODO: TODO FEEDBACK VERIFY | DONE CANCELED
</pre>
<p>
你也可以使用 <code>#+SEQ_TODO</code> 来明确解释,它和 <code>#+TODO</code> 作用是相同的或者使用下面这个:
</p>
<pre class="example">
#+TYP_TODO: Fred Sara Lucy Mike | DONE
</pre>
<p>
多套关键字同时使用的设置是这样的:
</p>
<pre class="example">
#+TODO: TODO(t) | DONE(d)
#+TODO: REPORT(r) BUG(b) KNOWNCAUSE(k) | FIXED(f)
#+TODO: | CANCELED(c)
</pre>

<p>
为了确保你使用了正确的关键字,在键入 <code>#+</code> 到缓冲区之后使用 <code>M-&lt;TAB&gt;</code> 来补全它(参
见 [[Completion)
</p>

<p>
记住一点,竖线之后的关键字,或者最后一个关键字(如果没有竖线)必须意味着这个条目
是完成了,不过你可以使用不同的单词.在改变这些行里的设置之后,在光标位于改变的
行上时,使用 <code>C-c C-c</code> 来使 Org mode 知道这些改变<sup><a id="fnr.12" class="footref" href="#fn.12">12</a></sup>.
</p>
</div>
</div>


<div id="outline-container-orge6c405a" class="outline-4">
<h4 id="orge6c405a"><code>TODO</code> 关键字的外观(Faces for TODO keywords)</h4>
<div class="outline-text-4" id="text-orge6c405a">
<p>
高亮显示 TODO 项目的状态.
</p>

<p>
Emacs 把颜色,字体这些与外观相关的属性的概念称为 face.
</p>

<p>
Org mode 会使用特殊的外观高亮显示 TODO 关键字: <code>org-todo</code> 外观用来高亮那些表明条目
仍然需要执行的关键字, <code>org-done</code> 外观会高亮那些表明条目已经完成的关键字.如果你
使用超过两种的不同状态,你可能想要为他们中的部分使用特殊的外观,这可以通过使用
变量 <code>org-todo-keyword-faces</code> 来实现.例如:
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="font-weight: bold;">setq</span> org-todo-keyword-faces
      '((<span style="font-style: italic;">"TODO"</span> . org-warning) (<span style="font-style: italic;">"STARTED"</span> . <span style="font-style: italic;">"yellow"</span>)
        (<span style="font-style: italic;">"CANCELED"</span> . (<span style="font-weight: bold;">:foreground</span> <span style="font-style: italic;">"blue"</span> <span style="font-weight: bold;">:weight</span> bold))))
</pre>
</div>

<p>
尽管像上面的 <code>CANCELED</code> 展示的使用一个外观属性的列表应该有效,但这并不总是如此.如
果有必要,定义一个特殊的外观并使用它.一个字符串会被解释成一个颜色. 变量
<code>org-faces-easy-properties</code> 决定颜色是被解释成背景色或前景色.
</p>
</div>
</div>

<div id="outline-container-orge396b58" class="outline-4">
<h4 id="orge396b58"><code>TODO</code> 依赖项(TODO dependencies)</h4>
<div class="outline-text-4" id="text-orge396b58">
<p>
一个任务需要等待其他任务完成的情况.
</p>

<p>
Org 文件层级和列表的结构使得它能很容易定义待办依赖项(TODO 依赖项).
</p>

<p>
通常来讲,在所有待办子任务或下级任务被标记为完成之前,上一层级待办任务不应该被
标记为完成.有时候,子任务中存在逻辑序列,所以在某任务的所有前置任务被标记为完
成之前, 它都不能开始完成. 如果你设置变量 <code>org-enforce-todo-dependencies</code> ,在条
目有用为完成的子待办事项时,Org 会阻止你将条目的状态切换为完成.
此外,如果一个条目拥有 <code>ORDERED</code> 属性,在所有前置待办事项完成之前,该条目的子待办
事项将会被阻塞.这是一个例子:
</p>
<pre class="example">
* TODO Blocked until (two) is done
** DONE one
** TODO two

* Parent
:PROPERTIES:
:ORDERED:  t
:END:
** TODO a
** TODO b, needs to wait for (a)
** TODO c, needs to wait for (a) and (b)
</pre>

<p>
你也可以使用 <code>NOBLOCKING</code> 属性来保证一个条目绝不会被阻塞(见 [[Properties and
Columns):
</p>
<pre class="example">
* This entry is never blocked
:PROPERTIES:
:NOBLOCKING: t
:END:
</pre>

<dl class="org-dl">
<dt>C-c C-x o &#x2013; (org-toggle-ordered-property)</dt><dd>切换当前条目的 <code>ORDERED</code> 属性.使
用属性来设置这个行为是因为这个行为应该作用于当前条目,而不是像标签一样从上
层继承(见<a href="#org13db3c6">标签(Tags)</a>). 然而,如果你为了更好的可见性,想要使用标签来追踪这个属性的值,请
设置变量 <code>org-track-ordered-property-with-tag</code>.</dd>
<dt>C-u C-u C-u C-c C-t</dt><dd>改变 TODO 状态,无视任何状态阻塞.</dd>
</dl>


<p>
如果你设置了变量 <code>org-agenda-dim-blocked-tasks</code>, 在 agenda 视图里,待办条目不能
被标记为完成,因为未被标记的子条目使用黯淡的字体显示甚至是被隐藏了,详情参见
<a href="#org1408836">Agenda Views</a>.
</p>

<p>
你也可以通过使用复选框来阻塞待办状态的改变,参见 <a href="#org69099ec">复选框(Checkboxes)</a>. 如果你
色纸了变量 <code>org-enforce-todo-checkbox-dependencies</code>, 拥有未勾选的复选框的条目
将被阻止切换到 DONE.
</p>

<p>
如果你需要更复杂的依赖结构,例如在不同树结构或文件中的条目之间的依赖,请查看
在 <code>org-contrib</code> 仓库里的 <code>org-depend.el</code> 模块.
</p>
</div>
</div>
</div>
<div id="outline-container-org1028f87" class="outline-3">
<h3 id="org1028f87">进度记录(Progress Logging)</h3>
<div class="outline-text-3" id="text-org1028f87">
<p>
进度的日期和笔记.
</p>

<p>
当待办状态改变时,想要记录时间戳和笔记,请带上前缀参数调用命令 <code>org-todo</code>
</p>

<dl class="org-dl">
<dt>C-u C-c C-t &#x2013; (org-todo)</dt><dd><p>
提示输入笔记,并记录待办状态改变的时间.笔记会
作为一个列表被插入到标题之下, 但是也可以被放置到一个 drawer 里,详情参见
<a href="#orgcf65c81">跟踪待办状态改变(Tracking TODO state changes)</a>
</p>

<p>
如果你想更有系统性,Org 可以在你将一个条目标记未完成时或者在你每次改变待办
事项的状态时,自动记录时间戳并有选择性的记录笔记.这个系统是高度可定制的,设
置可以基于每个关键字,并且可以本地化到文件甚至是子树.对于如何为任务计时的信
息,参见 *Clocking Work Time.
</p></dd>
</dl>
</div>

<div id="outline-container-orgaf5788a" class="outline-4">
<h4 id="orgaf5788a">关闭条目(Closing items)</h4>
<div class="outline-text-4" id="text-orgaf5788a">
<p>
什么时候将条目标记未已完成?
</p>

<p>
最基本的自动记录是记录某个待办事项何时标记为完成.可以通过下面代码实现:<sup><a id="fnr.13" class="footref" href="#fn.13">13</a></sup>
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="font-weight: bold;">setq</span> org-log-done 'time)
</pre>
</div>
<p>
然后每一次你将一个待办状态(非已完成状态)转换成任意一种已完成状态时,一行
<code>CLOSED: [timestamp]</code> 这样的文本将会插入到标题之下.如果你通过进一步状态循环,将
待办事项状态转换成待办类型,这一行又会被删除. 如果你将条目转换回非待办事项的
状态(例如使用 <code>C-c C-t &lt;SPC&gt;</code>), 这一行也会被删除,除非你把变量
<code>org-closed-keep-when-no-todo</code> 为非 <code>nil</code>. 如果你想随着时间戳一起记录笔记,使
用:<sup><a id="fnr.14" class="footref" href="#fn.14">14</a></sup>
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="font-weight: bold;">setq</span> org-log-done 'note)
</pre>
</div>
<p>
使用这个设置,你会被提示输入一条笔记,这条笔记会被存储在条目之下的名为
<code>Closing Note</code> 的标题里.
</p>
</div>
</div>

<div id="outline-container-orgcf65c81" class="outline-4">
<h4 id="orgcf65c81">跟踪待办状态改变(Tracking TODO state changes)</h4>
<div class="outline-text-4" id="text-orgcf65c81">
<p>
状态是什么时候改变的?
</p>

<p>
你可能想要自动跟踪状态发生变化的时间,并记录此更改.你可以只记录时间戳也可以记
录带时间戳的笔记.这些记录会被作为逐项列表的形式插入到标题之下,作为最新的一行
<sup><a id="fnr.15" class="footref" href="#fn.15">15</a></sup>.当记下了很多笔记之后,你可能想
要将这些笔记放到抽屉(见 <a href="#orga8968da">抽屉 (Drawers)</a>). 配置变量 <code>org-log-into-drawer</code> 来实
现这一行为.对于这些笔记,推荐的抽屉叫做 <code>LOGBOOK</code> <sup><a id="fnr.16" class="footref" href="#fn.16">16</a></sup>.你也可以针对
子树覆盖这个变量的配置,只需通过设置 <code>LOG_INTO_DRAWER</code> 属性.
</p>

<p>
因为对每个状态都记录一条笔记通常来说都太多了,所以 Org mode 希望基于每个关键
字对此进行设置. 这个可以通过在每个关键字后面的括号里添加特殊符号 <code>!</code> (代表时间
戳)或 <code>@</code> (代表带时间戳的笔记)来实现. 例如,使用下面的设置:
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="font-weight: bold;">setq</span> org-todo-keywords
      '((sequence <span style="font-style: italic;">"TODO(t)"</span> <span style="font-style: italic;">"WAIT(w@/!)"</span> <span style="font-style: italic;">"|"</span> <span style="font-style: italic;">"DONE(d!)"</span> <span style="font-style: italic;">"CANCELED(c@)"</span>)))
</pre>
</div>
<p>
你不仅定义了全局待办关键字和快速访问键,而且要求在条目标记为 DONE 时记录时间,
在被标记未 WAIT 或 CANCELED 时记录笔记 <sup><a id="fnr.17" class="footref" href="#fn.17">17</a></sup>.
WAIT 的设置更为特殊:斜杠之后的 <code>!</code> 意味着,除了切换到该状态时记录笔记,从该状态切
出时也会记录时间戳,当且仅当切出后的状态没有配置记录日志时.也就是说,当从 WAIT
切换到 DONE 状态时,因为 DONE 配置了只记录时间戳,所以并不会记录 WAIT 切出的时
间.但当从 WAIT 切换回 TODO 时,WAIT 配置里的 <code>/!</code> 会触发一个时间戳记录,尽管
TODO 并没有配置日志的记录.
</p>

<p>
你可以使用完全相同的语法来设置本地缓冲区的日志记录首选项:
</p>
<pre class="example">
#+TODO: TODO(t) WAIT(w@/!) | DONE(d!) CANCELED(c@)
</pre>
<p>
给配置了 <code>@</code> 的待办关键字记录一条不带笔记的时间戳,只需要在提示输入时键入 <code>C-c
    C-c</code> 来插入一条空白笔记.
</p>

<p>
想要定义子树或单个条目的日志设置,在这个条目里定义一个 <code>LOGGING</code> 属性.任何一个
非空的 <code>LOGGING</code> 属性都会将所有日志设置重置为 <code>nil</code>. 然后你可以用 <code>STARTUP</code> 关键字
来为这个特定的条目开启日志记录,例如 <code>lognotedone</code> 或 <code>logrepeat</code>, 或者是添加状态
的具体设置(例如 <code>TODO(!)</code>). 下面是一个例子:
</p>
<pre class="example">
* TODO Log each state with only a time
  :PROPERTIES:
  :LOGGING: TODO(!) WAIT(!) DONE(!) CANCELED(!)
  :END:
* TODO Only log when switching to WAIT, and when repeating
  :PROPERTIES:
  :LOGGING: WAIT(@) logrepeat
  :END:
* TODO No logging at all
  :PROPERTIES:
  :LOGGING: nil
  :END:
</pre>
</div>
</div>


<div id="outline-container-org64b706c" class="outline-4">
<h4 id="org64b706c">跟踪你的习惯</h4>
<div class="outline-text-4" id="text-org64b706c">
<p>
你有多坚持?
</p>

<p>
Org 拥有跟踪一种特殊类别的待办事项的连贯性的功能,这种功能被称作 "habits".要
使用这一功能,你必须通过定制变量 <code>org-modules</code> 启用 <code>habits</code> 模块.
</p>

<p>
一个习惯拥有下列属性:
</p>
<ol class="org-ol">
<li>习惯是一个待办事项,拥有一个待办关键字来表示启用的状态.</li>
<li>属性 <code>STYLE</code> 值要被设置为 <code>habit</code>, 参见 <a href="#org952a9c9">属性和列(Properties and Columns)</a></li>
<li>待办有一个计划日期,通常带上一个 <code>.+</code> 格式的重复间隔时间.一个 <code>++</code> 格式适合有
时间限制的习惯,例如,必须在周末完成的.或者一个 <code>+</code> 格式用于表示可能有积压工
作(待办事项)的习惯,例如,每周报告.</li>
<li>TODO 还可以使用 <code>.+2d/3d</code> 语法指定最大和最小范围,这表示你希望至多每三天完成
一次任务,最多每两天完成一次.</li>
<li>DONE 状态的状态日志是启用的(参见 <a href="#orgcf65c81">跟踪待办状态改变(Tracking TODO state changes)</a>) ,以便能用连贯的图表展示历史数据.如果没有启用,不是一个错误,但连
续性图表很大程度上就没有意义了.</li>
</ol>


<p>
为了让你了解上述规则在实际操作中是怎样的,这里有一个带历史记录的习惯:
</p>
<pre class="example">
** TODO Shave
   SCHEDULED: &lt;2009-10-17 Sat .+2d/4d&gt;
   :PROPERTIES:
   :STYLE:    habit
   :LAST_REPEAT: [2009-10-19 Mon 00:36]
   :END:
   - State "DONE"       from "TODO"       [2009-10-15 Thu]
   - State "DONE"       from "TODO"       [2009-10-12 Mon]
   - State "DONE"       from "TODO"       [2009-10-10 Sat]
   - State "DONE"       from "TODO"       [2009-10-04 Sun]
   - State "DONE"       from "TODO"       [2009-10-02 Fri]
   - State "DONE"       from "TODO"       [2009-09-29 Tue]
   - State "DONE"       from "TODO"       [2009-09-25 Fri]
   - State "DONE"       from "TODO"       [2009-09-19 Sat]
   - State "DONE"       from "TODO"       [2009-09-16 Wed]
   - State "DONE"       from "TODO"       [2009-09-12 Sat]
</pre>

<p>
这个习惯描述的是:我想最多每2天最少每4天要刮一次胡子(根据给定的 <code>SCHEDULED</code> 日
期和重复间隔).如果今天是15号,这个习惯在至少两天之后的17号首次出现在日程里(参
见 <a href="#org1408836">Agenda Views</a>), 并将在四天之后的19号之后过期.
</p>

<p>
habits 真正有用的地方在于它展现出来的连贯性图标,展示你过去完成该任务的一致性.这
个图表展示了过去三个星期的完成任务的每一天,以及每一天的颜色,颜色的含义:
</p>
<dl class="org-dl">
<dt>蓝色</dt><dd>如果当天任务还没有完成.</dd>
<dt>绿色</dt><dd>如果那天任务已被完成.</dd>
<dt>黄色</dt><dd>如果任务明天会过期.</dd>
<dt>红色</dt><dd>如果任务在当天已经过期.</dd>
</dl>


<p>
除了给每一天图上颜色之外,如果当天的任务确实完成了,那天还会被用一个星号标记,
并用感叹号标记来展示当天在图表中的位置.
</p>

<p>
这里有几个配置变量可以用来改变习惯在日程里展示的方式.
</p>
<dl class="org-dl">
<dt>org-habit-graph-column</dt><dd>持续性图表应该被绘制在缓冲区的哪一列.这会覆盖哪
一列的任意文本,所以保持习惯的标题简介明了是一个好主意.</dd>
<dt>org-habit-preceding-days</dt><dd>持续性图表中展示的历史量,以今天之前的天数为单
位.</dd>
<dt>org-habit-following-days</dt><dd>持续性图表中显示的今天之后的天数.</dd>
<dt>org-habit-show-habits-only-for-today</dt><dd>如果是非 <code>nil</code>, 只在今天的日程视图里
展示习惯. 默认值是 <code>t</code>. 在日程视图使用 <code>C-u K</code> 可以开关这个变量.</dd>
</dl>


<p>
最后,日程缓冲区里按 <code>K</code> 会导致习惯暂时被关闭,并不再显示.再次按 <code>K</code> 可以再次显示
出来.如果你有一些习惯只在特定的环境下进行,他们也会受到标签过滤的影响.
</p>
</div>
</div>
</div>

<div id="outline-container-org1cb8a29" class="outline-3">
<h3 id="org1cb8a29">优先级(Priorities)</h3>
<div class="outline-text-3" id="text-org1cb8a29">
<p>
一些比其他事情更重要的事.
</p>

<p>
如果你经常使用 Org mode, 你可能会有足够多的待办事项,使得开始对他们进行优先级
排序变得有意义.优先级排序可以通过将 优先级cookie 放置在 TODO 条目的标题的
TODO 关键字之后实现,就像这样:
</p>
<pre class="example">
*** TODO [#A] Write letter to Sam Fortune
</pre>

<p>
Org mode 默认支持三个优先级: <code>A</code> , <code>B</code> 和 <code>C</code>.其中 <code>A</code> 是最高优先级.一个没有 cookie
的条目被视作其拥有 <code>B</code> 优先级.优先级只会对日程中的排序操作产生影响(参见
<a href="#org09c33e4">Weekly/daily agenda</a>). 在日程之外,他们对 Org mode 来说没有固有意义.这些
cookies 的外观是由变量 <code>org-priority-faces</code> 定义的,是可以自定义的.
</p>

<p>
你也可以使用数字值表示优先级,例如:
</p>
<pre class="example">
*** TODO [#1] Write letter to Sam Fortune
</pre>

<p>
当使用数字优先级时,你需要将变量 <code>org-priority-highest</code>, <code>org-priority-lowest</code>
和 <code>org-priority-default</code> 设置为整数,这些整数必须严格低于65.
</p>

<p>
优先级可以被附加到任意大纲节点,他们并不需要是待办事项.
</p>

<dl class="org-dl">
<dt>C-c , &#x2013; (org-priority)</dt><dd>设置当前标题的优先级. 这个命令提示输入优先级字
符 <code>A</code> , <code>B</code> 或 <code>C</code>. 当你输入的是 <code>&lt;SPC&gt;</code> 时,如果已有优先级 cookie 设置,会清除该优
先级设置.在 agenda 缓冲区里使用命令 <code>,</code> 也可以 "远程" 改变优先级,参见
<a href="#org2f0bc3c">Agenda Commands</a>.</dd>
<dt>S-&lt;UP&gt; &#x2013; (org-priority-up) , S-&lt;DOWN&gt; &#x2013; (org-priority-down)</dt><dd>提高/降低
当前标题的优先级<sup><a id="fnr.18" class="footref" href="#fn.18">18</a></sup>.注意,这
些快捷键也用来修改时间戳(见 <a href="#orgbcdcbb7">创建时间戳(Creating Timestamps)</a>). 另见
<a href="#org8b3525e">Conflicts</a> 里关于使用 shift-选择 进行交互的讨论.</dd>
</dl>


<p>
你可以通过设置变量 <code>org-priority-highest</code> , <code>org-priority-lowest</code> 和
<code>org-priority-default</code> 来改变允许的优先级范围. 对于一个单独的缓冲区,你可以这样
设置这些值(最高,最低和默认值,请确保最高优先级在字母表里比最低优先级要更靠前):
</p>
<pre class="example">
#+PRIORITIES: A C B
</pre>
<p>
或者使用数字值:
</p>
<pre class="example">
#+PRIORITIES: 1 10 5
</pre>
</div>
</div>


<div id="outline-container-orgfff7108" class="outline-3">
<h3 id="orgfff7108">分解任务(Breaking Down Tasks)</h3>
<div class="outline-text-3" id="text-orgfff7108">
<p>
拆分任务为便于管理的子任务.
</p>

<p>
通常建议将大的任务拆分成更小的,便于管理的子任务.你可以通过在 TODO 条目下创建
一个大纲树来实现这一点,该树上有详细的子任务<sup><a id="fnr.19" class="footref" href="#fn.19">19</a></sup>. 要对子任务中已经标记为已完成
的部分进行概述,请在标题中的任何位置插入 cookie : <code>[/]</code> 或 <code>[%]</code>. 每次在子任务状态
改变时,或者在 cookie 上按 <code>C-c C-c</code> 时,这些 cookie 都会更新.
例如:
</p>
<pre class="example">
* Organize Party [33%]
** TODO Call people [1/2]
*** TODO Peter
*** DONE Sarah
** TODO Buy food
** DONE Talk to neighbor
</pre>

<p>
如果一个标题树里同时有复选框和待办子树,这个统计 cookie 的意义就不明确了.将属
性 <code>COOKIE_DATA</code> 的值设置为 <code>checkbox</code> 或 <code>todo</code> 来解决这一问题.
</p>

<p>
如果你想让这个统计 cookie 计算子树中任意的待办条目(而不仅仅是直接子树条目),
请配置变量 <code>org-hierarchical-todo-statistics</code> .要为单个子树设置,可将单词
<code>recursive</code> (递归)添加到属性 <code>COOKIE_DATA</code> 的值里.
</p>
<pre class="example">
* Parent capturing statistics [2/20]
:PROPERTIES:
:COOKIE_DATA: todo recursive
:END:
</pre>

<p>
如果你想要一个条目在所有子待办都完成时自动被标记为已完成,你可以使用下面的设
置:
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="font-weight: bold;">defun</span> <span style="font-weight: bold;">org-summary-todo</span> (n-done n-not-done)
  <span style="font-style: italic;">"Switch entry to DONE when all subentries are done, to TODO otherwise."</span>
  (<span style="font-weight: bold;">let</span> (org-log-done org-log-states)   <span style="font-weight: bold; font-style: italic;">; </span><span style="font-weight: bold; font-style: italic;">turn off logging</span>
    (org-todo (<span style="font-weight: bold;">if</span> (= n-not-done 0) <span style="font-style: italic;">"DONE"</span> <span style="font-style: italic;">"TODO"</span>))))

(add-hook 'org-after-todo-statistics-hook #'org-summary-todo)
</pre>
</div>

<p>
另一个可选的用法是使用复选框(参见 <a href="#org69099ec">复选框(Checkboxes)</a>)来标识大量子任务.
</p>
</div>
</div>


<div id="outline-container-org69099ec" class="outline-3">
<h3 id="org69099ec">复选框(Checkboxes)</h3>
<div class="outline-text-3" id="text-org69099ec">
<p>
勾选清单.
</p>


<p>
每一个普通列表<sup><a id="fnr.20" class="footref" href="#fn.20">20</a></sup> 都可以通过以 <code>[ ]</code> 字符串开头来设置称为一个
复选框.这个特性和 TODO条目(见 <a href="#orgba6b5b5"><code>TODO</code> 条目(TODO Items)</a>)类似,但是更为轻量级.复
选框并不包含在全局待办列表里,所以使用他们来将任务拆分为多个简单的步骤非常有用.或
者你也可以在购物清单里使用他们.
</p>

<p>
这里有一个复选框列表的例子:
</p>
<pre class="example">
* TODO Organize party [2/4]
  - [-] call people [1/3]
    - [ ] Peter
    - [X] Sarah
    - [ ] Sam
  - [X] order food
  - [ ] think about what music to play
  - [X] talk to the neighbors

</pre>

<p>
复选框是按层级工作的,所以,如果一个复选框有子项复选框,勾选其中一个子复选框会使
得父项复选框反应是否勾选了子项,勾选部分子项或勾选了全部子项.
</p>

<p>
第一和第二行的 <code>[2/4]</code> 和 <code>[1/3]</code> 是 cookie, 用来表示这个条目里有多少复选框被勾选
了,总共有多少复选框.这可以让你知道有多少复选框剩余,即使你不展开折叠的条目.这
个 cookie 可以放置到标题里也可以放置在一个普通列表条目(的第一行)里.每一个
cookie 的范围涵盖了该 cookie 所在的条目/标题结构上的直接子节点<sup><a id="fnr.21" class="footref" href="#fn.21">21</a></sup>.
</p>

<p>
你必须自己手动键入 <code>[/]</code> 或 <code>[%]</code> cookie. 使用 <code>[/]</code> 你会得到一个 <code>n out of m</code> (几分
之几) 的结果,如上例.使用 <code>[%]</code> 你会得到复选框勾选的百分比的信息(在上例中分别会
是 <code>[50%]</code> 和 <code>[33%]</code>). 在标题中, 这个 cookie 会计算标题之下的复选框和子项的 TODO
状态,并显示最近变化的一类的状态.将 <code>COOKIE_DATA</code> 属性设置为 <code>checkbox</code> 或 <code>todo</code> 可
以解决这一问题.
</p>

<p>
如果当前标题有一个 <code>ORDERED</code> 属性, 复选框则必须按照顺序勾选,并在你试图勾选一个
前面仍有未勾选的条目的复选框时抛出一个错误.
</p>

<p>
下面这些命令适用于复选框:
</p>
<dl class="org-dl">
<dt>C-c C-c &#x2013;(org-toggle-checkbox)</dt><dd>切换复选框状态,或者带上前缀参数使用,切换
光标处复选框的存在状态.加上一个前缀参数,会添加一个空的复选框,或移除当前复选
框<sup><a id="fnr.22" class="footref" href="#fn.22">22</a></sup>. 加上两个前缀参数使用,会将条目设置为 <code>[-]</code> ,这被视为中间状态.</dd>
<dt>C-c C-x C-b &#x2013; (org-toggle-checkbox)</dt><dd>切换复选框状态,或者带上前缀参数使用,切
换光标出复选框的存在状态.带上双前缀参数使用,会将其设置为 <code>[-]</code> 的中间状态.
<ul class="org-ul">
<li>如果有选中区域,切换区域中第一个复选框的状态,并将剩下的复选框设置为和第一
个一样的状态.加上单前缀参数使用,为区域里所有条目添加或删除复选框.</li>
<li>如果光标在标题上,会切换这个标题和下个标题之间的区域里复选框的状态,而不是
整个子树范围.</li>
<li>如果没有选中区域,仅仅切换光标处的复选框.</li>
</ul></dd>

<dt>C-c C-x C-r &#x2013; (org-toggle-radio-button)</dt><dd>将光标处的条目的当作单选按钮来
切换复选框状态:当复选框状态切换时,同级的其他复选框都会被关闭(取消勾选).使用
通用的前缀参数,会切换复选框的存在状态.使用双前缀参数,会切换到 <code>[-]</code> 状态.
<code>C-c C-c</code> 也能被视为复选框的单选按钮,只需在列表之前设置 <code>#+ATTR_ORG: :radio t</code>
或者调用 <code>M-x org-list-checkbox-radio-mode</code> 来激活这个副模式.</dd>
<dt>M-S-&lt;RET&gt; &#x2013; (org-insert-todo-heading)</dt><dd>插入一个新的带复选框的条目,这只在
光标处已经有一个简单列表条目时生效(见 <a href="#orgac6e7a0">简单列表(Plain Lists)</a>)</dd>
<dt>C-c C-x o &#x2013; (org-toggle-ordered-property)</dt><dd>切换条目的 <code>ORDERED</code> 属性,如果
复选框必须按顺序勾选,请打开该选项.使用属性来设置这一行为是因为它应该只针对
当前条目,而不是像标签一样可以继承.然而,如果你为了更好的可见性,想用标签来跟
踪这个属性的值,请自定义 <code>org-track-ordered-property-with-tag</code>.</dd>
<dt>C-c # &#x2013; (org-update-statistics-cookies)</dt><dd>更新当前大纲条目的统计
cookie. 当加上 <code>C-u</code> 前缀调用,会更新整个文件的统计 cookie. 如果你使用 <code>C-c C-c</code>
切换复选框状态或者使用 <code>M-S-&lt;RET&gt;</code> 创建新复选框,复选框的统计 cookie 会自动更
新. TODO 的统计 cookie 会在 TODO 状态改变时更新.如果你手动添加或改变复选框/
条目,使用这个命令来恢复统计状态的同步.</dd>
</dl>
</div>
</div>
</div>

<div id="outline-container-org13db3c6" class="outline-2">
<h2 id="org13db3c6">标签(Tags)</h2>
<div class="outline-text-2" id="text-org13db3c6">
<p>
实现标签和上下的信息互相关联的一个很好的方法是为标题指定 <span class="underline">标签</span>.Org mode 广泛支持
标签.
每一个标题都可以包含一个标签列表,他们出现在标题的末尾.标签通常包含字母,数字, <code>_</code>
和 <code>@</code>.标签前面和后面必须有一个冒号,例如: <code>:work:</code>. 多个标签可以这样指定:
<code>:work:urgent:</code>. 标签默认用粗体显示,颜色和标题一行.你可以使用变量 <code>org-tag-faces</code> 为
特殊的标签指定特殊外观,其方式与 TODO 关键字的方式大致相同,详情可以参见
<a href="#orge6c405a"><code>TODO</code> 关键字的外观(Faces for TODO keywords)</a>).
</p>
</div>

<div id="outline-container-org858d0fa" class="outline-3">
<h3 id="org858d0fa">标签继承(Tag Inheritance)</h3>
<div class="outline-text-3" id="text-org858d0fa">
<p>
标签使用大纲的树结构.
</p>

<p>
如果一个标题有一个特定标签,其所有的子标题也继承这个标签.例如,在下面这个列表中:
</p>
<pre class="example">
* Meeting with the French group      :work:
** Summary by Frank                  :boss:notes:
*** TODO Prepare slides for him      :action:
</pre>
<p>
最后一个标题有这些标签 <code>work</code>, <code>boss</code>, <code>notes</code> 和 <code>action</code>, 即使最后一个标题并没有显式标
识这些标签. 你还可以设置文件中所有条目都应该继承的标签,就像这些标签时定义在围绕
整个文件的假定层级零里一样.就像下面这样<sup><a id="fnr.23" class="footref" href="#fn.23">23</a></sup>:
</p>
<pre class="example">
#+FILETAGS: :Peter:Boss:Secret:
</pre>

<p>
要限制特定标签的标签继承,或彻底禁用它的继承功能,使用变量 <code>org-use-tag-inheritance</code>
和 <code>org-tags-exclude-from-inheritance</code>.
</p>

<p>
在标签继承开启的情况下,当一个标题匹配标签搜索时(指简单匹配格式),所有的子树也会被
匹配<sup><a id="fnr.24" class="footref" href="#fn.24">24</a></sup>. 此时匹配的列表会变得非常长. 如果你只想看到子树里的第一个标签匹配结
果,请配置变量 <code>org-tags-match-list-sublevels</code> (并不推荐这样做).
</p>

<p>
在 agenda 搜索试图匹配 <code>tags</code> 或 <code>tags-todo</code> 类型的标记时,标签继承也是相应的. 对于其
他的 agenda 类型, <code>org-use-tag-inheritance</code> 没有效果.不过,你可能希望在 agenda 里正
确设置标签,以便标签过滤能很好处理继承的标签. 设置 <code>org-agenda-use-tag-inheritance</code>
变量来控制这一行为: 默认值包括所有 agenda 类型,但将其设置为 <code>nil</code> 可以加快 agenda
的生成.
</p>
</div>
</div>


<div id="outline-container-org3489332" class="outline-3">
<h3 id="org3489332">设置标签(Setting Tags)</h3>
<div class="outline-text-3" id="text-org3489332">
<p>
如何给标题指定标签.
</p>
</div>
</div>

<div id="outline-container-org1077f62" class="outline-3">
<h3 id="org1077f62">标签层级(Tag Hierarchy)</h3>
<div class="outline-text-3" id="text-org1077f62">
<p>
创建标签的层级.
</p>
</div>
</div>

<div id="outline-container-orgd61f10d" class="outline-3">
<h3 id="orgd61f10d">标签搜索(Tag Searches)</h3>
<div class="outline-text-3" id="text-orgd61f10d">
<p>
查找标签的组合.
</p>
</div>
</div>
</div>

<div id="outline-container-org952a9c9" class="outline-2">
<h2 id="org952a9c9">属性和列(Properties and Columns)</h2>
<div class="outline-text-2" id="text-org952a9c9">
</div>
<div id="outline-container-org6016aa4" class="outline-3">
<h3 id="org6016aa4">属性搜索(Property Searches)</h3>
</div>
</div>

<div id="outline-container-org08d8379" class="outline-2">
<h2 id="org08d8379">富文本的标记(Markup for Rich Contents)</h2>
<div class="outline-text-2" id="text-org08d8379">
</div>
<div id="outline-container-org9bb3976" class="outline-3">
<h3 id="org9bb3976">创建脚注(Creating Footnotes)</h3>
<div class="outline-text-3" id="text-org9bb3976">
<p>
脚注从第0列方括号中的脚注标记开始,不允许由缩进,到下一个脚注的定义,下一个
标题或连续两个空白行后结束.脚注引用只是文本里方括号中的标记.标记总是以 <code>fn:</code> 开
头,例如:
</p>
<pre class="example">
The Org homepage[fn:1] now looks a lot better than it used to.
...
[fn:1] The link is: https://orgmode.org
</pre>

<p>
Org 模式将基于数字的语法扩展到命名脚注和可选的内联定义.以下是有效的参考资料:
</p>

<dl class="org-dl">
<dt><code>[fn:NAME]</code></dt><dd>一种命名脚注引用. 其中 NAME 是一个唯一的标签词,或者为了便于自
动创建,是一个数字.</dd>

<dt><code>[fn:: This is the inline definition of this footnote]</code></dt><dd>一个直接在引用处给
出定义的脚注.</dd>

<dt><code>[fn:NAME: a definition]</code></dt><dd>一个脚注的内联定义,同时也指定注释的名称.因为 Org
允许多个引用指向同一个注释,所以,你可以使用 <code>[fn:NAME]</code> 来创建额外的引用.</dd>
</dl>


<p>
脚注标签可以自动创建,你也可以自己创建名称.这一行为是由变量
<code>org-footnote-auto-label</code> <sup><a id="fnr.25" class="footref" href="#fn.25">25</a></sup>.和其对应的 <code>STARTUP</code> 关键字处理.查看该变量的文档字符串
来获取详细信息.
</p>

<p>
下面的命令用来处理脚注:
</p>

<dl class="org-dl">
<dt><code>C-c C-x f</code></dt><dd>脚注操作命令.当光标在脚注引用上时,跳转到定义.当在定义上时,跳转
到第一个引用的位置 <code>[fn:2]</code>. 既不在脚注的引用,也不在其定义上时,就创建一个新的
脚注.取决于变量 <code>org-footnote-define-inline</code> 的值,脚注的定义会被放在文本里作
为引用的一部分.或者单独放置在变量 <code>org-footnote-section</code> 决定的位置上.
当这个命令加上前缀参数一起调用时,将提供一个附加选项的菜单:
<code>s</code> : 根据引用序列排序脚注.
<code>r</code> : 重新编码简单的 <code>fn:N</code> 脚注.
<code>S</code> : 先 <code>r</code> 重编码,后 <code>s</code> 排序的操作的简写.
<code>n</code> : 重命名所有脚注到 <code>fn:1</code> .. <code>fn:n</code> 的序列.
<code>d</code> : 删除当前脚注,包括定义和引用.
根据变量 <code>org-footnote-auto-adjust</code> <sup><a id="fnr.26" class="footref" href="#fn.26">26</a></sup> 的值,重排序和重编号可以在插入和删除脚注之
后自动进行.</dd>

<dt><code>C-c C-c</code></dt><dd>当光标位于一个脚注引用位置时,跳转到定义位置.如果光标在定义位置,
跳转回到引用位置.当在脚注位置时加上前缀参数调用,会提供和 <code>C-c C-x f</code> 一样的菜
单.</dd>

<dt><code>C-c C-o</code> 或 <code>mouse-1/2</code></dt><dd>脚注标签也是指向相应定义或引用的链接,你也可以使用普
通的命令打开这些链接.</dd>
</dl>
</div>
</div>
</div>

<div id="outline-container-org54cda96" class="outline-2">
<h2 id="org54cda96">导出(Exporting)</h2>
<div class="outline-text-2" id="text-org54cda96">
<p>
当需要将自己的 org 笔记打印出来,发布到网上,或是分享给不用 Org 的人.Orrg 可以将
文档转化并导出为各种其他的格式,同时尽可能的保持文档结构和 markup (富文本标记内
容).
负责将 org 文件转换成其他格式的库叫做 <code>back-ends</code>.
Org 自带对这些 <code>back-ends</code> 支持:
</p>
<ul class="org-ul">
<li>ascii (ASCII format)</li>
<li>beamer (LaTeX Beamer format)</li>
<li>html (HTML format)</li>
<li>icalendar (iCalendar format)</li>
<li>latex (LaTeX format)</li>
<li>md (Markdown format)</li>
<li>odt (OpenDocument Text format)</li>
<li>org (Org format)</li>
<li>texinfo (Texinfo format)</li>
<li>man (Man page format)</li>
</ul>
<p>
我们还可以从 Emacs 包系统里安装导出为其他格式的库, 为了方便查找,这些包有通用的
命名模式: <code>ox-NAME</code> , 例如 <code>ox-koma-letter</code> 就是 <code>koma-letter</code> 的 back-end. 更多的
back-end 可以在 <code>org-contrib</code> 仓库中找到.
</p>

<p>
Org 默认只加载这些 back-ends: ASCII, HTML, iCalendar, LaTeX, 和 ODT. 额外的
back-ends 可以通过两种方式加载:
</p>
<ul class="org-ul">
<li>修改 <code>org-export-backends</code></li>
<li>在 Emacs Init 文件里请求相应的库:
加载 Markdown 格式的 back-end, 在 Eamcs 配置文件里添加 <code>(require 'ox-md)</code></li>
</ul>
</div>
<div id="outline-container-org64af773" class="outline-3">
<h3 id="org64af773">The Export Dispatcher(The main interface.) 导出调度器</h3>
<div class="outline-text-3" id="text-org64af773">
<p>
To Be Continued!
</p>
</div>
</div>
<div id="outline-container-orgd48d5e9" class="outline-3">
<h3 id="orgd48d5e9">HTML Export</h3>
</div>
</div>

<div id="outline-container-org0f90a80" class="outline-2">
<h2 id="org0f90a80">捕获和附件(Capture and Attachments)</h2>
<div class="outline-text-2" id="text-org0f90a80">
</div>
<div id="outline-container-orga0f743c" class="outline-3">
<h3 id="orga0f743c">附件(Attachments)</h3>
</div>
</div>
<div id="outline-container-orgc0cf598" class="outline-2">
<h2 id="orgc0cf598"><span class="todo TODO">TODO</span> Unfinished task</h2>
<div class="outline-text-2" id="text-orgc0cf598">
<p>
除了 TODO Item 一节,其他带TODO 文本的地方都是许多需要修改引用或脚注的地方.
</p>
</div>
</div>
<div id="outline-container-org531de95" class="outline-2">
<h2 id="org531de95">Questions &amp; Answers</h2>
<div class="outline-text-2" id="text-org531de95">
</div>
<div id="outline-container-orgab5519c" class="outline-3">
<h3 id="orgab5519c">orgmode '#STARTUP: hideblocks' doesn't work</h3>
<div class="outline-text-3" id="text-orgab5519c">
<ul class="org-ul">
<li>description:
org version: 9.4.4
emacs version: 27.2
OS: Linux kamisama-20e0a013cd 5.10.102-1-MANJARO #1 SMP PREEMPT Wed Feb 23 14:44:40 UTC 2022 x86_64 GNU/Linux</li>
<li><p>
answer:
org 9.4 增加了一个新的变量 <code>org-startup-folded</code> 用开控制Orgmode的显示设置.
non-nil 表示orgmode 会使用概述模式打开文件.
也可以在每个文件里用 in-buffer 设置:
</p>
<pre class="example">
#+STARTUP: fold              (or ‘overview’, this is equivalent)
#+STARTUP: nofold            (or ‘showall’, this is equivalent)
#+STARTUP: content
#+STARTUP: showeverything
</pre>
<p>
这个设置会覆盖块结构的折叠设置.所以想要使用折叠块结构的设置,需要这两个设置
一起使用: <code>#+STARTUP: nofold hideblocks</code>
</p></li>
</ul>
</div>
</div>
</div>
<div id="outline-container-org1408836" class="outline-2">
<h2 id="org1408836">Agenda Views</h2>
<div class="outline-text-2" id="text-org1408836">
</div>
<div id="outline-container-org09c33e4" class="outline-3">
<h3 id="org09c33e4">Weekly/daily agenda</h3>
</div>
<div id="outline-container-org2f0bc3c" class="outline-3">
<h3 id="org2f0bc3c">Agenda Commands</h3>
</div>
</div>

<div id="outline-container-org5baa8aa" class="outline-2">
<h2 id="org5baa8aa">Dates and Times</h2>
<div class="outline-text-2" id="text-org5baa8aa">
</div>
<div id="outline-container-orgbcdcbb7" class="outline-3">
<h3 id="orgbcdcbb7">创建时间戳(Creating Timestamps)</h3>
</div>
</div>

<div id="outline-container-org8b3525e" class="outline-2">
<h2 id="org8b3525e">Conflicts</h2>
</div>
<div id="footnotes">
<h2 class="footnotes">Footnotes: </h2>
<div id="text-footnotes">

<div class="footdef"><sup><a id="fn.1" class="footnum" href="#fnr.1">1</a></sup> <div class="footpara">搜索的实际行为取决于变量 <code>org-link-search-must-match-exact-headline</code> 的值. 如果该值为 <code>nil</code> 则进行模糊文本搜索.如果是 <code>t</code> ,则只匹配标题,忽略空格和统计cookies. 如果值是 <code>query-to-create</code> ,则搜索准确的标题,如果未找到,则询问用户是否创建该标题.</div></div>

<div class="footdef"><sup><a id="fn.2" class="footnum" href="#fnr.2">2</a></sup> <div class="footpara">注意,你不是必须使用这个命
令插入链接,Org 的链接时纯文本,你可以直接键入或粘贴他们到缓冲区里.使用这个命
令,链接会自动用双括号包围,并且你会被要求输入可选的描述性文本</div></div>

<div class="footdef"><sup><a id="fn.3" class="footnum" href="#fnr.3">3</a></sup> <div class="footpara">在插入一个保
存的链接后,该链接会从保存的链接里移除.要使它保留在列表里以便随后使用,需要加
上三个 <code>C-u</code> 前缀参数调用 <code>C-c C-l</code> 或者配置选项
<code>org-link-keep-stored-after-insertion</code> .</div></div>

<div class="footdef"><sup><a id="fn.4" class="footnum" href="#fnr.4">4</a></sup> <div class="footpara">这在方法 <code>org-link-parameters</code> 定义的链接属性设置为 <code>:complete</code> 时生
效</div></div>

<div class="footdef"><sup><a id="fn.5" class="footnum" href="#fnr.5">5</a></sup> <div class="footpara">查看变量 ~org-link-use-indirect-buffer-for-internals</div></div>

<div class="footdef"><sup><a id="fn.6" class="footnum" href="#fnr.6">6</a></sup> <div class="footpara">为了向后兼容,行号也可跟在单个冒号之
后</div></div>

<div class="footdef"><sup><a id="fn.7" class="footnum" href="#fnr.7">7</a></sup> <div class="footpara">当然,你可以创建一个只包含TODO
项目的长列表的文件,但这不是必须的</div></div>

<div class="footdef"><sup><a id="fn.8" class="footnum" href="#fnr.8">8</a></sup> <div class="footpara">改变变量 <code>org-todo-keywords</code> 只会在缓冲区重启Org mode 之后生效.</div></div>

<div class="footdef"><sup><a id="fn.9" class="footnum" href="#fnr.9">9</a></sup> <div class="footpara">在agenda
缓冲区里使用 t 命令也生效</div></div>

<div class="footdef"><sup><a id="fn.10" class="footnum" href="#fnr.10">10</a></sup> <div class="footpara">除了 '@','^'和'!'的所有字符都可以作为选择字符,因为这些
字符在这里有特殊含义</div></div>

<div class="footdef"><sup><a id="fn.11" class="footnum" href="#fnr.11">11</a></sup> <div class="footpara">查看变量
<code>org-fast-tag-selection-include-todo</code> 文档,它允许你通过标签接口(见 Setting
Tags) 改变待办事项的状态,如果你喜欢把这两个概念混着用.注意,这意味着你要提供
两组独一无二的关键字</div></div>

<div class="footdef"><sup><a id="fn.12" class="footnum" href="#fnr.12">12</a></sup> <div class="footpara">只有在访问一个文件并激活
Org mode 之后, Org mode 才会解析这些行.光标在 <code>#+</code> 开头的行上时,使用 <code>C-c C-c</code>
只是为当前缓冲区重启 Org mode</div></div>

<div class="footdef"><sup><a id="fn.13" class="footnum" href="#fnr.13">13</a></sup> <div class="footpara">相应的缓冲区内设置是: <code>#+STARTUP: logdone</code></div></div>

<div class="footdef"><sup><a id="fn.14" class="footnum" href="#fnr.14">14</a></sup> <div class="footpara">相应的缓冲区内设置是: <code>#+STARTUP: lognotedone</code></div></div>

<div class="footdef"><sup><a id="fn.15" class="footnum" href="#fnr.15">15</a></sup> <div class="footpara">参见变量 <code>org-log-states-order-reversed</code></div></div>

<div class="footdef"><sup><a id="fn.16" class="footnum" href="#fnr.16">16</a></sup> <div class="footpara">注意,这个 LOGBOOK 抽屉
在 agenda 视图里按 <code>&lt;SPC&gt;</code> 是不会被折叠的,要使用 <code>C-u &lt;SPC&gt;</code> 才行.</div></div>

<div class="footdef"><sup><a id="fn.17" class="footnum" href="#fnr.17">17</a></sup> <div class="footpara">在你同时使用了 <code>org-log-done</code> 和
状态改变记录时,Org mode 可能会记录两个时间戳.但是,Org mode 不会提示输入两条
笔记:如果你同时使用了两种配置,状态变化的笔记优先,并会取消完成状态的笔记</div></div>

<div class="footdef"><sup><a id="fn.18" class="footnum" href="#fnr.18">18</a></sup> <div class="footpara">另见选项 <code>org-priority-start-cycle-with-default</code></div></div>

<div class="footdef"><sup><a id="fn.19" class="footnum" href="#fnr.19">19</a></sup> <div class="footpara">让子任务排除在全局待办事项之
外,请参见选项 <code>org-agenda-todo-list-sublevels</code></div></div>

<div class="footdef"><sup><a id="fn.20" class="footnum" href="#fnr.20">20</a></sup> <div class="footpara">描述列表除外.但你可以通过相应的更改
<code>org-list-automatic-rules</code> 来支持它.</div></div>

<div class="footdef"><sup><a id="fn.21" class="footnum" href="#fnr.21">21</a></sup> <div class="footpara">如果你想
这些 cookie 计算该 cookie 之下的所有复选框,而不仅仅是直接子节点的复选框,你可
以设置变量 <code>org-hierarchical-checkbox-statistics</code></div></div>

<div class="footdef"><sup><a id="fn.22" class="footnum" href="#fnr.22">22</a></sup> <div class="footpara"><code>C-u C-c C-c</code> 在一个没有复选框的列表的第一个条目上使用时,会给剩余的列
表添加复选框.</div></div>

<div class="footdef"><sup><a id="fn.23" class="footnum" href="#fnr.23">23</a></sup> <div class="footpara">和所有缓冲区设置一样,使用 <code>C-c C-c</code>
来激活行中的任何更改.</div></div>

<div class="footdef"><sup><a id="fn.24" class="footnum" href="#fnr.24">24</a></sup> <div class="footpara">只有在搜索并不涉及复杂的测试时生效(包括属性,参见 <a href="#org6016aa4">属性搜索(Property Searches)</a>).</div></div>

<div class="footdef"><sup><a id="fn.25" class="footnum" href="#fnr.25">25</a></sup> <div class="footpara">相应的缓冲区设置是: '#+STARTUP: fninline' 或
'#+STARTUP: nofninline'</div></div>

<div class="footdef"><sup><a id="fn.26" class="footnum" href="#fnr.26">26</a></sup> <div class="footpara">相应的缓冲区设置是 '#+STARTUP:
fninline' 或 '#+STARTUP: nofninline'</div></div>


</div>
</div></div>
<div id="postamble" class="status">
<p class="author">Author: kamisama</p>
<p class="date">Created: 2022-04-22 Fri 12:35</p>
<p class="validation"></p>
</div>
</body>
</html>
