<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<!-- 2022-01-22 Sat 16:19 -->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>&lrm;</title>
<meta name="generator" content="Org mode" />
<meta name="author" content="kamisama" />
<style type="text/css">
 <!--/*--><![CDATA[/*><!--*/
  .title  { text-align: center;
             margin-bottom: .2em; }
  .subtitle { text-align: center;
              font-size: medium;
              font-weight: bold;
              margin-top:0; }
  .todo   { font-family: monospace; color: red; }
  .done   { font-family: monospace; color: green; }
  .priority { font-family: monospace; color: orange; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .org-right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .org-left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .org-center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #ccc;
    box-shadow: 3px 3px 3px #eee;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: visible;
    padding-top: 1.2em;
  }
  pre.src:before {
    display: none;
    position: absolute;
    background-color: white;
    top: -10px;
    right: 10px;
    padding: 3px;
    border: 1px solid black;
  }
  pre.src:hover:before { display: inline;}
  /* Languages per Org manual */
  pre.src-asymptote:before { content: 'Asymptote'; }
  pre.src-awk:before { content: 'Awk'; }
  pre.src-C:before { content: 'C'; }
  /* pre.src-C++ doesn't work in CSS */
  pre.src-clojure:before { content: 'Clojure'; }
  pre.src-css:before { content: 'CSS'; }
  pre.src-D:before { content: 'D'; }
  pre.src-ditaa:before { content: 'ditaa'; }
  pre.src-dot:before { content: 'Graphviz'; }
  pre.src-calc:before { content: 'Emacs Calc'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-fortran:before { content: 'Fortran'; }
  pre.src-gnuplot:before { content: 'gnuplot'; }
  pre.src-haskell:before { content: 'Haskell'; }
  pre.src-hledger:before { content: 'hledger'; }
  pre.src-java:before { content: 'Java'; }
  pre.src-js:before { content: 'Javascript'; }
  pre.src-latex:before { content: 'LaTeX'; }
  pre.src-ledger:before { content: 'Ledger'; }
  pre.src-lisp:before { content: 'Lisp'; }
  pre.src-lilypond:before { content: 'Lilypond'; }
  pre.src-lua:before { content: 'Lua'; }
  pre.src-matlab:before { content: 'MATLAB'; }
  pre.src-mscgen:before { content: 'Mscgen'; }
  pre.src-ocaml:before { content: 'Objective Caml'; }
  pre.src-octave:before { content: 'Octave'; }
  pre.src-org:before { content: 'Org mode'; }
  pre.src-oz:before { content: 'OZ'; }
  pre.src-plantuml:before { content: 'Plantuml'; }
  pre.src-processing:before { content: 'Processing.js'; }
  pre.src-python:before { content: 'Python'; }
  pre.src-R:before { content: 'R'; }
  pre.src-ruby:before { content: 'Ruby'; }
  pre.src-sass:before { content: 'Sass'; }
  pre.src-scheme:before { content: 'Scheme'; }
  pre.src-screen:before { content: 'Gnu Screen'; }
  pre.src-sed:before { content: 'Sed'; }
  pre.src-sh:before { content: 'shell'; }
  pre.src-sql:before { content: 'SQL'; }
  pre.src-sqlite:before { content: 'SQLite'; }
  /* additional languages in org.el's org-babel-load-languages alist */
  pre.src-forth:before { content: 'Forth'; }
  pre.src-io:before { content: 'IO'; }
  pre.src-J:before { content: 'J'; }
  pre.src-makefile:before { content: 'Makefile'; }
  pre.src-maxima:before { content: 'Maxima'; }
  pre.src-perl:before { content: 'Perl'; }
  pre.src-picolisp:before { content: 'Pico Lisp'; }
  pre.src-scala:before { content: 'Scala'; }
  pre.src-shell:before { content: 'Shell Script'; }
  pre.src-ebnf2ps:before { content: 'ebfn2ps'; }
  /* additional language identifiers per "defun org-babel-execute"
       in ob-*.el */
  pre.src-cpp:before  { content: 'C++'; }
  pre.src-abc:before  { content: 'ABC'; }
  pre.src-coq:before  { content: 'Coq'; }
  pre.src-groovy:before  { content: 'Groovy'; }
  /* additional language identifiers from org-babel-shell-names in
     ob-shell.el: ob-shell is the only babel language using a lambda to put
     the execution function name together. */
  pre.src-bash:before  { content: 'bash'; }
  pre.src-csh:before  { content: 'csh'; }
  pre.src-ash:before  { content: 'ash'; }
  pre.src-dash:before  { content: 'dash'; }
  pre.src-ksh:before  { content: 'ksh'; }
  pre.src-mksh:before  { content: 'mksh'; }
  pre.src-posh:before  { content: 'posh'; }
  /* Additional Emacs modes also supported by the LaTeX listings package */
  pre.src-ada:before { content: 'Ada'; }
  pre.src-asm:before { content: 'Assembler'; }
  pre.src-caml:before { content: 'Caml'; }
  pre.src-delphi:before { content: 'Delphi'; }
  pre.src-html:before { content: 'HTML'; }
  pre.src-idl:before { content: 'IDL'; }
  pre.src-mercury:before { content: 'Mercury'; }
  pre.src-metapost:before { content: 'MetaPost'; }
  pre.src-modula-2:before { content: 'Modula-2'; }
  pre.src-pascal:before { content: 'Pascal'; }
  pre.src-ps:before { content: 'PostScript'; }
  pre.src-prolog:before { content: 'Prolog'; }
  pre.src-simula:before { content: 'Simula'; }
  pre.src-tcl:before { content: 'tcl'; }
  pre.src-tex:before { content: 'TeX'; }
  pre.src-plain-tex:before { content: 'Plain TeX'; }
  pre.src-verilog:before { content: 'Verilog'; }
  pre.src-vhdl:before { content: 'VHDL'; }
  pre.src-xml:before { content: 'XML'; }
  pre.src-nxml:before { content: 'XML'; }
  /* add a generic configuration mode; LaTeX export needs an additional
     (add-to-list 'org-latex-listings-langs '(conf " ")) in .emacs */
  pre.src-conf:before { content: 'Configuration File'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.org-right  { text-align: center;  }
  th.org-left   { text-align: center;   }
  th.org-center { text-align: center; }
  td.org-right  { text-align: right;  }
  td.org-left   { text-align: left;   }
  td.org-center { text-align: center; }
  dt { font-weight: bold; }
  .footpara { display: inline; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  .org-svg { width: 90%; }
  /*]]>*/-->
</style>
<link rel="stylesheet" href="https://cdn.simplecss.org/simple.min.css" />
<script type="text/javascript">
/*
@licstart  The following is the entire license notice for the
JavaScript code in this tag.

Copyright (C) 2012-2019 Free Software Foundation, Inc.

The JavaScript code in this tag is free software: you can
redistribute it and/or modify it under the terms of the GNU
General Public License (GNU GPL) as published by the Free Software
Foundation, either version 3 of the License, or (at your option)
any later version.  The code is distributed WITHOUT ANY WARRANTY;
without even the implied warranty of MERCHANTABILITY or FITNESS
FOR A PARTICULAR PURPOSE.  See the GNU GPL for more details.

As additional permission under GNU GPL version 3 section 7, you
may distribute non-source (e.g., minimized or compacted) forms of
that code without the copy of the GNU GPL normally required by
section 4, provided you include this license notice and a URL
through which recipients can access the Corresponding Source.


@licend  The above is the entire license notice
for the JavaScript code in this tag.
*/
<!--/*--><![CDATA[/*><!--*/
 function CodeHighlightOn(elem, id)
 {
   var target = document.getElementById(id);
   if(null != target) {
     elem.cacheClassElem = elem.className;
     elem.cacheClassTarget = target.className;
     target.className = "code-highlighted";
     elem.className   = "code-highlighted";
   }
 }
 function CodeHighlightOff(elem, id)
 {
   var target = document.getElementById(id);
   if(elem.cacheClassElem)
     elem.className = elem.cacheClassElem;
   if(elem.cacheClassTarget)
     target.className = elem.cacheClassTarget;
 }
/*]]>*///-->
</script>
</head>
<body>
<div id="org-div-home-and-up">
 <a accesskey="h" href="./index.html"> UP </a>
 |
 <a accesskey="H" href="../index.html"> HOME </a>
</div><div id="content">
<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#org87df368"><span class="todo TODO">TODO</span> 文件结构(document structure)</a>
<ul>
<li><a href="#orgde0b6ba">标题(Headlines)</a>
<ul>
<li><a href="#orgd91be27"><span class="todo TODO">TODO</span> 跟读到 Clean View 这一部分后在这里做链接.</a></li>
<li><a href="#org81d2be4"><span class="todo TODO">TODO</span> 动态标题编号,链接.</a></li>
</ul>
</li>
<li><a href="#org2b4df39">标题可视性切换(Visibility Cycling)</a>
<ul>
<li><a href="#org606ff2b">全局和部分切换(Global and local cycling)</a></li>
<li><a href="#org80f25ab">初始的可视性(Initial visibility)</a></li>
<li><a href="#org9c51a31">捕捉不经意的修改(Catching invisible edits)</a></li>
</ul>
</li>
<li><a href="#orge32fbe9">跳转(Motion)</a></li>
<li><a href="#orgdcdd481">结构编辑(Structure Editing)</a></li>
<li><a href="#org6e99400">稀疏树(Sparse Trees)</a></li>
<li><a href="#orgb83f5da">简单列表(Plain Lists)</a></li>
<li><a href="#org47015a0">抽屉 (Drawers)</a>
<ul>
<li><a href="#org0233adc"><span class="todo TODO">TODO</span> <code>C-c C-z</code> 添加一个带时间戳的笔记到 <code>LOGBOOK</code> drawer. 写完这里,我执行了快捷键,在</a></li>
</ul>
</li>
<li><a href="#org3693fb6">块结构 (Blocks)</a></li>
</ul>
</li>
<li><a href="#orgea8190c">表格(Tables)</a>
<ul>
<li><a href="#org504a27c">内置表格编辑器(Built-in Table Editor)</a>
<ul>
<li><a href="#org18dca75">创建和转化表格(Creation and conversion)</a></li>
<li><a href="#org8a6efcd">重对齐和字段移动(re-align and field motion)</a></li>
<li><a href="#org67b26c4">编辑列和行(Column and row editing)</a></li>
<li><a href="#org495fc6d">区域操作(Regions)</a></li>
<li><a href="#org51359fd">计算(Calculations)</a></li>
<li><a href="#org0af8e5c">杂项(Miscellaneous)</a></li>
</ul>
</li>
<li><a href="#org8a64ad0">列宽和对齐(Column Width and Alignment)</a></li>
<li><a href="#orgf5cebc6">列组(Column Groups)</a></li>
<li><a href="#orged7624f">Orgtbl Mode</a></li>
<li><a href="#orgf593805">电子表格(The Spreadsheet)</a>
<ul>
<li><a href="#org0d8abc4">引用(Reference)</a></li>
<li><a href="#org6a0da60">Calc 的公式语法(Formula syntax for Calc)</a></li>
<li><a href="#orgaffad2b">Lisp 的公式语法(Formula syntax for Lisp)</a></li>
<li><a href="#orgb0a8d4e">持续时间和时间值(Durations and time values)</a></li>
<li><a href="#org2e3efd7">字段和范围公式(Field and range formulas)</a></li>
<li><a href="#orgd26f083">列公式(Column formulas)</a></li>
<li><a href="#org05b0a98">查找函数(Lookup functions)</a></li>
<li><a href="#org362aeb5">编辑和调试公式(Editing and debugging formulas)</a></li>
<li><a href="#org7a0aa5b">更新表格(Updating the table)</a></li>
<li><a href="#orgac072d8">高级功能(Advanced features)</a></li>
</ul>
</li>
<li><a href="#orgf61cf4b">Org 绘图(Org Plot)</a>
<ul>
<li><a href="#orgc0073c4">使用 Gnuplot 的图形绘图(Graphical plots using Gnuplot)</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#org799bd71">超链接(Hyperlinks)</a>
<ul>
<li><a href="#org71b26d2">链接格式(Link Format)</a></li>
<li><a href="#org00d006e">内部链接(Internal Links)</a></li>
<li><a href="#org7eddd9d">无线电目标(Radio Targets)</a></li>
<li><a href="#org2a1ae9a">外部链接(External Links)</a></li>
<li><a href="#org28c5848">处理链接(Handling Links)</a></li>
</ul>
</li>
<li><a href="#org38e7ae5">富文本的标记(Markup for Rich Contents)</a>
<ul>
<li><a href="#orgf9d9b9f">创建脚注(Creating Footnotes)</a></li>
</ul>
</li>
<li><a href="#orgaa2bcfa">导出(Exporting)</a>
<ul>
<li><a href="#orge4bc96d">The Export Dispatcher(The main interface.) 导出调度器</a></li>
</ul>
</li>
</ul>
</div>
</div>

<div id="outline-container-org87df368" class="outline-2">
<h2 id="org87df368"><span class="todo TODO">TODO</span> 文件结构(document structure)</h2>
<div class="outline-text-2" id="text-org87df368">
<p>
Org 是一个大纲编辑器. 大纲让文件以层次结构组织文本,是一种很好的记录笔记和想法
的工具.层次结构的概述是以折叠的方式实现的,也就是隐藏文档的大部分内容,只展示大
致的文本结构和当前正在编辑(阅读)的部分. Org 将整个显示和隐藏的功能压缩到一个命
令: <code>org-cycle</code> 这极大地简化了大纲的使用,这个命令被绑定到 <code>&lt;TAB&gt;</code> 快捷键.
如果打开这个笔记的 org 形式源文件,将光标移动到标题上,按下 <code>&lt;TAB&gt;</code> ,就可以看到这
段文本都被隐藏,只显示这段内容的标题,
</p>
</div>

<div id="outline-container-orgde0b6ba" class="outline-3">
<h3 id="orgde0b6ba">标题(Headlines)</h3>
<div class="outline-text-3" id="text-orgde0b6ba">
<blockquote>
<p>
这部分内容是关于如何排版 Org 标题树的.
</p>
</blockquote>
<p>
标题(Headlines) 定义了大纲树的结构.一个 Org 标题从行首(左边缘 left margin)开
始, 格式为一个或多个星号 <code>*</code> 再加上一个空格,后面跟标题名.
</p>
<pre class="example">
* Top level
** Second level
*** Third level
    some content
* Another top level headline
</pre>
<p>
<code>org-footnote-section</code> 这个变量的值是作为'关键字'的角色被保留的,其默认值一般都
是 "Footnotes", 这是用来做页脚的.不要用这个词作为标题名.
有些人觉得多个星号 <code>*</code> 会很烦,他们可能会希望能用多个空格做缩进,只用一个星号来表
示层级.这个需求可以通过Org Indent minro mode 实现.
</p>
</div>

<div id="outline-container-orgd91be27" class="outline-4">
<h4 id="orgd91be27"><span class="todo TODO">TODO</span> 跟读到 Clean View 这一部分后在这里做链接.</h4>
<div class="outline-text-4" id="text-orgd91be27">
<p>
标题是没有编号的,但是可以动态的对他们进行部分或全部编号.更具体可以查看
Dynamic Headline Numbering 这一部分.
</p>
</div>
</div>

<div id="outline-container-org81d2be4" class="outline-4">
<h4 id="org81d2be4"><span class="todo TODO">TODO</span> 动态标题编号,链接.</h4>
<div class="outline-text-4" id="text-org81d2be4">
<p>
一个标题子树内容中,最后一行的空白行会被当作该子树的一部分,在折叠时会被折叠.但如果
最后有超过两行的空行,在折叠后标题之间就会有一行空行被保留,用来构成折叠视图.
查看变量 <code>org-cycle-separator-lines</code> 来调整这个行为.
</p>

<p>
当光标位于标题上时,可以通过快捷键 <code>C-a</code> , <code>C-e</code> , <code>C-k</code> 来在层级间进行光标移动,具体
表现行为看这三个变量的配置 <code>org-special-ctrl-a/e</code> <code>org-special-ctrl-k</code>
<code>org-ctrl-k-protect-subtree</code> .
还要注意下, clocking (计时) 功能只在层级小于等于三十,也就是星号不多于30个的标
题下工作,超过30层级,这个功能就不能使用了.
</p>
</div>
</div>
</div>


<div id="outline-container-org2b4df39" class="outline-3">
<h3 id="org2b4df39">标题可视性切换(Visibility Cycling)</h3>
<div class="outline-text-3" id="text-org2b4df39">
<blockquote>
<p>
这部分是关于隐藏和显示 Org 大纲的.标题可视性就是标题的折叠状态.
</p>
</blockquote>
</div>
<div id="outline-container-org606ff2b" class="outline-4">
<h4 id="org606ff2b">全局和部分切换(Global and local cycling)</h4>
<div class="outline-text-4" id="text-org606ff2b">
<p>
大纲功能可以隐藏当前缓冲区的部分文本. Org 只用两个命令去改变缓冲区文本的可视
性,默认被绑定到 <code>&lt;TAB&gt;</code> 和 <code>S-&lt;TAB&gt;</code> 快捷键.
</p>

<ul class="org-ul">
<li><p>
<code>&lt;TAB&gt;</code> &#x2013; (<code>org-cycle</code>) 部分折叠:
</p>

<ul class="org-ul">
<li>TODO 在当前子树条目中循环切换可视状态.</li>
</ul>
<p>
折叠状态 -&gt; 显示子标题树 -&gt; 显示子树内容 -&gt; 折叠
</p>

<p>
光标必须要在标题上切换才起作用.配置 <code>org-cycle-emulate-tab</code> 变量可以配置快捷键
<code>&lt;TAB&gt;</code> 起作用的情况.
</p></li>

<li><p>
<code>&lt;S-TAB&gt;</code> 或者 <code>C-u &lt;TAB&gt;</code> &#x2013; (<code>org-global-cycle</code>) 全局折叠:
</p>

<p>
在整个缓冲区的内容中循环切换可视状态.
总览 -&gt; 层级内容 -&gt; 显示全部 -&gt; 总览.
</p>

<p>
当用数字前缀 N 调用全局切换时,视图内容会直接切换到第 N 层级.
</p>

<p>
当在表格(Tables)中使用全局切换快捷键时 <code>S-&lt;TAB&gt;</code> 会跳到上一格表格内容,而不是切
换标题的折叠状态.
</p>

<p>
如果光标在缓冲区最开始的地方,但是不在一个标题上,并且变量
<code>org-cycle-global-at-bob</code> 的值被设为非空(non-<code>nil</code>),那么此时使用 <code>&lt;TAB&gt;</code> 也能进行
全局的标题可视性切换.
</p></li>

<li><p>
<code>C-u C-u &lt;TAB&gt;</code> &#x2013; (<code>org-set-startup-visibility</code>) 初始折叠状态:
</p>

<p>
切换到缓冲区的初始可视状态.详情: Initial visibility
</p></li>

<li><p>
<code>C-u C-u C-u &lt;TAB&gt;</code> &#x2013; (<code>outline-show-all</code>) 展开全部:
</p>

<p>
展开全部内容,所有内容都不折叠,包括 drawers.
</p></li>

<li><p>
<code>C-c C-r</code> &#x2013; (<code>org-reveal</code>) 显示上下文:
</p>

<p>
显示光标附近的内容:当前条目,下面和上面的标题.这在使用了稀疏树(sparse tree)
命令或者日程(agenda) 命令时有用.加一个前缀参数使用,会展示每一层级的所有兄
弟标题.加上两个前缀参数,会展示上一层级标题的整个子树.
</p></li>

<li><p>
<code>C-c C-k</code> &#x2013; (<code>outline-show-branches</code>) 显示子树:
</p>

<p>
显示所有的子树的所有标题,不包括内容.
</p></li>

<li><p>
<code>C-c C-x b</code> &#x2013; (<code>org-tree-to-indirect-buffer</code>) 分屏显示:
</p>

<p>
打开一个新的缓冲区,展示当前的子树.
</p>

<p>
打开的这个新的缓冲区(indirect buffer)内容和当前缓冲区内容一致,但是会显示当
前条目的内容. 编辑这个新缓冲区会改变原缓冲区内容,但是不会影响原缓冲区的折
叠状态.
</p></li>

<li><p>
<code>C-c C-x v</code> &#x2013; (<code>org-copy-visible</code>) 复制可视内容:
</p>

<p>
将选中区域的文本内容复制到剪切板,默认情况下就算折叠了,对折叠后的大纲视图进
行复制操作,会将隐藏的内容一起复制,但用这个快捷键,可以只复制选中区域显示出
来的内容.
</p></li>
</ul>
</div>
</div>

<div id="outline-container-org80f25ab" class="outline-4">
<h4 id="org80f25ab">初始的可视性(Initial visibility)</h4>
<div class="outline-text-4" id="text-org80f25ab">
<p>
当 Emacs 第一次打开一个 Org 文件时, 全局状态被设置为显示所有
('showeverything'), 也就是说,文件的所有内容都会被显示. 这个行为可以通过配置
<code>org-startup-folded</code> 变量改变,或者也可以在每个文件缓冲区的任意位置添加下面的某
一行代码进行配置.
</p>
<pre class="example">
#+STARTUP: overview
#+STARTUP: content
#+STARTUP: showall
#+STARTUP: showeverything
</pre>

<p>
此外,任意一个拥有 'VISIBILITY' 属性的条目也会相应地调整其可见性. 这个属性可选
的值有 <code>folded</code>, <code>children</code>, <code>content</code> 和 <code>all</code>
</p>

<ul class="org-ul">
<li><p>
<code>C-u C-u &lt;TAB&gt;</code> &#x2013; <code>(org-set-startup-visibility)</code>:
</p>

<p>
切换到该缓冲区最初始的折叠状态(初始可见性),初始可见性就是 startup 选项和
每个条目的 <code>VISIBILITY</code> 属性所设置任何折叠状态.
</p></li>
</ul>

<p>
当 <code>org-agenda-inhibit-startup</code> 参数非空时(non-<code>nil</code>), 如果第一次打开一个 agenda
文件, Org 不会遵守默认的可见性状态的设置(Speeding Up Your Agendas)
</p>
</div>

<ul class="org-ul">
<li><a id="orgae6ad5e"></a><span class="todo TODO">TODO</span> Speeding Up Your Agendas 需要链接.<br /></li>
</ul>
</div>

<div id="outline-container-org9c51a31" class="outline-4">
<h4 id="org9c51a31">捕捉不经意的修改(Catching invisible edits)</h4>
<div class="outline-text-4" id="text-org9c51a31">
<p>
有时候, 当无意识地编辑了缓冲区中不可视的内容时,会遇到不知道到底什么被编辑了
和怎么撤销错误的问题.
将 <code>org-catch-invisible-edits</code> 设置为非空(non-<code>nil</code>) 可以禁止编辑折叠的内容.阅读
这个变量的文档来查看 Org 是如何处理和捕获不可视的内容的编辑的.
</p>
</div>
</div>
</div>

<div id="outline-container-orge32fbe9" class="outline-3">
<h3 id="orge32fbe9">跳转(Motion)</h3>
<div class="outline-text-3" id="text-orge32fbe9">
<blockquote>
<p>
这部分是关于跳转到其他标题的.
</p>
</blockquote>
<p>
下面这些命令能在缓冲区中跳转到其他的标题.
</p>

<ul class="org-ul">
<li><p>
<code>C-c C-n</code> &#x2013; <code>(org-next-visibile-heading)</code>:
</p>

<p>
跳转到下一个标题.
</p></li>

<li><p>
<code>C-c C-p</code> &#x2013; <code>(org-previous-visible-heading)</code>:
</p>

<p>
跳转到上一标题.
</p></li>

<li><p>
<code>C-c C-f</code> &#x2013; <code>(org-forward-heading-same-level)</code>:
</p>

<p>
跳转到同一层级的下一个标题.
</p></li>

<li><p>
<code>C-c C-b</code> &#x2013; <code>(org-backward-heading-same-level)</code>:
</p>

<p>
跳转到同一层级的上一个标题.
</p></li>

<li><p>
<code>C-c C-u</code> &#x2013; <code>(outline-up-heading)</code>:
</p>

<p>
跳转到上一层级的标题.
</p></li>

<li><p>
<code>C-c C-j</code> &#x2013; <code>(org-goto)</code>:
</p>

<p>
在不改变当前视图的折叠状态前提下跳转到其他地方.将文本结构在一个临时的缓冲区
里展示,在这个缓冲区里可以使用下面这些快捷键来找到要跳转的位置:
</p>
<ul class="org-ul">
<li><code>&lt;TAB&gt;</code>: 切换折叠状态.</li>
<li><code>&lt;DOWN&gt;</code> 或 <code>&lt;UP&gt;</code> : 下一个或上一个标题.</li>
<li><code>&lt;RET&gt;</code> ： 选择当前位置.</li>
<li><code>/</code> : 做稀疏树(Sparse-tree)查找,就是筛选内容.</li>
</ul>

<p>
如果关闭了 <code>org-goto-auto-isearch</code> 选项(将变量设置为 <code>nil</code>), 那么下面的快捷键也
可以在临时的缓冲区中使用:
</p>
<ul class="org-ul">
<li><code>n</code> 或 <code>p</code> : 下一个或上一个标题.</li>
<li><code>f</code> 或 <code>b</code> : 下一个或上一个同级标题.</li>
<li><code>u</code>      : 上个层级标题.</li>
<li><code>0</code> &#x2026; <code>9</code>: 数字参数.</li>
<li><code>q</code>      : 退出.</li>
</ul>

<p>
<code>org-goto</code> 的界面设置可以查看 <code>org-goto-interface</code> 变量的文档.
</p></li>
</ul>
</div>
</div>


<div id="outline-container-orgdcdd481" class="outline-3">
<h3 id="orgdcdd481">结构编辑(Structure Editing)</h3>
<div class="outline-text-3" id="text-orgdcdd481">
<blockquote>
<p>
这部分内容是如何改变标题的次序和层级.
</p>
</blockquote>
<ul class="org-ul">
<li><p>
<code>M-&lt;RET&gt;</code> &#x2013; <code>(org-meta-return)</code>:
</p>

<p>
插入新(同级)标题,新条目或新的一行.
</p>

<p>
如果光标在行首时使用这个命令,而且处于一个标题或普通列表项目范围内,那么就会
在当前行的上一行创建一个标题或列表项.如果一行文本不处于任何一个结构的范围,
就是一个没有缩进的普通行,当光标处于普通行的行首,使用这个命令,Org 会把这一行
转变为一个标题,标题层级和最近(向上查找)的标题层级相同.
</p>

<p>
当在一行的中间使用这个命令时,这一行会被分割,光标之前的内容不变,之后的内容会
被转换成一个新的列表项或者标题. 如果不想内容被分割,可以定制
<code>org-M-RET-may-split-line</code> 这个变量.
</p>

<p>
当加上一个 <code>C-u</code> 前缀使用这个命令时,会无条件地在当前的子树的之后插入一个新的
同级标题.当将上两个 <code>C-u</code> 前缀使用这个命令(<code>C-u C-u</code>) 时,会在当前子树的同级标题
的最后一个标题之后插入一个新的标题.
</p></li>

<li><p>
<code>C-&lt;RET&gt;</code> &#x2013; <code>(org-insert-heading-respect-content)</code>:
</p>

<p>
在当前子树的最后插入一个同级标题
</p></li>

<li><p>
<code>M-S-&lt;RET&gt;</code> &#x2013; <code>(org-insert-todo-heading)</code>:
</p>

<p>
插入一个新的,和当前标题同级的 TODO 项目. 更多详情参考
<code>org-treat-insert-todo-heading-as-state-change</code> 变量的文档.
</p></li>

<li><p>
<code>C-S-&lt;RET&gt;</code> &#x2013; <code>(org-insert-todo-heading-respect-content)</code>:
</p>

<p>
插入一个新的 TODO 标题项目, 项目层级和当前标题同级. 和 <code>C-&lt;RET&gt;</code> 类似,新的标
题会在当前标题之后插入
</p></li>

<li><p>
<code>&lt;TAB&gt;</code> &#x2013; <code>(org-cycle)</code>:
</p>

<p>
如果一个新的项目还没有任何内容,第一次按下 <code>&lt;TAB&gt;</code> 会降低当前项目的层级,第二次
会将层级提升,继续按可以一直提升到最高层级.提升到最高层级后再按 <code>&lt;TAB&gt;</code> 会回到
创建该项目时的初始层级.
</p></li>

<li><p>
<code>M-&lt;LEFT&gt;</code> &#x2013; <code>(org-do-promote)</code> 和 <code>M-&lt;RIGHT&gt;</code> &#x2013; <code>(org-do-demode)</code>:
</p>

<p>
直接提升或降低标题的层级
</p></li>

<li><p>
<code>M-S-&lt;LEFT&gt;</code> &#x2013; <code>(org-promote-subtree)</code>:
</p>

<p>
将当前标题以及其下的子标题的标题等级全都提升一级.
</p></li>

<li><p>
<code>M-S-&lt;RIGHT&gt;</code> &#x2013; <code>(org-demore-subtree)</code>:
</p>

<p>
将当前标题以及其下的子标题的标题等级全都降低一级.
</p></li>

<li><p>
<code>M-&lt;UP&gt;</code> &#x2013; <code>(org-move-subtree-up)</code>:
</p>

<p>
将当前子树的位置上移,就是和同级的上一个标题交换位置.
</p></li>

<li><p>
<code>M-&lt;DOWN&gt;</code> &#x2013; <code>(org-move-subtree-down)</code>:
</p>

<p>
将当前子树的位置下移,就是和同级的下一个标题交换位置.
</p></li>

<li><p>
<code>C-c @</code> &#x2013; <code>(org-mark-subtree)</code>:
</p>

<p>
标记当前所在子树.重复使用会标记同级的下一个子树.就是选中整个子树.
</p></li>

<li><p>
<code>C-c C-x C-w</code> &#x2013; <code>(org-cut-subtree)</code>:
</p>

<p>
剪切当前子树,就是将当前子树的内容从缓冲区中移除到剪切板.加上数字前缀 N 使用
可以移除包括当前子树在内的连续的 N 个子树.
</p></li>

<li><p>
<code>C-c C-x M-w</code> &#x2013; <code>(org-copy-subtree)</code>:
</p>

<p>
复制当前子树的内容到剪切板, 加上数字前缀参数 N 使用,会复制包括当前子树在内
的连续的 N 个子树.
</p></li>

<li><p>
<code>C-c C-x C-y</code> &#x2013; <code>(org-paste-subtree)</code>:
</p>

<p>
从剪切板中粘贴子树内容到光标位置. 这个操作会改变被粘贴的内容的层级结构,以便
其能够和粘贴位置的层级相对应. 粘贴的层级可以通过数字前缀参数来改变,也可以在
标题标记星号后面粘贴来决定层级,比如在 <code>****</code> 后面粘贴,粘贴内容层级会自动调整.
</p></li>

<li><p>
<code>C-y</code> &#x2013; <code>(org-yank)</code>:
</p>

<p>
这个命令的表现取决于两个变量: <code>org-yank-adjusted-subtrees</code> 和
<code>org-yank-folded-subtrees</code>,Org 的内置粘贴命令会像上一个命令一样智能的处理标题
的层级和折叠. 默认设置里,被粘贴出的内容不会改变层级,但是会被折叠起来,除非折
叠会影响到之前能看见的文本内容.与任何的前缀参数一起使用就会执行普通的粘贴命
令.
</p></li>

<li><p>
<code>C-c C-x c</code> &#x2013; <code>(org-clone-subtree-with-time-shift)</code>:
</p>

<p>
复制光标所在的子树项目,并打开一个对话输入需要粘贴的内容份数.而且这个命令还
可以指定项目中的时间戳如何变化. 比如在又一系列演讲需要准备时,这个命令就很有
用,创建第一个要准备的项目,然后复制多个,并调整时间. 更多细节可以查看
<code>org-clone-subtree-with-time-shift</code> 命令的文档.
</p></li>

<li><p>
<code>C-c C-w</code> &#x2013; <code>(org-refile)</code>:
</p>

<p>
将条目或区域重新安排到新的位置
</p></li>

<li><p>
<code>C-c ^</code> &#x2013; <code>(org-sort)</code>:
</p>

<p>
排序同级项目. 当有选中区域时,所有区域中的项目会被排序.没有选中区域,则当期那
标题的所有子标题都会被排序.这个命令会打开一个对话框,选择排序方法.
</p></li>

<li><p>
<code>C-x n s</code> &#x2013; <code>(org-narrow-to-subtree)</code>:
</p>

<p>
将当前缓冲区缩小到光标所在子树项目.像是专注模式一样.
</p></li>

<li><p>
<code>C-x n b</code> &#x2013; <code>(org-narrow-to-block)</code>:
</p>

<p>
将缓冲区缩小到光标所在块结构.
</p></li>

<li><p>
<code>C-x n w</code> &#x2013; <code>(widen)</code>:
</p>

<p>
取消缩小缓冲区的操作,回到原来的视图.
</p></li>

<li><p>
<code>C-c *</code> &#x2013; <code>(org-toggle-heading)</code>:
</p>

<p>
将普通行转化成标题,或者将标题转变成普通行.如有又选中区域,会将所有选中的行都
转变为标题.选中区域如果第一行是标题,那只会将选中区域全变成普通行,第一行是普
通行,那就将选中区域变成标题.
</p></li>
</ul>
</div>
</div>

<div id="outline-container-org6e99400" class="outline-3">
<h3 id="org6e99400">稀疏树(Sparse Trees)</h3>
<div class="outline-text-3" id="text-org6e99400">
<blockquote>
<p>
上下文匹配内嵌内容.(稀疏表示是降低表示的复杂度,或者说是减少参数稀疏)这里我理解
的话就是通过正则等手段筛选符合条件的内容,隐藏不想看到的内容,只展示筛选的结果.
</p>
</blockquote>
<p>
Org mode 一个重要的特性就是可以构造稀疏树(Sparse Trees), 用来选择大纲树中的信
息,这让整个文档尽可能的折叠,只显示被选中的信息和信息的标题.只要试试就能很快直
到这个功能是干嘛用的了.
</p>

<p>
Org 有几个用来创建这样的树的命令,这些命令可以通过一个调度器来调用:
</p>

<ul class="org-ul">
<li><p>
<code>C-c /</code> &#x2013; <code>(org-sparse-tree)</code>:
</p>

<p>
这个快捷键打开一个对话,用来选择创建稀疏树的命令.
</p></li>

<li><p>
<code>C-c / r</code> 或 <code>C-c / /</code> &#x2013; <code>(org-occur)</code>:
</p>

<p>
提示输入正则表达式,并显示所有匹配的稀疏树.如果匹配的是标题,那就显示这个标题,如
果匹配的是内容,那内容和标题都会显示.每个匹配项都会被高亮显示,当缓冲区被编辑
命令修改时,或者按 <code>C-c C-c</code> 高亮会消失. 当和 <code>C-u</code> 前缀参数一起使用时,之前的高
亮会被保留,所以这个命令多次使用的结果可以叠加.
</p>

<p>
<code>C-c C-c</code> 高亮消失的行为取决于变量 <code>org-remove-highlights-with-change</code>.
</p></li>
<li><p>
<code>M-g n</code> 或 <code>M-g M-n</code> &#x2013; <code>(next-error)</code>:
</p>

<p>
跳到下一个稀疏树的匹配结果.
</p></li>

<li><p>
<code>M-g p</code> 或 <code>M-g M-p</code> &#x2013; <code>(previous-error)</code>:
</p>

<p>
跳到上一个稀疏树的匹配结果.
</p></li>
</ul>

<p>
对于经常使用的生成稀疏树的搜索字符串,可以用 <code>org-agenda-custom-commands</code> 变量来
定义快捷键得到指定的稀疏树. 这个变量中的命令可以通过日程调度器使用.例如:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="font-weight: bold;">setq</span> org-agenda-custom-commands
      '((<span style="font-style: italic;">"f"</span> occur-tree <span style="font-style: italic;">"FIXME"</span>)))
</pre>
</div>
<p>
上面的代码将按键 <code>f</code> 定义为创建 <code>FIXME</code> 稀疏树的快捷方式.
</p>

<p>
其他的基于 TODO 关键字,标签,或者是属性等的稀疏树命令会在之后讨论.
</p>

<p>
要打印稀疏树,可以使用 <code>ps-print-buffer-with-faces</code> 命令,这个命令不会打印文档被
折叠或隐藏的部分.或者也可以使用 <code>C-c C-e C-v</code> 只导出可见的部分,然后再打印导出的
文件.
</p>

<p>
稀疏树显示匹配结果附近的上下文多少可以用 <code>org-show-context-detail</code> 变量配置.
</p>
</div>
</div>
<div id="outline-container-orgb83f5da" class="outline-3">
<h3 id="orgb83f5da">简单列表(Plain Lists)</h3>
<div class="outline-text-3" id="text-orgb83f5da">
<blockquote>
<p>
在一个标题条目中,额外的结构.
</p>
</blockquote>

<p>
在一个大纲树项目中,手动格式化的列表可以提供额外的结构. 这种额外结构提供了一种
创建复选框(Checkboxes)的方式.Org 支持编辑这类列表,并且每个导出器都能解析和格
式化他们.
</p>

<p>
Org 支持有序和无序列表,还支持 '描述'类型列表.
</p>
<ul class="org-ul">
<li>无序列表由 <code>+</code> , <code>-</code> ,或者 <code>*</code> 作为标示.</li>
</ul>

<ul class="org-ul">
<li>有序列表由数字开始跟着一个点号 <code>.</code> 或者右括号 <code>)</code>,例如 <code>1.</code> 或 <code>1)</code>.如果想要列表
以字母开始,可以配置变量 <code>org-list-allow-alphabetical</code>, 就可以使用诸如
<code>a.</code>, <code>A.</code> , <code>a)</code> 和 <code>A)</code> 这样的编号开头的列表.如果想用不同的数开始,例如: <code>20</code>,只
要在列表项的开头加上 <code>[@20]</code> 这样列表项就会自动变成以20开头的,而不管上一个
列表项的标号是多少.</li>
<li>描述型列表是无序列表,包含了分割符 <code>::</code> 用来区分列表内容和描述内容:

<dl class="org-dl">
<dt>描述列表</dt><dd>这个是描述列表,具体效果就是这样滴.</dd>
</dl></li>

<li><p>
各种列表的测试结果:
</p>
<ul class="org-ul">
<li>这是 <code>*</code> 列表项,在 Org 里表现为一个小圆点</li>
</ul>
<p>
注意列表项的标示不要混用,混用的话Org会同将其他标示转变为第一个标示符号.
</p>
<ol class="org-ol">
<li>这是有序列表的第一项.</li>
<li>上面说的不要混用指的是不要在同一层级 <code>+-*</code> 混用,同一层级只用一种标示就好
了.
<ul class="org-ul">
<li>这是一个 <code>+</code> 做标示的列表项,在Org里表现为一个箭头.</li>
</ul></li>
<li>再来一个 <code>-</code> 的无序列表:
<ul class="org-ul">
<li>这是一个 <code>-</code> 的无序列表项,Org里好象表现为大一点的减号,真的就大一点点.</li>
</ul></li>
</ol>
<p>
最后再来个描述型列表:
</p>
<dl class="org-dl">
<dt>描述型</dt><dd>这就是描述型的列表.</dd>
<dt>第二个</dt><dd>这是第二个描述型列表, 分割符 <code>::</code> 是需要与列表项的文本空格隔开
的,不要傻傻用 <code>- desc::blablabla</code> 这种.</dd>
<dt>导出效果</dt><dd>导出为html 的时候,这些无序列表的表现形式只会随层级变化,从实
心圆点到空心圆点到方块黑点等等,和在Org 里显示的无关.</dd>
<dt>用处</dt><dd>这个描述型列表刚好适用于手册里那么多命令和对应的描述,不用担心缩
进出错导致排版有问题,而且导出后排版还挺好的.</dd>
</dl></li>
</ul>


<p>
Org 支持这些列表的转化,填充和包裹操作的命令,也支持正确导出他们.因为缩进是
用来管理这些列表的,所以许多其他结构,例如 <code>#+BEGIN_</code> 代码块能够通过缩进来标
示他们从属于某一个特定的列表项.
</p>

<p>
如果发现在下级列表中使用不同的标示符对于可读性由帮助的话,可以定制变量
<code>org-list-demote-modify-bullet</code>. 这个变量自动将下级列表的标示符转化成设定好
的不同标示符. 如果想要列表项和其下级列表项的缩进更明显,可以定制
<code>org-list-indent-offset</code> 变量,将这个变量设置为比较大的数字比如4,这样在下级
列表项会在上级列表项的基础上缩进四个空格.
</p>

<p>
下面的命令在光标处于列表项的第一行,也就是有标示符或数字的那一行时起作用.其
中有一些命令会使用一些自动化规则,用来保证列表的结构完整.如果这些自动的行
为妨碍到你,可以配置 <code>org-list-automatic-rules</code> 变量来禁用这些行为.
</p>

<dl class="org-dl">
<dt><code>&lt;TAB&gt;</code> &#x2013; <code>(org-cycle)</code></dt><dd>列表项也可以像标题一样折叠.通常这只在光标处于列
表项上时起作用.更多细节参 考变量 <code>org-cycle-include-plain-lists</code> 文档. 当
这个变量被设置为 <code>integrate</code> 简单列表会被当作低等级的标题来处理.列表项的
等级由标示符或数字的缩进来决定.列 表项总是标题的下级,但列表项的等级结构
是分开保持的. 在一个没有文本的新列表 象上使用 <code>&lt;TAB&gt;</code> ,第一次按会将其降级
为原来的子项,再按会将回到原来等级,继续 按会一直提升层级一直到列表项的所
属的最高层级,最后回到原来的层级.</dd>
<dt><code>M-&lt;RET&gt;</code> &#x2013; <code>(org-insert-heading)</code></dt><dd>插入一个新的同级列表项. 和前缀参数一
起使用,会强制插入一个新的标题项.如果这个命令在项目中间使用,这个项目会被
分成两部分,第二部分会成为新的列表项.如果命令在项目内容的最前执行,新的项
目会在原项目之前创建.</dd>
<dt><code>M-S-&lt;RET&gt;</code></dt><dd>插入一个有复选框的列表项.</dd>
<dt><code>S-&lt;UP&gt; S-&lt;DOWN&gt;</code></dt><dd>跳转到当前列表的上一或下一项,但只有
<code>org-support-shift-select</code> 是 <code>nil</code> 才行.如果不为空,用 <code>C-&lt;UP&gt;</code> 和 <code>C-&lt;DOWN&gt;</code>
也能得到相似效果.</dd>
<dt><code>M-&lt;UP&gt; M-&lt;DOWN&gt;</code></dt><dd>调整当前列表项在同级列表中的顺序.</dd>
<dt><code>M-S-&lt;LEFT&gt; M-S-&lt;RIGHT&gt;</code></dt><dd>调整列表项的层级.</dd>
<dt><code>C-c C-c</code></dt><dd>如果列表项是复选框,那么这个命令切换复选框的状态.在其他情况下,检
查整个列表标示符和缩进的一致性.</dd>
<dt><code>C-c -</code></dt><dd>循环切换列表的不同标示符(<code>-,+,*,1.,1)</code>). 当和数字前缀参数 N 一起
使用时,选择切换列表中第 N 个列表项. 如果使用时有区域被选中,那选中区域的
所有行会被转变成列表项.当和前缀参数一起使用,会将所有选中区域转变成一个
列表项.如果选中区域的第一行已经是列表项了,那就会删除第一行的标示符.最后,即
使没有选中,光标所在的普通行也会被转变为一个列表项.(普通行是不属于任何结
构的一行文本)</dd>
<dt><code>C-c *</code></dt><dd>将列表项转变成标题项.</dd>
<dt><code>C-c C-*</code></dt><dd>将整个列表转变成当前标题的子树. 复选框被转变成 <code>TODO</code> 和
<code>DOWN</code> 对应复选框未勾选和已勾选.</dd>
<dt><code>S-&lt;LEFT&gt; S-&lt;RIGHT&gt;</code></dt><dd>这个命令也是切换列表标示类型的. 和 <code>C-c -</code> 效果相
同.</dd>
<dt><code>C-c ^</code></dt><dd>对列表排序.提示输入排序方法,按数字,字母,时间或自定义方法.</dd>
</dl>
</div>
</div>


<div id="outline-container-org47015a0" class="outline-3">
<h3 id="org47015a0">抽屉 (Drawers)</h3>
<div class="outline-text-3" id="text-org47015a0">
<ul class="org-ul">
<li>Note taken on <span class="timestamp-wrapper"><span class="timestamp">[2022-01-13 Thu 15:14] </span></span> <br />
快速记录一个带时间戳的笔记.</li>
</ul>
<blockquote>
<p>
把文本'藏'起来,当你想写一些与当前条目有关的信息,但通常不想看到这些信息时就可
以使用该功能.
</p>
</blockquote>
<p>
Drawers 能包括除了标题和另一个 drawer 之外的任何东西.例如:
</p>
<pre class="example">
** This is a headline
still outside the drawer
:DRAWERNAME:
This is inside the drawer.
:END:
After the drawer.
</pre>
<p>
通过命令 <code>org-insert-drawer</code> 或其绑定的快捷键 <code>C-c C-x d</code> 可以在当前光标位置插入
一个 drawer. 有选中区域时,这个命令会把整个区域都放到 drawer 内.加上前缀参数使
用,会变成调用 <code>org-insert-property-drawer</code> ,这个命令会在当前标题之下创建一个
<code>PROPERTIES</code> drawer 就是一个用来设置属性的 drawer.Org 用这种特殊的抽屉来存储属
性设置.抽屉关键词的补全可以使用 <code>M-&lt;TAB&gt;</code> 来提示,有的桌面环境将 <code>M-&lt;TAB&gt;</code> 设置为
切换窗口了,所以也可以用 <code>C-M-i</code> 或者 <code>&lt;ESC&gt; &lt;TAB&gt;</code> 来提示补全.
</p>

<p>
标题的折叠和展开不影响抽屉,抽屉总是会折叠成一行,除非当光标移动到抽屉那一行,再
使用 <code>&lt;TAB&gt;</code> 展开抽屉内容.
</p>

<p>
drawer 也可以用来记录状态变化的笔记和记录时间信息(<code>LOGBOOK</code> drawer).
</p>

<p>
如果想快速的记录一个笔记,有一个和记录状态信息类似的操作:
</p>
</div>

<div id="outline-container-org0233adc" class="outline-4">
<h4 id="org0233adc"><span class="todo TODO">TODO</span> <code>C-c C-z</code> 添加一个带时间戳的笔记到 <code>LOGBOOK</code> drawer. 写完这里,我执行了快捷键,在</h4>
<div class="outline-text-4" id="text-org0233adc">
<p>
抽屉这一小结添加了一条带时间戳的笔记,虽然文档里写的是导出到 <code>LOGBOOK</code> 抽屉,但
是实际操作后发现笔记没有记录到 <code>LOGBOOK</code> 类型的抽屉里, <code>Clocking Work Time</code>
的记录才是,这里只是添加一个列表项,带有时间戳和笔记内容而已,当然,也可能是我
认知的抽屉和文档的意思有差错,等看到更多相关内容之后再来看这里吧.导出后可以看看是啥效果,没看到就是默认
不支持这类文本的导出了.
</p>
</div>
</div>
</div>




<div id="outline-container-org3693fb6" class="outline-3">
<h3 id="org3693fb6">块结构 (Blocks)</h3>
<div class="outline-text-3" id="text-org3693fb6">
<blockquote>
<p>
这部分讲可折叠的块结构.块结构可以用来容纳源代码,记录时间信息和其他许多功能.
</p>
</blockquote>
<p>
Org 用 <code>#+BEGIN ... #+END</code> 做源代码(<code>Literal Examples</code>),引用文本或时间记录
(<code>Clocking Work Time</code>)等多种用途.当光标在 <code>#+BEGIN</code> 行时可以用 <code>&lt;TAB&gt;</code> 进行折叠.
可以设置变量 <code>org-hide-block-startup</code> 来让块结构在一开始处于折叠或展开状态.也
可以在每个文件都设置 <code>#+STARTUP: hideblocks</code> 或 <code>#+STARTUP: nohideblocks</code> 来为每
个文件设置块结构的初始折叠状态.文件里的设置是会覆盖变量设置的.
</p>
</div>
</div>
</div>



<div id="outline-container-orgea8190c" class="outline-2">
<h2 id="orgea8190c">表格(Tables)</h2>
<div class="outline-text-2" id="text-orgea8190c">
<p>
Org 自带快速和直观的表格编辑器.电子表格程序类似的计算器功能通过使用 Emacs 的 Calc
</p>
<ul class="org-ul">
<li class="off"><code>[&#xa0;]</code> 包也是支持的(<code>GNU Emacs Calculator Manual</code>). 坑+1, 有空再看,感觉会很有用.</li>
</ul>
</div>


<div id="outline-container-org504a27c" class="outline-3">
<h3 id="org504a27c">内置表格编辑器(Built-in Table Editor)</h3>
<div class="outline-text-3" id="text-org504a27c">
<blockquote>
<p>
简单表格.
</p>
</blockquote>
<p>
Org 能很容易的格式化纯 ASCII 格式的表格.任何一行以 <code>|</code> 作为第一个非空字符的行都
被视作一个表格的一部分. <code>|</code> 也是列分隔符. 此外,一行以 <code>|-</code> 开始的行是一个水平分割
线. 它将显示分割表格的行.在第一个水平分割线之前的所有行都是标题行. 一个表格可
能长这样:
</p>
<pre class="example">
| Name  | Phone | Age |
|-------+-------+-----|
| Peter |  1234 |  17 |
| Anna  |  4321 |  25 |
</pre>

<p>
在表格内部,每一次按 <code>&lt;TAB&gt;</code>, <code>&lt;RET&gt;</code> 或者 <code>C-c C-c</code> ,这个表格都会自动地被重新对
齐. <code>&lt;TAB&gt;</code> 也会移动到下一个字段, <code>&lt;RET&gt;</code> 会移动到下一行,如果光标在表格的最后一行
或者在分割线之前的行,那就会同时创建一个新的表格行.整个表格的缩进由表格的第一
行决定.水平分割线在每次对齐时都会自动填充为整个表格的宽度.所以,为了创建上面例
子的表格,只需要输入:
</p>
<pre class="example">
| Name  | Phone | Age |
|-
</pre>
<p>
然后按 <code>&lt;TAB&gt;</code> 键调整表格,开始填表.更快的做法是键入 <code>|Name|Phone|Age</code> 然后按 <code>C-c
   &lt;RET&gt;</code>.
</p>

<p>
当输入文本到表格中时, Org 将 <code>DEL</code> , <code>Backspace</code> 和所有的字符键都区别对待,从而使
插入和删除操作不会影响到其他字段.此外,在键入 <code>&lt;TAB&gt;</code> , <code>S-&lt;TAB&gt;</code> 或 <code>&lt;RET&gt;</code> 后,光标
会立即移动到下一个的字段,这个字段将自动变为空白.如果这个行为对你来说太不可预
测,可以配置变量 <code>org-table-auto-blank-field</code> 来禁用这一行为,实际操作发现,当移动
到下一字段,并且其中有内容,内容并不会被立即清除,只有键入新的内容之后才会被消除.
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="font-weight: bold;">setq</span> org-table-auto-blank-field t)
</pre>
</div>
</div>

<div id="outline-container-org18dca75" class="outline-4">
<h4 id="org18dca75">创建和转化表格(Creation and conversion)</h4>
<div class="outline-text-4" id="text-org18dca75">
<dl class="org-dl">
<dt><code>C-c |</code> &#x2013; <code>(org-table-create-or-convert-from-region)</code></dt><dd>将选中区域转化为表格.
如果每行都包含至少一个 <code>&lt;TAB&gt;</code> 字符,这个方法会假定表格是由制表符分隔的,如果
每行都包含一个逗号(comma), 则假定是 CSV(comma-separated values) 格式的数据
转化成表格.如果都不是,那么将会用空白符来做分隔符转化成表格.也可以使用前缀
参数来强制指定分隔符: <code>C-u</code> 指定 CSV, <code>C-u C-u</code> 指定 <code>&lt;TAB&gt;</code>, <code>C-u C-u C-u</code> 请求输
入正则表达式来匹配分隔符, 而使用数字参数 N 表明使用至少 N 个连续的空白作为
分隔符,如果没有找到符合条件的空格,则使用 <code>&lt;TAB&gt;</code> 作为分隔符.
如果没有选中区域,这个命令会创建一个空的表格,但是像键入
<code>|Name|Phone|Age&lt;RET&gt;|-&lt;TAB&gt;</code> 或 <code>|Name|Phone|Age</code> 这种方法创建表格会更容易.</dd>
</dl>
</div>
</div>


<div id="outline-container-org8a6efcd" class="outline-4">
<h4 id="org8a6efcd">重对齐和字段移动(re-align and field motion)</h4>
<div class="outline-text-4" id="text-org8a6efcd">
<dl class="org-dl">
<dt><code>C-c C-c</code> &#x2013; <code>(org-table-align)</code></dt><dd>重新排列表格,不移动光标.</dd>
<dt><code>&lt;TAB&gt;</code> &#x2013; <code>(org-table-next-field)</code></dt><dd>重排表格,并移动光标到下一字段,如果有必要
会创建新的一行.</dd>
<dt><code>C-c &lt;SPC&gt;</code>  &#x2013; <code>(org-table-blank-field)</code></dt><dd>将光标所在字段的内容变为空白.</dd>
<dt><code>S-&lt;TAB&gt;</code> &#x2013; <code>(org-table-previous-field)</code></dt><dd>重排表格,并移动光标到上一字段.</dd>
<dt><code>&lt;RET&gt;</code> &#x2013; <code>(org-table-next-row)</code></dt><dd>重排表格,并向下移动到下一行,如果有必要会
创建新的一行,在一行的最后或开头使用, <code>&lt;RET&gt;</code> 也会插入新的一行,所以也可以用来
分割表格.</dd>
<dt><code>M-a</code> &#x2013; <code>(org-table-beginning-of-field)</code></dt><dd>移动光标到当前表格字段的开头,或移
动光标到上一个字段.</dd>
<dt><code>M-e</code> &#x2013; <code>(org-table-end-of-field)</code></dt><dd>移动光标到当前表格字段的最后,或移动到下
一个字段.</dd>
</dl>
</div>
</div>



<div id="outline-container-org67b26c4" class="outline-4">
<h4 id="org67b26c4">编辑列和行(Column and row editing)</h4>
<div class="outline-text-4" id="text-org67b26c4">
<dl class="org-dl">
<dt><code>M-&lt;LEFT&gt;</code> &#x2013; <code>(org-table-move-column-left)</code></dt><dd>将当前列左移.</dd>

<dt><code>M-&lt;RIGHT&gt;</code> &#x2013; <code>(org-table-move-column-right)</code></dt><dd>将当前列右移.</dd>

<dt><code>M-S-&lt;LEFT&gt;</code> &#x2013; <code>(org-table-delete-column)</code></dt><dd>删除当前列.</dd>

<dt><code>M-S-&lt;RIGHT&gt;</code> &#x2013; <code>(org-table-insert-column)</code></dt><dd>在光标当前位置插入新的一列,将
光标当前所在列右边的所有列都右移.就是在光标所在列的左边插入新的一列.</dd>

<dt><code>M-&lt;UP&gt;</code> &#x2013; <code>(org-table-move-row-up)</code></dt><dd>将光标所在行上移.</dd>

<dt><code>M-&lt;DOWN&gt;</code> &#x2013; <code>(org-table-move-row-down)</code></dt><dd>将光标所在行下移.</dd>

<dt><code>M-&lt;DOWN&gt;</code> &#x2013; <code>(org-table-move-row-down)</code></dt><dd>将光标所在行下移.</dd>

<dt><code>M-&lt;DOWN&gt;</code> &#x2013; <code>(org-table-move-row-down)</code></dt><dd>将光标所在行下移.</dd>

<dt><code>M-S-&lt;UP&gt;</code> &#x2013; <code>(org-table-kill-row)</code></dt><dd>删除当前行或水平分割线.</dd>

<dt><code>S-&lt;UP&gt;</code> &#x2013; <code>(org-table-move-cell-up)</code></dt><dd>将光标所在单元格与其相邻的上面一个单
元格交换位置.</dd>

<dt><code>S-&lt;DOWN&gt;</code> &#x2013; <code>(org-table-move-cell-down)</code></dt><dd>将光标所在单元格与其相邻的下面一
个单元格交换位置.</dd>

<dt><code>S-&lt;LEFT&gt;</code> &#x2013; <code>(org-table-move-cell-left)</code></dt><dd>将光标所在单元格与其相邻的左边的
一个单元格交换位置.</dd>

<dt><code>S-&lt;RIGHT&gt;</code> &#x2013; <code>(org-table-move-cell-right)</code></dt><dd>将光标所在单元格与其相邻的右边
一个单元格交换位置.</dd>

<dt><code>M-S-&lt;DOWN&gt;</code> &#x2013; <code>(org-table-insert-row)</code></dt><dd>在光标所在行的上面插入新的一行,如
果和前缀参数一起使用,就会在当前行的下一行插入新的一行.</dd>

<dt><code>C-c -</code> &#x2013; <code>(org-table-insert-hline)</code></dt><dd>在当前行的下一行插入水平分割线,加上前
缀参数一起使用,就会在当前行的上一行插入.</dd>

<dt><code>C-c &lt;RET&gt;</code> &#x2013; <code>(org-table-hline-and-move)</code></dt><dd>再当前行的下一行插入水平分割线,
并且移动光标到水平分割线的下一行.</dd>

<dt><code>C-c ^</code> &#x2013; <code>(org-table-sort-lines)</code></dt><dd>根据光标所在列对表格的行进行排序.光标所
在的列标示要用来排序的列,排序的范围为两个最近的分割线之间或者整个表格的行.如
果光标在第一列之前,会提示输入用来排序的列.如果有选中区域,选中标记指定第一
行和用来排序的列,而光标应该在最后一行需要进行排序操作的行.这个命令会提示输
入排序类型,按字母, 数字或时间进行排序.可以用正向或反向排序.也可以用自己提
供的排序关键字提取和比较的方法. 和前缀参数一起使用时,按字母排序是区分大小
写的.</dd>
</dl>
</div>
</div>


<div id="outline-container-org495fc6d" class="outline-4">
<h4 id="org495fc6d">区域操作(Regions)</h4>
<div class="outline-text-4" id="text-org495fc6d">
<dl class="org-dl">
<dt><code>C-c C-x M-w</code> &#x2013; <code>(org-table-copy-region)</code></dt><dd>将表格的"矩形区域"选区复制到特殊的剪贴
板.如果没有选中区域,只复制当前单元格内的字段.这个操作无视水平分割线.</dd>

<dt><code>C-c C-x C-w</code> &#x2013; <code>(org-table-cut-region)</code></dt><dd>将表格的矩形区域复制到特殊的剪贴
板,并将区域中的字段清空.所以叫"剪切"操作.</dd>

<dt><code>C-c C-x C-y</code> &#x2013; <code>(org-table-paste-rectangle)</code></dt><dd>将矩形区域粘贴到表格中.矩形
区域的左上角在光标所在位置的字段内,所有包含在矩形区域的字段会被覆盖.如果矩
形区域和表格剩下的区域不合适,那表格会根据需要自动扩大.这个过程无视水平分割
线.</dd>

<dt><code>M-&lt;RET&gt;</code> &#x2013; <code>(org-table-wrap-region)</code></dt><dd>将表格从当前字段所在行分割.如果有选
中区域,而且光标和标记在同一列,那表格以选中区域的行数为最小宽度做分割.和数
字前缀参数一起使用可以指定最小分割宽度.如果没有选区,又使用了前缀参数,那当
前字段会被清除,其字段内容会被加到上边的字段里去.</dd>
</dl>
</div>
</div>

<div id="outline-container-org51359fd" class="outline-4">
<h4 id="org51359fd">计算(Calculations)</h4>
<div class="outline-text-4" id="text-org51359fd">
<dl class="org-dl">
<dt><code>C-c +</code> &#x2013; <code>(org-table-sum)</code></dt><dd>将当前列或有选区定义的矩形区域的数字求和.求和
结果会在显示区域(echo area) 显示并且可以通过 <code>C-y</code> 粘贴.</dd>

<dt><code>S-&lt;RET&gt;</code> &#x2013; <code>(org-table-copy-down)</code></dt><dd>当前字段为空时,复制其上第一个非空字段
的值.当前字段非空时,将当前字段内容复制到下一行的同列字段,并将光标一并移动.基
于变量 <code>org-table-copy-increment</code> 的值,整数和时间戳字段,有数字前缀或后缀的字
段,会在复制过程中进行自增操作.此外,数字前缀参数 <code>0</code> 会暂时禁用自增操作.这个
快捷键同样会被移动选择(shift-selection) 和相关模式使用,具体见 <code>Conflicts</code>.</dd>
</dl>
</div>
</div>

<div id="outline-container-org0af8e5c" class="outline-4">
<h4 id="org0af8e5c">杂项(Miscellaneous)</h4>
<div class="outline-text-4" id="text-org0af8e5c">
<dl class="org-dl">
<dt><code>C-c `</code> &#x2013; <code>(org-table-edit-field)</code></dt><dd>打开一个独立窗口来编辑当前字段.这在字段
不是完全可见时很有用(见下节的 Column Width and Alignment). 当与前缀参数
<code>C-u</code> 一起使用,只会使字段完全可见. 当和 <code>C-u C-u</code> 一起使用,会使编辑器窗口一直
保持一个编辑当前字段的窗口.这个窗口在光标离开表格区域或者再次使用命令
<code>C-u C-u C-c `</code> 时自动消失.</dd>

<dt><code>M-x org-table-import</code></dt><dd>将文件导入成表格. 表格应该用制表符 <code>&lt;TAB&gt;</code> 或空白符
隔开.用法:可以从电子表格软件的表格或数据库中导入数据成表格,因为这些程序可
以导出制表符分隔的文本文件.这个命令也可以通过插入文件到缓冲区然后将区域转
换成表格时使用. 任何的前缀参数都会被传递给转换器,转换器用来决定分隔符.</dd>

<dt><code>C-c |</code> &#x2013; <code>(org-table-create-or-convert-from-region)</code></dt><dd>表格也可以用另一个方
式导入:复制表格式的文本到 Org 缓冲区,选择表格式文本区域,然后用 <code>C-c |</code> 命令
(详情见 <code>Creation and conversion</code>).TODO</dd>

<dt><code>M-x org-table-export</code></dt><dd>导出表格,默认导出为制表符分隔的文件.用来进行数据交
换,例如和电子表格程序或数据库程序进行数据交换.导出文件的格式可以通过配置
<code>org-table-export-default-format</code> 变量改变.也可以在子树中使用
<code>TABLE_EXPORT_FILE</code> 和 <code>TABLE_EXPORT_FORMAT</code> 属性来指定文件名和文件格式.Org 支
持导出表格到十分常见的格式.导出格式和 Orgtbl radio 表格使用的格式一致.更多
细节查看 <code>Translator functions</code> .TODO</dd>

<dt><code>M-x org-table-header-line-mode</code></dt><dd>当缓冲区中的表格的第一行不可见时,显示表
格的第一行数据,(效果待测). 可以将变量 <code>org-table-header-line-p</code> 设置为 <code>t</code>, 表
示默认开启这个副模式.</dd>

<dt><code>M-x org-table-transpose-table-at-point</code></dt><dd>颠倒表格(类似矩阵转置),并消除水
平分割线.</dd>

<dt class="off"><code>[&#xa0;]</code> 垂直线</dt><dd>往表格字段里插入垂直分割线,用 <code>\vert</code> 或在文本中间使用 <code>abc\vert{}def</code>.</dd>
</dl>
</div>
</div>
</div>




<div id="outline-container-org8a64ad0" class="outline-3">
<h3 id="org8a64ad0">列宽和对齐(Column Width and Alignment)</h3>
<div class="outline-text-3" id="text-org8a64ad0">
<blockquote>
<p>
否定自动设置.
</p>
</blockquote>

<p>
表格的列宽是由表格编辑器自动决定的.列的对齐方式是由字段中数字类型和非数字类型
字段的决定的.
</p>

<p>
编辑字段内容可能会改变表格的对齐方式.移动连续的行或列(例如使用 <code>&lt;TAB&gt;</code> 或
<code>&lt;RET&gt;</code>) 会自动重新对齐表格.如果像禁用这一行为,可以将变量
<code>org-table-automatic-realign</code> 设置为 <code>nil</code>. 无论如何,总是可以通过 <code>C-c C-c</code> 快捷键
或命令 <code>(org-table-align)</code> 来手动对齐表格.
</p>

<p>
通过设置变量 <code>org-start-align-all-tables</code> 可以在打开文件时重新对齐文件中的表格.同
时也可以在每个文件中使用这两个选项来实现这一功能:
</p>
<pre class="example">
#+STARTUP: align
#+STARTUP: noalign
</pre>

<p>
有时候一个字段或几个字段需要包含比其他字段更多的文本,导致了很不方便的宽列.这
时候你可能想要隐藏一些行或将他们以固定宽度展示,忽视字段的内容,就像下面的例子:
</p>
<pre class="example">
|---+---------------------+--------|           |---+-------…+…|
|   | &lt;6&gt;                 |        |           |   | &lt;6&gt;   …|…|
| 1 | one                 | some   |   ----\   | 1 | one   …|…|
| 2 | two                 | boring |   ----/   | 2 | two   …|…|
| 3 | This is a long text | column |           | 3 | This i…|…|
|---+---------------------+--------|           |---+-------…+…|
</pre>

<p>
要设置列宽,可以在列的任何一个字段中键入字符串 <code>&lt;N&gt;</code> ,N 指定了宽度的字符个数.可
以用下面的命令控制列宽的显示:
</p>

<dl class="org-dl">
<dt><code>C-c &lt;TAB&gt;</code> &#x2013; <code>(org-table-toggle-column-width)</code></dt><dd>收缩或展开当前列. 如果指定
了列宽 W, 列会收缩到展示前 W 个可见字符,没指定,列会收缩到单个字符宽度.如果
在第一列之前或最后一列之后调用该命令,则会提示输入命令作用的列的范围(如:2-3)</dd>

<dt><code>C-u C-c &lt;TAB&gt;</code> &#x2013; <code>(org-table-shrink)</code></dt><dd>收缩所有设置了列宽的列,展开其他列.</dd>

<dt><code>C-u C-u C-c &lt;TAB&gt;</code> &#x2013; <code>(org-table-expand)</code></dt><dd>展开所有列.</dd>
</dl>

<p>
要像查看收缩字段的完整文本,可以将鼠标放在字段位置上,一个提示窗口会显示字段的
完整内容.或者,也可以使用 <code>C-h .</code> &#x2013; <code>(display-local-help)</code> 命令或快捷键来展现他们.为
了方便起见,任何在列的收缩部分的更改会自动将列展开.
</p>

<p>
设置选项 <code>org-startup-shrink-all-tables</code> 会在第一次打开文件时收缩所有设置了列宽
的列.同时也可以在每个文件设置选项: <code>#+STARTUP:shrink</code> 得到相同效果.
</p>

<p>
如果想要更改数字丰富列右对齐和文本丰富列左对齐的自动对齐设置.可以用类似的方式
使用 <code>&lt;r&gt;</code>, <code>&lt;c&gt;</code> 或 <code>&lt;l&gt;</code> 来指定对齐方式.同时也可以将对齐和列宽设置结合: <code>&lt;r10&gt;</code>.
</p>

<p>
只包含这些格式 <code>cookies</code> 的行会在导出到文本时被自动删除.
</p>

<p>
字段包含cookie 之外的文本的表格导出结果:
</p>
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-right" />

<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-right">&#xa0;</td>
<td class="org-left">&lt;6&gt;这一行包含格式cookie 之外的文本</td>
<td class="org-left">&lt;1&gt;</td>
</tr>

<tr>
<td class="org-right">9</td>
<td class="org-left">one</td>
<td class="org-left">some</td>
</tr>

<tr>
<td class="org-right">10</td>
<td class="org-left">two</td>
<td class="org-left">boring</td>
</tr>

<tr>
<td class="org-right">11</td>
<td class="org-left">Eg:This is a long text</td>
<td class="org-left">ccolumn</td>
</tr>
</tbody>
</table>

<p>
字段不包含cookie 之外的文本的表格导出结果:
</p>
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-right" />

<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-right">9</td>
<td class="org-left">one</td>
<td class="org-left">some</td>
</tr>

<tr>
<td class="org-right">10</td>
<td class="org-left">two</td>
<td class="org-left">boring</td>
</tr>

<tr>
<td class="org-right">11</td>
<td class="org-left">Eg:This is a long text</td>
<td class="org-left">ccolumn</td>
</tr>
</tbody>
</table>
</div>
</div>

<div id="outline-container-orgf5cebc6" class="outline-3">
<h3 id="orgf5cebc6">列组(Column Groups)</h3>
<div class="outline-text-3" id="text-orgf5cebc6">
<blockquote>
<p>
分组以触发(生成)竖线
</p>
</blockquote>
<p>
当Org 导出表格时,默认不使用竖直线,因为一般来讲,这在视觉上更令人满意.然而,竖直
线偶尔也很有用,可以用来将表格的列分组,就像水平分割线把行分组一样.为了指定列组,可
以使用特殊的一行,该行第一个字段只包含 <code>/</code>.更多的字段可以包含 <code>&lt;</code> 来表明此列是一个
组的开始, <code>&gt;</code> 表明此列是一个组的结束,或者是 <code>&lt;&gt;</code> (两个括号中间没有空格) 来表示这
一列就是单独的一个组.在导出时,列组之间的边界会用垂直线标记.下面是一个例子:
</p>
<pre class="example">

| N | N^2 | N^3 | N^4 | sqrt(n) | sqrt[4](N) |
|---+-----+-----+-----+---------+------------|
| / |  &lt;  |     |  &gt;  |       &lt; |          &gt; |
| 1 |  1  |  1  |  1  |       1 |          1 |
| 2 |  4  |  8  | 16  |  1.4142 |     1.1892 |
| 3 |  9  | 27  | 81  |  1.7321 |     1.3161 |
|---+-----+-----+-----+---------+------------|
#+TBLFM: $2=$1^2::$3=$1^3::$4=$1^4::$5=sqrt($1)::$6=sqrt(sqrt(($1)))
</pre>
<p>
导出的结果:
</p>
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-right" />
</colgroup>

<colgroup>
<col  class="org-right" />

<col  class="org-right" />

<col  class="org-right" />
</colgroup>

<colgroup>
<col  class="org-right" />

<col  class="org-right" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-right">N</th>
<th scope="col" class="org-right">N<sup>2</sup></th>
<th scope="col" class="org-right">N<sup>3</sup></th>
<th scope="col" class="org-right">N<sup>4</sup></th>
<th scope="col" class="org-right">sqrt(n)</th>
<th scope="col" class="org-right">sqrt[4](N)</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-right">1</td>
<td class="org-right">1</td>
<td class="org-right">1</td>
<td class="org-right">1</td>
<td class="org-right">1</td>
<td class="org-right">1</td>
</tr>

<tr>
<td class="org-right">2</td>
<td class="org-right">4</td>
<td class="org-right">8</td>
<td class="org-right">16</td>
<td class="org-right">1.4142</td>
<td class="org-right">1.1892</td>
</tr>

<tr>
<td class="org-right">3</td>
<td class="org-right">9</td>
<td class="org-right">27</td>
<td class="org-right">81</td>
<td class="org-right">1.7321</td>
<td class="org-right">1.3161</td>
</tr>
</tbody>
</table>
<blockquote>
<p>
如果发现每个列之间都有竖直线隔开,很可能就是因为导出时并不是使用了默认的导出
设置,额外添加了样式设置.但默认的导出到html <code>C-c C-e h o</code> 是使用默认设置的.
</p>
</blockquote>
<p>
事实上,只使用列组的开始标记 <code>&lt;</code> 也足以标记列组了:
</p>

<pre class="example">
| N | N^2 | N^3 | N^4 | sqrt(n) | sqrt[4](N) |
|---+-----+-----+-----+---------+------------|
| / | &lt;   |     |     | &lt;       |            |
</pre>
<p>
只使用 <code>&lt;</code> 标记:
</p>
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-right" />
</colgroup>

<colgroup>
<col  class="org-right" />

<col  class="org-right" />

<col  class="org-right" />
</colgroup>

<colgroup>
<col  class="org-right" />

<col  class="org-right" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-right">N</th>
<th scope="col" class="org-right">N<sup>2</sup></th>
<th scope="col" class="org-right">N<sup>3</sup></th>
<th scope="col" class="org-right">N<sup>4</sup></th>
<th scope="col" class="org-right">sqrt(n)</th>
<th scope="col" class="org-right">sqrt[4](N)</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-right">1</td>
<td class="org-right">1</td>
<td class="org-right">1</td>
<td class="org-right">1</td>
<td class="org-right">1</td>
<td class="org-right">1</td>
</tr>

<tr>
<td class="org-right">2</td>
<td class="org-right">4</td>
<td class="org-right">8</td>
<td class="org-right">16</td>
<td class="org-right">1.4142136</td>
<td class="org-right">1.1892071</td>
</tr>

<tr>
<td class="org-right">3</td>
<td class="org-right">9</td>
<td class="org-right">27</td>
<td class="org-right">81</td>
<td class="org-right">1.7320508</td>
<td class="org-right">1.3160740</td>
</tr>
</tbody>
</table>
</div>
</div>

<div id="outline-container-orged7624f" class="outline-3">
<h3 id="orged7624f">Orgtbl Mode</h3>
<div class="outline-text-3" id="text-orged7624f">
<blockquote>
<p>
将表格编辑器设置为副模式
</p>
</blockquote>
<p>
如果喜欢Org 表格编辑器的直观的工作方式,你可能也想在其他的文本模式或者邮件模式
中使用它.副模式 <code>orgtbl-mode</code> 能做到这一点.你始终可以用 <code>M-x orgtbl-mode</code> 开关这
一模式.想要它默认打开,例如在 <code>Message</code> 模式中默认打开,可以使用:
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp">(add-hook 'message-mode-hook 'turn-on-orgtbl)
</pre>
</div>
<p>
此外,通过一些特别的设置,可以使用Orgtbl 模式维护任意语法格式的表格.例如,可以使
用Orgtbl 模式的基础易用性和强大功能来构建LaTex 表格,包括电子表格功能.详情参考
<code>Tables in Arbitrary Syntax</code> 一节 TODO.
</p>
</div>
</div>


<div id="outline-container-orgf593805" class="outline-3">
<h3 id="orgf593805">电子表格(The Spreadsheet)</h3>
<div class="outline-text-3" id="text-orgf593805">
<blockquote>
<p>
Org 表格编辑器有电子表格程序的功能
</p>
</blockquote>
<p>
表格编辑器利用Emacs的Calc包来实现类似电子表格程序的功能.编辑器可以计算Emacs
Lisp 公式,以从其他字段派生字段.尽管功能齐全,但是Org功能的实现和其他电子表格程
序不同.例如,Org 有 <code>列公式</code> 的概念,该公式可以应用于列中的所有非标题字段,而不需
要将公式复制到每个相关字段.还有一个公式调试器和公式编辑器,该编辑器有高亮表中
与公式中引用相关的字段的特性,可以通过方向键移动这些引用.
</p>
</div>
<div id="outline-container-org0d8abc4" class="outline-4">
<h4 id="org0d8abc4">引用(Reference)</h4>
<div class="outline-text-4" id="text-org0d8abc4">
<blockquote>
<p>
如何引用另一个字段或范围.
</p>
</blockquote>
<p>
要从表中其他字段计算字段,公式必须引用其他字段或字段范围.在Org中,字段可以通过
名字,绝对座标,和相对座标引用.要找出字段的座标是什么,当光标位于该字段时,按
<code>C-c ?</code> 或者是按 <code>C-c }</code> 切换显示网格.
</p>
</div>

<ul class="org-ul">
<li><a id="org4d527b0"></a>字段引用(Field references)<br />
<div class="outline-text-5" id="text-org4d527b0">
<p>
公式可以用两种方式引用其他字段中的值.和其他电子表格程序一样,你可以使用字母
和数字的组合像 <code>B3</code> 这样来引用字段,意思是第三行的第二个字段.然而,Org 更倾向使
用另一种更为通用的表示形式,像下面这样:
</p>
<pre class="example">
@ROW$COLUMN
</pre>
<blockquote>
<p>
Org 能理解 <code>B4</code> 的引用类型,但是它并不用这种语法来编辑表格.你可以通过配置变量
<code>org-table-use=standard-references</code> 来支持这种语法编辑表格.
</p>
</blockquote>

<p>
列的指定可以使用绝对定位例如 <code>$1</code>, <code>$2</code>, &#x2026;, <code>$N</code> 或是相对当前列的定位,也就是要
计算的字段所在的列,例如 <code>$+1</code> 或 <code>$-2</code>. <code>$&lt;</code> 和 <code>$&gt;</code> 分别是第一列和最后一列的固定引
用,你也可以使用 <code>$&gt;&gt;&gt;</code> 来指示右侧的第三列.
</p>

<p>
行的指定只从数据行开始计算,并且忽视水平分割线(或 <code>hlines</code>). 和列一样,也可以使
用绝对行数 <code>@1</code>, <code>@2</code> , &#x2026;, <code>@N</code> 和相对当前行的相对定位 <code>@+3</code>, <code>@-1</code>. <code>@&lt;</code> 和 <code>@&gt;</code> 分别
是第一行和最后一行的固定引用.你也可以指定相对于一个水平分割线的行: <code>@I</code> 引用
第一个水平分割线, <code>@II</code> 引用第二个水平分割线,等等. <code>@-I</code> 指的是当前行之上的第一
个水平分割线, <code>@+I</code> 指的是当前行之下的水平分割线.你也可以用 <code>@III+2</code> 来指定第三
个水平分割线之后的第二个数据行.
</p>

<p>
<code>@0</code> 和 <code>$0</code> 分别指的是当前的行和列.也就是要计算的字段的行/列.还有,如果你省略了
引用中行/列的部分,则默认使用当前的行/列.
</p>

<p>
Org 的无符号数字引用是固定引用,即如果在公式中对两个不同的字段使用相同的引用,则
每次引用相同的字段. Org 的有符号数字引用是不固定引用,因为相同的引用操作会根
据公式中正被计算的字段变化.这有一些例子:
</p>
<ul class="org-ul">
<li><code>@2$3</code> : 第2行第3列(<code>C2</code>).</li>
<li><code>$5</code> : 当前行第5列(<code>E&amp;</code>).</li>
<li><code>@2</code> : 当前列第2行.</li>
<li><code>@-1$-3</code> : 向上1行,向左3列的字段.</li>
<li><code>@-I$2</code> : 第2列,向上第一个分割线之下的第一行的字段.</li>
<li><code>@&gt;$5</code> : 最后一行,第5列的字段.</li>
</ul>
</div>
</li>


<li><a id="org83184f4"></a>范围引用(Range references)<br />
<div class="outline-text-5" id="text-org83184f4">
<p>
你可以通过指定两个用点 <code>..</code> 连接的字段引用来引用一个字段的矩形区域. 结束的字
段包含在引用范围之内. 如果两个字段都在当前行,你可以简单的使用 <code>$2..$7</code> ,但如
果至少有一个字段在不同行,你至少需要在第一个字段使用通用的 <code>@ROW$COLUMN</code> 格式,
也就是说引用必须以 <code>@</code> 开始以便能被正确理解.例子:
</p>

<ul class="org-ul">
<li><code>$1..$3</code> : 当前行的第1到第3列字段.</li>
<li><code>$P..$Q</code> : 使用列名的引用(查看高级特性 <code>Advanced features</code> 一节)</li>
<li><code>$&lt;&lt;&lt;..$&gt;&gt;</code> :从第3列开始,一直到最后一列.</li>
<li><code>@2$1..@4$3</code> :位于两个字段之间的九个字段(<code>A2..C4</code>)</li>
<li><code>@-1$-2..@-1</code> :从左边2列开始,到当前行之上的三个字段,</li>
<li><code>@I..II</code> : 第一和第二个水平分割线之间的字段, <code>@I..@II</code> 的简写.</li>
</ul>

<p>
范围引用返回值的向量,这个向量可以输入到 Calc 的向量函数.范围中的空字段通常
会被删除,所以向量中只包含非空字段.至于其他的模式开关 <code>E</code> , <code>N</code> 和示例的选项,参
见 <a href="#org6a0da60">Calc 的公式语法(Formula syntax for Calc)</a>.也就是下一节.
</p>
</div>
</li>


<li><a id="org582a085"></a>公式中的字段座标(Field coordinates in formulas)<br />
<div class="outline-text-5" id="text-org582a085">
<p>
Calc 公式和 Lisp 公式在计算中的第一个行为是用当前计算结果要填充的字段的行或
列号替换公式中的 <code>@#</code> 和 <code>$#</code>.传统的 Lisp 公式结果是 <code>org-table-current-dline</code> 和
<code>org-table-current-column</code> 的,查看这两个方法的文档来获取详细信息.例子:
</p>

<dl class="org-dl">
<dt><code>if(@# % 2, $#, string(""))</code></dt><dd>在基数行插入列号,将偶数行字段设置为空.</dd>

<dt><code>$2 = '(identity remote(FOO, @@#$1))</code></dt><dd>将表格FOO 中每一行的第一列的文
本或值复制到当前表格的第二列中.</dd>

<dt><code>@3 = 2 * remote(FOO, @1$$#)</code></dt><dd>将表格FOO 中的第一行中的每一列的值的两
倍插入到当前表格的第三行.</dd>
</dl>

<p>
对于第二和第三个例子,表格 FOO 必须至少有和当前表格一样多的行或列.注意:这对大
量的行来说是无效的.因为表格FOO被解析为每个要被复制的字段,所以计算时间规模是
<code>O(N^2)</code>.<a href="https://www.gnu.org/software/emacs/manual/html_mono/org.html#References">info:org#References</a> 这里的翻译可能有问题,所以留下原手册链接.
</p>
</div>
</li>


<li><a id="org6155e0f"></a>名称引用(Named references)<br />
<div class="outline-text-5" id="text-org6155e0f">
<p>
<code>$name</code> 被解释为列,参数或常量的名字. 常量通过变量 <code>org-table-formula-constants</code>
全局范围内定义,通过这样一行在本地或文件范围内定义:
</p>
<pre class="example">
#+CONSTANTS: c=299792458. pi=3.14 eps=2.4e-6
</pre>
<p>
此外,属性也可以在表格里用作常量: 属性 <code>Xyz</code> 可以用 <code>$PROP_Xyz</code> 作为名称引用,属
性值会在当前大纲项目和其层级之上的项目中搜索. 如果你使用了 <code>constants.el</code> 包,
这个包也会用来处理常量,包括像普朗克常量 <code>$h</code> 这样的自然常量,像千米 <code>$km</code> 这样的
单位.这些都在下面的 高级特性里描述(<a href="#orgac072d8">高级功能(Advanced features)</a>) . 所有的名称都必须以字
母开始,剩下的由字母和数字组成.
</p>

<p>
文件 <code>constants.el</code> 能够用两种单位系统支持常量的值: <code>SI</code> 和 <code>cgs</code>. 使用哪一个单位
系统取决于变量 <code>constants-unit-system</code> 的值.你也可以用 <code>STARTUP</code> 选项 <code>constSI</code>
和 <code>constcgs</code> 来设置当前缓冲区中的这个值.
</p>
</div>
</li>

<li><a id="orge3941aa"></a>外部引用(Remote references)<br />
<div class="outline-text-5" id="text-orge3941aa">
<p>
你可以从当前文件甚至是从其他文件的不同的表格中引用常量,字段和范围.语法是:
</p>
<pre class="example">
remote(NAME,REF)
</pre>
<p>
<code>NAME</code> 可以是当前文件里,在表格之前的行中 <code>#+NAME:</code> 这样的行里设置的表格名,也可
以是一个条目的 <code>ID</code> ,即使是在不同的文件中,引用会指向该条目中的第一个表格.
<code>REF</code> 是一个像上面描述的绝对定位的字段或范围引用: <code>@3$3</code> 或 <code>$somename</code> 在引用的
表中有效的的表示.
</p>

<p>
当 <code>NAME</code> 有 <code>@ROW$COLUMN</code> 的格式时,这部分会被替换成当前表格的这个字段的名字或
ID. 例如 <code>remote($1, @@&gt;$2)</code> ⇒ <code>remote(year_2013, @@&gt;$1)</code>. <code>B3</code> 这种格式不被支持,
因为这种格式不能与一个表的名字或ID 区分开.
</p>
</div>
</li>
</ul>
</div>

<div id="outline-container-org6a0da60" class="outline-4">
<h4 id="org6a0da60">Calc 的公式语法(Formula syntax for Calc)</h4>
<div class="outline-text-4" id="text-org6a0da60">
<blockquote>
<p>
用 <code>Calc</code> 来进行计算.
</p>
</blockquote>

<p>
一个公式可以是任何Emacs Calc 包理解的代数表达式. 注意 Calc 的 <code>/</code> 操作符有着非
标准的约定: <code>/</code> 的优先级低于 <code>*</code>, 所以 <code>a/b*c</code> 会被解释成 <code>(a/(b*c))</code>. 在 <code>calc-eval</code>
(Calling Calc from Your Lisp Programs(calc)TODO)执行的计算之前,变量会根据上面描
述的规则进行替换.
</p>

<p>
范围向量会直接输入到 Calc 的向量函数,比如 <code>vmean</code> 和 <code>vsum</code>.
</p>

<p>
一个公式可以在一个分号之后包含可选的模式字符串.这个字符串由在执行期间影响
Calc 和其他模式的标签组成.默认情况下,Org 使用标准的 Calc 模式(精度12,角单位
度,分数和符号模式关闭).然而,为了保持表格紧凑,显示的格式被改变成了 <code>(float
    8)</code>.默认的设置可以通过变量 <code>org-calc-default-modes</code> 配置.
模式字符串:
</p>

<dl class="org-dl">
<dt><code>p20</code></dt><dd>将 Calc 内部的计算精度设置为20位.</dd>

<dt><code>n3, s3, e2 , f4</code></dt><dd>Calc 传递回 Org 的结果的格式:普通,科学,工程或固定格
式.只要Calc 计算的精度够大,Calc 的格式在精度上是无限的.</dd>

<dt><code>D, R</code></dt><dd>Calc 的角度或弧度模式.</dd>

<dt><code>F, S</code></dt><dd>Calc 的小数和符号模式.</dd>

<dt><code>T, t, U</code></dt><dd>Calc 或 Lisp 的持续时间计算, 查看 <a href="#orgb0a8d4e">持续时间和时间值(Durations and time values)</a>.</dd>

<dt><code>E</code></dt><dd>如何处理空字段.没有 <code>E</code> ,范围引用中的空字段会被删除,以便 Calc 向量或
Lisp 列表只包含非空字段.带上 <code>E</code> ,空字段会被保留.对于范围引用中的空字段或
者空的字段引用,值 <code>nan</code> (不是数字) 被用在 Calc 公式里, 空字符串被用在 Lisp
公式里.如果添加了 <code>N</code> 模式字符串,会在两种公式里使用数字 0.因为对于字段值,模式 <code>N</code> 比 <code>E</code>
有比模式 <code>E</code> 更高的优先级.</dd>

<dt><code>N</code></dt><dd>将所有的字段视为数字处理,对非数字视为 <code>0</code>.查看下一节来看看这在Lisp公
式里对计算有多重要.在 Calc 公式里,这个模式只是偶尔使用,因为即使没有 <code>N</code>,数
字字符串已经被解释为数字了</dd>

<dt><code>L</code></dt><dd>Literal, 只针对Lisp 公式,查看下一节 <a href="#orgaffad2b">Lisp 的公式语法(Formula syntax for Lisp)</a>.</dd>
</dl>

<p>
除非你要用很大的整数或高精度的计算而且要展示浮点数,你可能选择性的需要使用
<code>printf</code> 格式化指示符来重新格式化 Calcd 的传递回 Org 的计算结果,而不是让
Calc 进行格式化的工作. <code>printf</code> 重新格式化被限制在精度方面,因为传递给它的值
被转换成了整数或双精度浮点数.整数的大小通过截断有符号数到32位来限制,双精度
浮点数的精度被限制为64位,这大概保留了16位有效的十进制数.
</p>

<p>
一些例子:
</p>
<ul class="org-ul">
<li><code>$1+$2</code> : 将第一和第二个字段相加.</li>
<li><code>$1+$2;%.2f</code> : 和上面结果相同,但将结果格式化到两位十进制数.</li>
<li><code>exp($2)+exp($1)</code> : 数学函数也能使用.</li>
<li><code>$0;%.1f</code> : 重新格式化当前单元格到一位数.</li>
<li><code>($3-32)*5/9</code> : 温度华氏度到摄氏度的转换.</li>
<li><code>$c/$1/$cm</code> : Hz → cm 转换,使用了 <code>constants.el</code> 包.</li>
<li><code>tan($1);Dp3s1</code> : 计算角度,精度3,科学表示精度1.</li>
<li><code>sin($1);Dp3%.1e</code> : 和上面类似,但是用 <code>printf</code> 说明符指定显示格式.</li>
<li><code>vmean($2..$7)</code> : 用向量函数计算列范围的中值.</li>
<li><code>vmean($2..$7);EN</code> : 和上面类似,但是将空字段视为0.</li>
<li><code>taylor($3,x=7,2)</code> : 第三列的当x=7, 级数为2的泰勒级数.</li>
</ul>


<p>
Calc 页包含一套完整的逻辑操作.例如:
</p>

<dl class="org-dl">
<dt><code>if($1 &lt; 20, teen, string(""))</code></dt><dd>如果年龄 <code>$1</code> 小于 20,设置为 <code>teen</code>, 否则
Org 表格结果字段被设置为空字符串.</dd>
<dt><code>if("$1" == "nan" || "$2" == "nan", string(""), $1 + $2); E f-1</code></dt><dd>将前两列
相加. 如果至少有一个字段是空字段,Org 表格的结果字段会被设置为空. <code>E</code> 是为
了不将空字段转换为0而需要的. <code>f-1</code> 是Calc 的可选格式字符串,类似与 <code>%.1f</code> 但
是保留空结果为空.</dd>
<dt><code>if(typeof(vmean($1..$7)) == 12, string(""), vmean($1..$7); E</code></dt><dd>除非有任
何空字段,不然返回范围的中值. 范围中的每个空字段被 <code>nan</code> 替换,会使 <code>vmean</code> 的
结果为 <code>nan</code> .然后 <code>typeof() == 12</code> 是为了从 <code>vmean</code> 结果检测 <code>nan</code> 值.如果检测
到空值,表格的结果字段被设置为空.当样本集预计不存在缺失值时用这个例子.</dd>
</dl>
<div class="org-src-container">
<pre class="src src-emacs-lisp">(calc-eval <span style="font-style: italic;">"typeof(nan)"</span>)
</pre>
</div>
<dl class="org-dl">
<dt><code>if("$1..$7" == "[]", string(""), vmean($1..$7))</code></dt><dd>跳过空字段的范围的中值.在
范围内的每个空字段都会被跳过.当范围内所有字段都是空值时,中值是未定义的,Org
表格的结果字段也会被设置为空值.当样本集可以有一个可变的大小时使用.</dd>
<dt><code>vmean($1..$7); EN</code></dt><dd>完成之前的例子:范围的中值,将空字段按值0计数.当需要用
0填充不完全的样本集时使用这种.</dd>
</dl>

<p>
你可以用 Emacs Lisp 的 <code>defmath</code> 定义 Calc 函数,并将他们应用在Calc 的公式语法
中.
</p>
</div>
</div>

<div id="outline-container-orgaffad2b" class="outline-4">
<h4 id="orgaffad2b">Lisp 的公式语法(Formula syntax for Lisp)</h4>
<div class="outline-text-4" id="text-orgaffad2b">
<blockquote>
<p>
用 Emacs Lisp 写公式.
</p>
</blockquote>
<p>
用 Emacs Lisp 写公式也是可以的.如果 Calc 的功能不够的话,这在字符串操作和控制
结构时很有用.
</p>

<p>
如果一个公式由单引号加开括号开始(<code>'(</code>),这个公式被当作 Lisp 公式计算.计算结果会
返回字符串或数字.和 Calc 公式一样,你可以指定模式并在分号后使用 <code>printf</code> 格式化.
</p>

<p>
使用Emacs Lisp 公式,你需要了解字段插入到公式的方式.默认情况下,一个引用是作为
一个包含字段的Lisp 字符串被插入(用双引号包裹).如果使用了 <code>N</code> 模式开关,所有没有
数字的数字字段会被作为Lisp 数字0插入到公式(没有引号).如果使用了 <code>L</code> 标签,所有
字段会被不加引号地逐字插入.例如,如果你想要一个引用被Lisp 公式解释为字符串,将
引用操作符包裹在双引号中(<code>"$3"</code>).范围是作为空格分隔的字段被插入的,所以你可以将
他们嵌入到列表或向量语法中.
</p>

<p>
这里有一些当我们使用 <code>N</code> 模式的Lisp 计算的例子:
</p>
<dl class="org-dl">
<dt><code>'(concat (substring $1 1 2) (substring $1 0 1) (substring $1 2))</code></dt><dd>交换第
一行文本的前两个字符.</dd>

<dt><code>'(+ $1 $2);N</code></dt><dd>将第一和第二列相加,相当于 Calc 的 <code>$1+$2</code>.</dd>

<dt><code>'(apply '+ '($1..$4));N</code></dt><dd>计算第一到第四列的求和,就像Calc 的 <code>vsum($1..$4)</code></dd>
</dl>
</div>
</div>

<div id="outline-container-orgb0a8d4e" class="outline-4">
<h4 id="orgb0a8d4e">持续时间和时间值(Durations and time values)</h4>
<div class="outline-text-4" id="text-orgb0a8d4e">
<blockquote>
<p>
如何计算持续时间和时间值.
</p>
</blockquote>
<p>
如果你想在Calc 公式或 Elisp 公式里计算时间值,使用 <code>T</code> , <code>t</code> 或 <code>U</code> 标示:
</p>
<pre class="example">
|  Task 1 |   Task 2 |    Total |
|---------+----------+----------|
|    2:12 |     1:47 |          |
|    2:12 |     1:47 |          |
| 3:02:20 | -2:07:00 |          |
#+TBLFM: @2$3=$1+$2;T::@3$3=$1+$2;U::@4$3=$1+$2;t

</pre>

<p>
计算结果:
</p>
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-right" />

<col  class="org-right" />

<col  class="org-right" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-right">Task 1</th>
<th scope="col" class="org-right">Task 2</th>
<th scope="col" class="org-right">Total</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-right">2:12</td>
<td class="org-right">1:471</td>
<td class="org-right">03:59:00</td>
</tr>

<tr>
<td class="org-right">2:12</td>
<td class="org-right">1:47</td>
<td class="org-right">03:59</td>
</tr>

<tr>
<td class="org-right">3:02:20</td>
<td class="org-right">-2:07:00</td>
<td class="org-right">0.92</td>
</tr>
</tbody>
</table>

<p>
输入持续时间值必须使用 <code>HH:MM[:SS]</code> 的格式,其中秒是可选的. 使用 <code>T</code> 标示,计算持
续时间值的结果用 <code>HH:MM:SS</code> 展示,上面例子的第一个公式.使用 <code>U</code> 标示,秒被略去,所
以结果只有 <code>HH:MM</code> ,上面例子的第二个公式.小时字段的零填充取决于变量
<code>org-table-duration-hour-zero-padding</code> 的值.
</p>

<p>
使用 <code>t</code> 标示,计算出的持续时间值会根据 <code>org-table-duration-custom-format</code> 变量的
值来展示, 默认的值是 <code>hours</code> ,即将结果展示为小时的小数形式,就是上面的第三个公
式的形式.
</p>

<p>
负数的持续时间值也可以被操作,整数在加和减的操作中被视作秒来计算.
</p>
</div>
</div>

<div id="outline-container-org2e3efd7" class="outline-4">
<h4 id="org2e3efd7">字段和范围公式(Field and range formulas)</h4>
<div class="outline-text-4" id="text-org2e3efd7">
<blockquote>
<p>
特定字段(字段范围)的公式.
</p>
</blockquote>
<p>
要将公式赋值给特定字段, 直接在字段里输入公式,放在 <code>:=</code> 之后.例如
<code>:=vsum(@II..III)</code>. 当光标在字段里时,按 <code>&lt;TAB&gt;</code> 或 <code>&lt;RET&gt;</code> 或 <code>C-c C-c</code>, 这个字段的
公式会被存储,计算,当前字段会被替换成计算结果.
</p>

<p>
公式会被存储到表格正下方的特殊关键字 <code>TBLFM</code> 里.如果你在表格第三个数据行的第四个字
段里输入公式,存储的公式会是像这样的: <code>@3$4=$1+$2</code>.当使用恰当的命令插入/删除/交
换 行或列的时候保存的公式里的绝对引用也会跟着改变,以便仍然指向相同的字段.要
想避免这一行为的发生,特别是在范围引用里,用表格边界固定范围(用 <code>@&lt;,@&gt;,$&lt;,$&gt;</code>)或
用水平分割线(<code>@I</code>)标记.如果使用普通的编辑命令修改表格的结构,公式里引用的自动调
整是不会发生的,你必须要自己调整公式.
</p>

<p>
你也可以使用下面的命令,而不是在字段中键入公式:
</p>

<dl class="org-dl">
<dt><code>C-u C-c =</code> &#x2013; <code>(org-table-eval-formula)</code></dt><dd>在当前字段插入新的公式.这个命令提
示输入默认取自 <code>TBLFM</code> 关键词的公式,并将其应用到当前字段,存储到 <code>TBLFM</code> 里. 公
式的左边也可以是赋值公式到若干其他字段的特殊表达式. 要添加这样的公式, 使用
公式编辑器或直接编辑 <code>TBLFM</code> 宽肩字,因为没有输入这样的公式的快捷键.</dd>

<dt><code>$2=</code></dt><dd>列公式,对整个列有效. 因为这种用法的需求很常见,所以Org 将这一类公式
特殊处理,详情见下面 Column formulas 一节.</dd>

<dt><code>@3=</code></dt><dd>行公式,应用到指定行的所有字段. <code>@&gt;=</code> 意味着最后一行.</dd>

<dt><code>@1$2..@4$3=</code></dt><dd>范围公式,应用到给定矩形范围的所有字段. 这也可以用来给一行中
的某些单不是所有字段赋值.</dd>

<dt><code>$NAME=</code></dt><dd>命名字段,详情查看高级功能(Advanced features).</dd>
</dl>
</div>
</div>

<div id="outline-container-orgd26f083" class="outline-4">
<h4 id="orgd26f083">列公式(Column formulas)</h4>
<div class="outline-text-4" id="text-orgd26f083">
<blockquote>
<p>
对整列有效的公式.
</p>
</blockquote>
<p>
当将公式给简单的列引用(<code>$3=</code>)赋值时,相同的公式会被应用到那一列的所有字段,但有
以下非常方便的例外情况:(i) 如果表格的上面和下面的行包括了水平分割线,在第一个
水平分割线之前的所有行都被视为表头,表头不会被列公式改变.因此当你使用了列公式
并系那个要用水平分割线将行分组时,表头时必须有的.例如,将底部的合计行与上面的
汇总行分开. (ii) 那些已经由字段/范围公式赋值的字段,列公式也不会进行赋值.这些
条件使得列公式非常容易使用.
</p>

<p>
要用公式给一列赋值,直接在列中任意字段输入跟在一个等号后面的公式,例如
<code>=$1+$2</code>.当光标仍在字段中时,你按 <code>&lt;TAB&gt;</code> 或 <code>&lt;RET&gt;</code> 或 <code>C-c C-c</code> ,对当前列的公式会被
保存,当前字段会被公式的计算结果替换.如果字段里只有 <code>=</code> ,那么之前保存的这一列的
公式会被使用.对每一列来讲说,Org 只会记得最近使用的公式.在 <code>TBLFM</code> 关键字里,列
公式就像 <code>$4=$1+$2</code> 这样.列公式的左边不能是列的名字,必须是数字形式的列引用或 <code>$&gt;</code>
</p>

<p>
你也可以使用下面的命令,而不是在字段中输入公式:
</p>
<dl class="org-dl">
<dt><code>C-c =</code> &#x2013; <code>(org-table-eval-formula)</code></dt><dd>为当前列插入新的公式,并将当前字段都替
换成公式的结果. 命令会提示输入一个公式,默认公式是从 <code>TBLFM</code> 里取出的上一次应
用并保存的公式,然后会将公式应用到当前字段并保存.当结合数字前缀参数使用,例
如 <code>C-5 C-c =</code>,命令会将公式应用到当前列的前5个连续字段.</dd>
</dl>
</div>
</div>

<div id="outline-container-org05b0a98" class="outline-4">
<h4 id="org05b0a98">查找函数(Lookup functions)</h4>
<div class="outline-text-4" id="text-org05b0a98">
<blockquote>
<p>
用于搜索表格的查找函数.
</p>
</blockquote>

<p>
Org 有三个预定义的 Emacs Lisp 函数,用来在表格中进行查找.
</p>

<dl class="org-dl">
<dt><code>(org-lookup-first VAL S-LIST R-LIST &amp;optional PREDICATE)</code></dt><dd>在 S-LIST 里查
找符合 (PREDICATE VAL S) 的第一个元素 S ; 返回列表 R-LIST 里对应位置
的值. 默认的 PREDICATE(断言)是 <code>equal</code>. 要注意的是, VAL 和 S 是按照他们出现
的顺序传递到 PREDICATE 里的.如果 R-LIST 是 <code>nil</code> 那么就会返回 S-LIST 里匹配
的元素 S.</dd>

<dt><code>(org-lookup-last VAL S-LIST R-LIST &amp;optional PREDICATE)</code></dt><dd>和上面类似,但是
是查找符合条件的最后一个元素 S.</dd>

<dt><code>(org-lookup-all VAL S-LIST R-LIST &amp;optional PREDICATE)</code></dt><dd><p>
和查找第一个元素
类似,但是是查找所有符合条件的元素,并且返回所有相应的值.这个函数在公式里不
能单独使用,因为它返回的是一个值列表.然而,这个函数和其他 Emacs Lisp 函数结
合起来可以构建强大的查找功能.
</p>

<p>
如果这些函数里使用的范围包含空字段,公式的 <code>E</code> 模式通常需要被指定,不然的话空
字段不会在S-LIST 或 R-LIST 里包括的,这就可能导致函数结果返回错误的从
R-LIST 到 S-LIST的相关映射.
</p>

<p>
这三个函数可以用于实现关联数组,计数匹配单元格,排序结果,组合数据等.有关实际
的例子,请查看Worg 的教程:
(<a href="https://orgmode.org/worg/org-tutorials/org-lookups.html">https://orgmode.org/worg/org-tutorials/org-lookups.html</a>)
</p></dd>
</dl>
</div>
</div>

<div id="outline-container-org362aeb5" class="outline-4">
<h4 id="org362aeb5">编辑和调试公式(Editing and debugging formulas)</h4>
<div class="outline-text-4" id="text-org362aeb5">
<blockquote>
<p>
修正公式.
</p>
</blockquote>
<p>
你可以在minibuffer里编辑单个公式,也可以直接在字段里编辑公式. Org 还可以为一
个表格的所有有效公式准备一个特殊的缓冲区.在提供公式进行编辑时,如果可能, Org
会将引用转换成标准格式(如 <code>B3</code> 或 <code>D&amp;</code>). 如果你更喜欢只使用内部的格式(如 <code>@3$2</code>
或 <code>$4</code>),配置变量 <code>org-table-use-standard-references</code>
</p>

<dl class="org-dl">
<dt><code>C-c =</code> 或 <code>C-u C-c =</code> &#x2013; <code>(org-table-eval-formula)</code></dt><dd>在minibuffer里编辑与当前
列/字段关联的公式. 查看 <code>Column formulas</code> 和 <code>Field and range formula</code> 部分.</dd>

<dt><code>C-u C-u C-c =</code> &#x2013; <code>(org-table-eval-formula)</code></dt><dd>将有效公式(字段公式或列公式)
重新插入到当前字段,以便你可以直接在字段中编辑它.和在minibuffer 里编辑相比,
它的优点是可以使用 <code>C-c ?</code> 命令.</dd>

<dt><code>C-c ?</code> &#x2013; <code>(org-table-field-info)</code></dt><dd>当在表格字段里编辑一个公式时,高亮显示
公式中光标位置的引用所引用的字段.</dd>

<dt><code>C-c }</code> &#x2013; <code>(org-table-toggle-coordinate-overlays)</code></dt><dd>切换以覆盖方式显示的表
格的行号和列号.每次表格重新对齐时,显示会被更新;你也可以使用 <code>C-c C-c</code> 强制更
新.</dd>

<dt><code>C-c {</code> &#x2013; <code>(org-table-toggle-formula-debugger)</code></dt><dd>切换表格编辑器的开关.更多
信息查看下面的内容.</dd>

<dt><code>C-c '</code> &#x2013; <code>(org-table-edit-formulas)</code></dt><dd>在特殊的缓冲区编辑当前表格的所有公式,缓
冲区里每行一个公式.如果当前字段有一个有效公式,公式编辑器会用光标标记该公式.在
这个特殊缓冲区里,Org 会自动高亮光标位置的任意字段或范围的引用.你可以用下面
命令编辑,删除和添加公式:
<dl class="org-dl">
<dt><code>C-c C-c</code> 或 <code>C-x C-s</code> &#x2013; <code>(org-table-field-finish)</code></dt><dd>退出公式编辑器并保存公
式修改.加上 <code>C-u</code> 前缀使用,会同时将新公式应用到整个表格.</dd>

<dt><code>C-c C-q</code> &#x2013; <code>(org-table-fedit-abort)</code></dt><dd>退出公式编辑器,并丢弃更改.</dd>

<dt><code>C-c C-r</code> &#x2013; <code>(org-table-fedit-toggle-ref-type)</code></dt><dd>在公式编辑器里切换引用的
标准(<code>B3</code>) 和内部(<code>@3$2</code>) 格式.</dd>

<dt><code>&lt;TAB&gt;</code> &#x2013; <code>(org-table-fedit-lisp-indent)</code></dt><dd>美化光标处的显示或缩进.当一行
里有一个Lisp 公式时,根据Emacs Lisp 规则格式化表格.再次使用 <code>&lt;TAB&gt;</code> 会将公
式还原.在打开的公式中, <code>&lt;TAB&gt;</code> 会像在 Emacs Lisp 模式里一样重新缩进.</dd>

<dt><code>M-&lt;TAB&gt;</code> &#x2013; <code>(lisp-complete-symbol)</code></dt><dd>补全Lisp symbols, 就像在 Emacs Lisp
模式里一样.</dd>

<dt><code>S-&lt;UP&gt;,S-&lt;DOWN&gt;,S-&lt;LEFT&gt;,S-&lt;RIGHT&gt;</code></dt><dd>调整光标处的引用.一如,如果引用是
<code>B3</code> 然后你按了 <code>S-&lt;RIGHT&gt;</code> ,引用会变成 <code>C3</code>. 这种调整对相对定位的引用和水平分
割线的引用也有效.</dd>

<dt><code>M-S-&lt;UP&gt;</code> &#x2013; <code>(org-table-fedit-line-up)</code></dt><dd>将列公式的测试行在Org文件缓冲区
里上移.</dd>

<dt><code>M-S-&lt;DOWN&gt;</code> &#x2013; <code>(org-table-fedit-line-down)</code></dt><dd>将Org文件缓冲区里的列公式的
测试行下移.</dd>

<dt><code>M-&lt;UP&gt;</code> &#x2013; <code>(org-table-fedit-scroll-up)</code></dt><dd>将显示表格的窗口上移.</dd>

<dt><code>M-&lt;DOWN&gt;</code> &#x2013; <code>(org-table-fedit-scroll-down)</code></dt><dd>将显示表格的窗口下移</dd>

<dt><code>C-c }</code></dt><dd>关掉表格的座标网格.</dd>
</dl></dd>
</dl>


<p>
清空一个表格的字段内容不会删除相关字段的公式,因为公式是存储在不同的一行
<code>TBLFM</code> 关键字行里的. 在下一次重新计算时,这个字段会被重新填充.要删除一个字段的
公式,你必须在提示输入公式时给定一个空的值,或者在 <code>TBLFM</code> 关键词里编辑.
你可以直接在 <code>TBLFM</code> 关键词里编辑然后在那一行使用 <code>C-c C-c</code> 或在表格里使用普通的
重计算命令来应用这些更改过的公式.
</p>
</div>




<ul class="org-ul">
<li><a id="org5763d02"></a>使用多个 <code>TBLFM</code> 行(Using multiple TBLFM lines)<br />
<div class="outline-text-5" id="text-org5763d02">
<p>
你可能想要暂时应用某个公式. 这在你想要切换应用到表格里的公式时很有用.将多个
<code>TBLFM</code> 关键词直接放在表格之后,然后在公式上按 <code>C-c C-c</code>. 下面是使用的例子:
</p>
<pre class="example">

| x | y |
|---+---|
| 1 |   |
| 2 |   |
#+TBLFM: $2=$1*1
#+TBLFM: $2=$1*2
</pre>
<p>
当光标在 <code>#+TBLFM: $2=$1*2</code> 一行时,按 <code>C-c C-c</code>:
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-right" />

<col  class="org-right" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-right">x</th>
<th scope="col" class="org-right">y</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-right">1</td>
<td class="org-right">2</td>
</tr>

<tr>
<td class="org-right">2</td>
<td class="org-right">4</td>
</tr>
</tbody>
</table>

<p>
如果你使用 <code>C-u C-c *</code> 重新计算表格,还是上面的例子,你会得到只应用第一个 <code>TBLFM</code>
关键词的结果:
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-right" />

<col  class="org-right" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-right">x</th>
<th scope="col" class="org-right">y</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-right">1</td>
<td class="org-right">1</td>
</tr>

<tr>
<td class="org-right">2</td>
<td class="org-right">2</td>
</tr>
</tbody>
</table>
</div>
</li>

<li><a id="org34fe3df"></a>调试公式(Debugging formulas)<br />
<div class="outline-text-5" id="text-org34fe3df">
<p>
当公式的计算发生了错误时,字段的内容会变成字符串 "#ERROR". 如果你想查看在变
量替换和计算的过程中发生了什么,以便找出bug, 在Tbl 菜单里打开公式调试,然后重
新计算,例如,在字段里按 <code>C-u C-u C-c = &lt;RET&gt;</code>. 详细的信息就会显示出来.
(menu-bar-mode 1)
</p>
</div>
</li>
</ul>
</div>

<div id="outline-container-org7a0aa5b" class="outline-4">
<h4 id="org7a0aa5b">更新表格(Updating the table)</h4>
<div class="outline-text-4" id="text-org7a0aa5b">
<blockquote>
<p>
重新计算所有相关字段.
</p>
</blockquote>

<p>
表格的重新计算通常不是自动进行的,这一过程需要某个命令来触发. 要使重新计算至
少半自动,查看高级功能部分.
</p>

<p>
要重新计算表格的一行或整个表格,使用下面的命令:
</p>

<dl class="org-dl">
<dt><code>C-c *</code> &#x2013; <code>(org-table-recalculate)</code></dt><dd>通过先从左到右应用存储的列公式,然后再应用
字段或范围公式到当前的行来重新计算当前行.</dd>

<dt><code>C-u C-c *</code> 或 <code>C-u C-c C-c</code></dt><dd>一行一行地重新计算整个表格,任何在第一个水平分
割线之前的行都不受影响,因为这些行被视作表头的一部分.</dd>

<dt><code>C-u C-u C-c *</code> 或 <code>C-u C-u C-c C-c</code> &#x2013; <code>(org-table-iterate)</code></dt><dd>通过重新计算表
格,直到有新的变化生成来迭代表格.如果有些要计算的字段需要使用在计算序列中靠
后计算的其他字段的值时,则可能需要这样做.</dd>

<dt><code>M-x org-table-recalculate-buffer-tables</code></dt><dd>重新计算当前缓冲区中所有表格.</dd>

<dt><code>M-x org-table-recalculate-buffer-tables</code></dt><dd>迭代当前缓冲区中的所有表格,以聚
合表到表的依赖关系.</dd>
</dl>
</div>
</div>

<div id="outline-container-orgac072d8" class="outline-4">
<h4 id="orgac072d8">高级功能(Advanced features)</h4>
<div class="outline-text-4" id="text-orgac072d8">
<blockquote>
<p>
字段和列名,自动重计算等等.
</p>
</blockquote>

<p>
如果你想要字段自动进行重计算,或者如果你想要能够给字段和列赋值名字,那么你需要
为特殊标记字符保留表格的第一列.
</p>

<dl class="org-dl">
<dt><code>C-#</code> &#x2013; <code>(org-table-rotate-recalc-marks)</code></dt><dd><p>
将第一列中的计算标志旋转到状态
<code>#,*,!,$</code>.当有选中区域时,改变区域内的所有标志
</p>

<p>
这有一个收集学生考试结果的表格示例,并且利用了这些功能.
</p>

<pre class="example">

|---+---------+--------+--------+--------+-------+------|
|   | Student | Prob 1 | Prob 2 | Prob 3 | Total | Note |
|---+---------+--------+--------+--------+-------+------|
| ! |         |     P1 |     P2 |     P3 |   Tot |      |
| # | Maximum |     10 |     15 |     25 |    50 | 10.0 |
| ^ |         |     m1 |     m2 |     m3 |    mt |      |
|---+---------+--------+--------+--------+-------+------|
| # | Peter   |     10 |      8 |     23 |    41 |  8.2 |
| # | Sam     |      2 |      4 |      3 |       |  1.8 |
|---+---------+--------+--------+--------+-------+------|
|   | Average |        |        |        |  25.0 |      |
| ^ |         |        |        |        |    at |      |
| $ | max=50  |        |        |        |       |      |
|---+---------+--------+--------+--------+-------+------|
#+TBLFM: $6=vsum($P1..$P3)::$7=10*$Tot/$max;%.1f::$at=vmean(@-II..@-I);%.1f
</pre>
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-right" />

<col  class="org-right" />

<col  class="org-right" />

<col  class="org-right" />

<col  class="org-right" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Student</th>
<th scope="col" class="org-right">Prob 1</th>
<th scope="col" class="org-right">Prob 2</th>
<th scope="col" class="org-right">Prob 3</th>
<th scope="col" class="org-right">Total</th>
<th scope="col" class="org-right">Note</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">Maximum</td>
<td class="org-right">10</td>
<td class="org-right">15</td>
<td class="org-right">25</td>
<td class="org-right">50</td>
<td class="org-right">10.0</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="org-left">Peter</td>
<td class="org-right">10</td>
<td class="org-right">8</td>
<td class="org-right">23</td>
<td class="org-right">41</td>
<td class="org-right">8.2</td>
</tr>

<tr>
<td class="org-left">Sam</td>
<td class="org-right">2</td>
<td class="org-right">4</td>
<td class="org-right">3</td>
<td class="org-right">9</td>
<td class="org-right">1.8</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="org-left">Average</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">25.0</td>
<td class="org-right">&#xa0;</td>
</tr>
</tbody>
</table>

<p>
重要事项:请注意,对这些特殊表格来讲,使用 <code>C-u C-c *</code> 重新计算表格,只影响被 <code>#</code>
或 <code>#</code> 标记的行,和那些有公式赋值的字段.列公式不会在有空字段的行生效.
</p></dd>
</dl>


<p>
标志字符及其含义:
</p>
<dl class="org-dl">
<dt><code>!</code></dt><dd>这一行定义列名,以便你能使用 <code>$Tot</code> 而不是 <code>$6</code> 来引用第六列.</dd>
<dt><code>^</code></dt><dd>这一行定义上一行字段的名字.用这种定义,表格的任何公式可以使用 <code>$m1</code> 来引
用值 <code>10</code>.此外,你也可以将公式赋值给命名字段,它会被存储成这样: <code>$name = ...</code> .</dd>
<dt><code>_</code></dt><dd>和 <code>^</code> 类似,不过是定义下一行的字段名.</dd>
<dt><code>$</code></dt><dd>这一行的字段能定义公式里的参数.例如,如果 <code>$</code> 行的某一字段包含 <code>max=50</code>,
然后这个表格的公式可以使用 <code>$max</code> 引用50这个值.参数和常量一样使用,只不过参数
是基于每个表定义的.</dd>
<dt><code>#</code></dt><dd>在这一行里按 <code>&lt;TAB&gt;</code> 或 <code>&lt;RET&gt;</code> 或 <code>S-&lt;TAB&gt;</code> 时,这一行的字段会自动进行重新
计算.此外,这一行在使用 <code>C-u C-c *</code> 进行全局重计算时也会被选中.未标记的行不会
被该命令选中.</dd>
<dt><code>*</code></dt><dd>使用 <code>C-u C-c *</code> 进行全局计算时选中改行,但是不会进行自动的重新计算.当自
动重新计算使编辑速度过慢时,请使用这一标志.</dd>
<dt><code>/</code></dt><dd>不导出此行.在包含收缩标记 <code>&lt;N&gt;</code> 或列分组标记的行里很有用.</dd>
</dl>


<p>
最后,为了激起你对奇妙的 Calc 包能做什么的兴趣,这里有一个表格,用来计算两个函
数在 x 位置的 n 阶泰勒级数.
</p>
<pre class="example">
|---+-------------+---+-----+--------------------------------------|
|   | Func        | n | x   | Result                               |
|---+-------------+---+-----+--------------------------------------|
| # | exp(x)      | 1 | x   | 1 + x                                |
| # | exp(x)      | 2 | x   | 1 + x + x^2 / 2                      |
| # | exp(x)      | 3 | x   | 1 + x + x^2 / 2 + x^3 / 6            |
| # | x^2+sqrt(x) | 2 | x=0 | x*(0.5 / 0) + x^2 (2 - 0.25 / 0) / 2 |
| # | x^2+sqrt(x) | 2 | x=1 | 2 + 2.5 x - 2.5 + 0.875 (x - 1)^2    |
| * | tan(x)      | 3 | x   | 0.0175 x + 1.77e-6 x^3               |
|---+-------------+---+-----+--------------------------------------|
#+TBLFM: $5=taylor($2,$4,$3);n3
</pre>


<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-right" />

<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Func</th>
<th scope="col" class="org-right">n</th>
<th scope="col" class="org-left">x</th>
<th scope="col" class="org-left">Result</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">exp(x)</td>
<td class="org-right">1</td>
<td class="org-left">x</td>
<td class="org-left">1 + x</td>
</tr>

<tr>
<td class="org-left">exp(x)</td>
<td class="org-right">2</td>
<td class="org-left">x</td>
<td class="org-left">1 + x + x<sup>2</sup> / 2</td>
</tr>

<tr>
<td class="org-left">exp(x)</td>
<td class="org-right">3</td>
<td class="org-left">x</td>
<td class="org-left">1 + x + x<sup>2</sup> / 2 + x<sup>3</sup> / 6</td>
</tr>

<tr>
<td class="org-left">x<sup>2</sup>+sqrt(x)</td>
<td class="org-right">2</td>
<td class="org-left">x=0</td>
<td class="org-left">x*(0.5 / 0) + x<sup>2</sup> (2 - 0.25 / 0) / 2</td>
</tr>

<tr>
<td class="org-left">x<sup>2</sup>+sqrt(x)</td>
<td class="org-right">2</td>
<td class="org-left">x=1</td>
<td class="org-left">2 + 2.5 x - 2.5 + 0.875 (x - 1)<sup>2</sup></td>
</tr>

<tr>
<td class="org-left">tan(x)</td>
<td class="org-right">3</td>
<td class="org-left">x</td>
<td class="org-left">0.0175 x + 1.77e-6 x<sup>3</sup></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div id="outline-container-orgf61cf4b" class="outline-3">
<h3 id="orgf61cf4b">Org 绘图(Org Plot)</h3>
<div class="outline-text-3" id="text-orgf61cf4b">
<blockquote>
<p>
根据 Org 表格数据绘图
</p>
</blockquote>
<p>
Org Plot 可以生成存储在Org 表格里的信息的图像,可以是图片形式,也可以是 ASCII
形式
</p>
</div>
<div id="outline-container-orgc0073c4" class="outline-4">
<h4 id="orgc0073c4">使用 Gnuplot 的图形绘图(Graphical plots using Gnuplot)</h4>
<div class="outline-text-4" id="text-orgc0073c4">
<p>
Org Plot 可以使用Gnuplot(<a href="http://www.gnuplot.info/">http://www.gnuplot.info/</a>) 和
Gnuplot(<a href="http://cars9.uchicago.edu/~ravel/software/gnuplot-mode.html">http://cars9.uchicago.edu/~ravel/software/gnuplot-mode.html</a>) 生成Org
表格存储的信息的 2D 和 3D 图形.要看到这一操作,请确保你在你的系统里同时安装了
Gnuplot 和 Gnuplot mode. 然后在下面的表格里调用 <code>C-c " g</code> 或 <code>M-x
    org-plot/gnuplot</code> :
</p>

<pre class="example">
#+PLOT: title:"Citas" ind:1 deps:(3) type:2d with:histograms set:"yrange [0:]"
| Sede      | Max cites | H-index |
|-----------+-----------+---------|
| Chile     |    257.72 |   21.39 |
| Leeds     |    165.77 |   19.68 |
| Sao Paolo |     71.00 |   11.50 |
| Stockholm |    134.19 |   14.33 |
| Morelia   |    257.56 |   17.67 |

</pre>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-right" />

<col  class="org-right" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Sede</th>
<th scope="col" class="org-right">Max cites</th>
<th scope="col" class="org-right">H-index</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">Chile</td>
<td class="org-right">257.72</td>
<td class="org-right">21.39</td>
</tr>

<tr>
<td class="org-left">Leeds</td>
<td class="org-right">165.77</td>
<td class="org-right">19.68</td>
</tr>

<tr>
<td class="org-left">Sao Paolo</td>
<td class="org-right">71.00</td>
<td class="org-right">11.50</td>
</tr>

<tr>
<td class="org-left">Stockholm</td>
<td class="org-right">134.19</td>
<td class="org-right">14.33</td>
</tr>

<tr>
<td class="org-left">Morelia</td>
<td class="org-right">257.56</td>
<td class="org-right">17.67</td>
</tr>
</tbody>
</table>

<p>
注意,Org Plot 足够智能,可以将表格的头信息(不是表头)应用为图形标签.可以通过表
前的 <code>PLOT</code> 关键词进一步控制绘图的标签,内容,类型和外观.完整的Org Plot 选项列表
在下面.更多的信息和例子请查看 Org Plot 教程
(<a href="https://orgmode.org/worg/org-tutorials/org-plot.html">https://orgmode.org/worg/org-tutorials/org-plot.html</a>).
</p>
</div>




<ul class="org-ul">
<li><a id="org4493b9e"></a>绘图选项(Plot options)<br />
<div class="outline-text-5" id="text-org4493b9e">
<dl class="org-dl">
<dt><code>set</code></dt><dd>指定绘图时要设置的Gnuplot选项.</dd>
<dt><code>title</code></dt><dd>指定绘图的标题.</dd>
<dt><code>ind</code></dt><dd>指定表格的哪一行作为 <code>x</code> 轴使用.</dd>
<dt><code>deps</code></dt><dd>如同 Lisp 风格的列表一样指定要绘制的列,用括号包围,并用空格分隔,例
如 <code>dep:(3 4)</code> 来绘制第三和第四列.默认绘制除了 <code>ind</code> 列之外的所有列</dd>
<dt><code>type</code></dt><dd>指定绘图是 <code>2d</code> , <code>3d</code> 还是 <code>grid</code> .</dd>
<dt><code>with</code></dt><dd>为要绘制的每一列指定要插入的 <code>with</code> 选项.例如 <code>lines</code>, <code>points</code>, <code>boxes</code>,
<code>impulses</code>. 默认值是 <code>lines</code>.</dd>
<dt><code>file</code></dt><dd>如果想要绘制到文件,指定其为 <code>"path/to/desired/output-file"</code>.</dd>
<dt><code>labels</code></dt><dd>用于 <code>deps</code> 的标签列表.默认是列的头信息(如果有的话).</dd>
<dt><code>line</code></dt><dd>指定要插入到 Gnuplot 脚本的一整行.</dd>
<dt><code>map</code></dt><dd>当绘制 <code>3d</code> 或 <code>gtid</code> 类型时,设置该选项为 <code>t</code>, 来绘制平面贴图而不是 <code>3d</code>
坡度图.</dd>
<dt><code>timefmt</code></dt><dd>指定Org mode 的时间戳在传递给Gnuplot 时的格式.默认是
<code>%Y-%m-%d-%H:%M:%S</code>.</dd>
<dt><code>script</code></dt><dd>如果你想要完全控制绘图过程,你可以指定一个绘图时使用的脚本文件&#x2013;
将文件名放置在双引号之间.在绘图之前,指定脚本文件中的每一个 <code>$datafile</code> 实例
都会被生成的数据文件的路径替换.注意:即使你设置了这个选项,也可能需要指定绘
图类型,因为这可能影响数据文件的内容.</dd>
</dl>
</div>
</li>

<li><a id="org00523de"></a>ASCII 条形图(ASCII bar plots)<br />
<div class="outline-text-5" id="text-org00523de">
<p>
当光标在一列上时,使用 <code>C-c " a</code> 或 <code>M-x orgtbl-ascii-plot</code> 来创造一个包含ASCII
艺术的条形绘图(条形码?)的新列.这个绘图是通过常规的列公式实现的.当根源列改变
时,条状绘图可以通过刷新表格来更新.例如使用 <code>C-u C-c *</code>.
</p>

<pre class="example">
| Sede          | Max cites |              |
|---------------+-----------+--------------|
| Chile         |    257.72 | WWWWWWWWWWWW |
| Leeds         |    165.77 | WWWWWWWh     |
| Sao Paolo     |     71.00 | WWW;         |
| Stockholm     |    134.19 | WWWWWW:      |
| Morelia       |    257.56 | WWWWWWWWWWWW |
| Rochefourchat |      0.00 |              |
#+TBLFM: $3='(orgtbl-ascii-draw $2 0.0 257.72 12)

</pre>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-right" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Sede</th>
<th scope="col" class="org-right">Max cites</th>
<th scope="col" class="org-left">&#xa0;</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">Chile</td>
<td class="org-right">257.72</td>
<td class="org-left">WWWWWWWWWWWW</td>
</tr>

<tr>
<td class="org-left">Leeds</td>
<td class="org-right">165.77</td>
<td class="org-left">WWWWWWWh</td>
</tr>

<tr>
<td class="org-left">Sao Paolo</td>
<td class="org-right">71.00</td>
<td class="org-left">WWW;</td>
</tr>

<tr>
<td class="org-left">Stockholm</td>
<td class="org-right">134.19</td>
<td class="org-left">WWWWWW:</td>
</tr>

<tr>
<td class="org-left">Morelia</td>
<td class="org-right">257.56</td>
<td class="org-left">WWWWWWWWWWWW</td>
</tr>

<tr>
<td class="org-left">Rochefourchat</td>
<td class="org-right">0.00</td>
<td class="org-left">&#xa0;</td>
</tr>
</tbody>
</table>

<p>
上面例子里的公式是 Elisp 调用.
</p>
<dl class="org-dl">
<dt><code>(orgtbl-ascii-draw VALUE MIN MAX &amp;optional WIDTH CHARACTERS)</code></dt><dd>该函数会
在表格里绘制一个 ASCII 条状图. VALUE 是要绘制的值,它确定了要绘制的条状图
的宽度.MIN 是将显示为空的值(零宽度栏).MAX 是将绘制填充所有宽度的值,不在这
个范围(min2max)的值会被展示为 <code>too small</code> 或 ~too large.WIDTH 是从 MIN 到 MAX 的字符
跨度,就是条形图的最大字符数量,默认值是12. CHARACTERS 是一个用来构成条形图
的字符串,带有从纯白到纯黑的灰色阴影,它 默认为10个字符的常规ASCII字符字符
串.</dd>
</dl>
</div>
</li>
</ul>
</div>
</div>
</div>


<div id="outline-container-org799bd71" class="outline-2">
<h2 id="org799bd71">超链接(Hyperlinks)</h2>
<div class="outline-text-2" id="text-org799bd71">
<p>
像 HTML 一样,Org 提供了对文件内部的链接,其他文件的外部链接,新闻文章,邮件等的支
持.
</p>
</div>

<div id="outline-container-org71b26d2" class="outline-3">
<h3 id="org71b26d2">链接格式(Link Format)</h3>
<div class="outline-text-3" id="text-org71b26d2">
<blockquote>
<p>
Org 里的链接是怎样的格式.
</p>
</blockquote>
<p>
Org 能识别普通URI, 可能会被尖括号包围.而且可以将其作为可点击链接激活.
普通URI只能在定义良好的一组模式,见(<code>External Links</code> TODO). 与 URI 语法不同,他们
不能包含括号,也不能包含空格.尖括号里使用 URI 没有这些限制.
</p>

<p>
但是,常规的链接格式如下:
</p>
<pre class="example">
[[LINK][DESCRIPTION]]
</pre>
<p>
或者这样:
</p>
<pre class="example">
[[LINK]]
</pre>
<p>
LINK 部分的有些 <code>\</code> , <code>[</code> 和 <code>]</code> 字符需要被转义,也就是要在之前加一个 <code>\</code> 字符.更特殊
的是,下面的字符,也只有下面的字符,是必须被转义的:
</p>
<ol class="org-ol">
<li>所有 <code>[</code> 和 <code>]</code> 字符.</li>
<li>在 <code>[</code> 或 <code>]</code> 之前的每个 <code>\</code> 字符.</li>
<li>在链接最后的每个 <code>\</code> 字符.</li>
</ol>


<p>
插入链接的函数(Handling Links)会正确地转义不明确的字符.当你直接在方括号里插入
或粘贴URI时,只需要考虑上面的规则.当不是很确定时,你可以使用函数
<code>org-link-escape</code>, 它会将链接字符串转换成其转义后的形式.
</p>

<p>
一旦缓冲区里的一个链接完成了(所有括号都存在),Org 会更改其显示,以便显示
<code>DESCRIPTION</code> 而不是 <code>[[LINK][DESCRIPTION]]</code>, 显示 <code>LINK</code> 而不是 <code>[[LINK]]</code>. 链接会使
用 <code>org-link</code> 特征(face) 来高亮,默认情况下,是一个下划线的特征.
</p>

<p>
你可以直接编辑链接的可视部分,如果没有描述部分,那就编辑的是链接,反之,则编辑的
是描述部分.想要编辑链接的不可见部分,光标在链接上时使用 <code>C-c C-l</code> (Handling
Links).
</p>

<p>
如果当光标在链接可见部分的开头或最后之后按 <code>&lt;BS&gt;</code> ,你会删除那个位置的不可见的括
号(更准确地说,确切的行为取决于光标是如何到达该位置的,参见 <code>Invisible Text</code>
(elisp)TODO).这会使链接变得不完整,然后链接内部会重新作为普通文本显现出来.插入缺
失的括号会将链接重新隐藏.要显示所有链接的内部结构,使用菜单: Org → Hyperlink →
Literal links.
</p>
</div>
</div>

<div id="outline-container-org00d006e" class="outline-3">
<h3 id="org00d006e">内部链接(Internal Links)</h3>
<div class="outline-text-3" id="text-org00d006e">
<blockquote>
<p>
链接到当前文件的其他地方.
</p>
</blockquote>
<p>
一个不像URL(不是以任何一个已知的scheme或文件名开头)的链接,引用当前文件.当光标
位于链接上时,你可以使用 <code>C-c C-o</code> 或鼠标点击来打开链接(Handling Links).
</p>

<p>
Org 对文档内部的导航提供了一些改进.最值得注意的是,一个像 <code>[[#my-custom-id]]</code> 这
样的构造专门针对 <code>CUSTOM_ID</code> 属性设置为 <code>my-custom-id</code> 的条目.此外,一个像这样:
<code>[[*Some section]]</code> 的内部链接指向一个名字是 <code>Some section</code> 的标题.要插入指向标题
的链接,缓冲区补全可以使用.只需键入一个星号再加上几个可选的字母到缓冲区,然后按
<code>M-&lt;TAB&gt;</code>. 当前缓冲区的所有标题项都可由补全提供.
</p>

<p>
当一个链接不属于上述的任一情况时,Org 会查找专用目标:使用双尖括号的相同字符串,
例如 <code>&lt;&lt;My Target&gt;&gt;</code>.
<a href="#org2a1ae9a">外部链接(External Links)</a>
</p>

<p>
如果没有专用目标存在,链接会试图匹配缓冲区里元素的确切名称.命名,不出意料地,是
用 <code>NAME</code> 关键字完成的,它必须放在它引用的元素之前的行中,如下面的示例：
</p>
<pre class="example">
#+NAME: My Target
| a  | table      |
|----+------------|
| of | four cells |
</pre>

<p>
最后,如果上面的情况没有一个成功的,Org 会查找含有有链接文本而且加上 TODO 关键字和
标签的标题,或者根据 <code>org-link-search-must-match-exact-headline</code> 的值开始纯文本
查找.
</p>

<p>
注意,你必须保证自定义ID, 特殊目标和名字在整个文档里是独一无二的.Org 提供了一
个 linter 来帮助你完成这一过程,如果你需要的话.查看Org语法(Org Syntax)TODO.
</p>

<p>
在导出时,内部链接用于标记对象和给他们赋值一个编号.标记后的对象随后由指向他们
的链接引用.特别的,没有描述的链接显示为指定给标记对象的编号(当指向一个 <code>NAME</code> 关
键字时, <code>CAPTION</code> 关键字是必须有的,因为要得到正确的编号).在下面的Org 缓冲区片段
中:
</p>
<pre class="example">
1. one item
2. &lt;&lt;target&gt;&gt;another item
Here we refer to item [[target]].
</pre>
<p>
最后一句在导出时会展示为 <code>Here we refer to item 2</code>:
</p>
<ol class="org-ol">
<li>one item</li>
<li><a id="org6ae6852"></a>another item</li>
</ol>
<p>
Here we refer to item <a href="#org6ae6852">2</a>.
</p>

<p>
在非Org文件里,查找会找寻链接文本里的内容.在上面的例子里,查找的内容是 <code>target</code>.
</p>

<p>
点击链接会在Org 自己的标记环上加上一个标记.你能通过 <code>C-c &amp;</code> 来返回到上一位置.直
接连续多次使用这个命令,可以返回到先前记录的位置.
</p>
</div>
</div>


<div id="outline-container-org7eddd9d" class="outline-3">
<h3 id="org7eddd9d">无线电目标(Radio Targets)</h3>
<div class="outline-text-3" id="text-org7eddd9d">
<p>
Org 可以自动将普通文本里出现的某些目标名称转换为链接.因此,在不显式创建链接的
情况下,文本将链接到目标,并标记其位置.Radio 目标由三个尖括号包围.例如, 目标
<code>&lt;&lt;&lt;My Target&gt;&gt;&gt;</code> 会导致正常文本中出现的每一个 <code>my target</code> 都作为链接激活.只有当
文件首次加载到 Emacs 里时,才会自动扫描Org 文件里的 radio 目标.要在编辑时更新
目标的列表,在光标位于目标上时,按 <code>C-c C-c</code> 即可. my target , My Target.
</p>
</div>
</div>

<div id="outline-container-org2a1ae9a" class="outline-3">
<h3 id="org2a1ae9a">外部链接(External Links)</h3>
</div>


<div id="outline-container-org28c5848" class="outline-3">
<h3 id="org28c5848">处理链接(Handling Links)</h3>
<div class="outline-text-3" id="text-org28c5848">
<p>
Org 提供了使用正确语法创建链接,插入链接和打开链接的方法.
</p>

<p>
最主要的方法是 <code>org-store-link</code>, 使用 <code>M-x org-store-link</code> 调用.因为其重要性,我们
建议将其绑定为常用快捷键(*Activation TODO). 这个命令会保存光标所在位置的一个
链接.这个链接是为了之后插入到Org 缓冲区而保存的(下面内容).创造的链接的类型取
决于当前的缓冲区:
</p>

<dl class="org-dl">
<dt>Org 模式缓冲区</dt><dd>对于Org 文件,如果光标处有一个 <code>&lt;&lt;target&gt;&gt;</code>, 链接会指向这个
target. 没有,则链接会指向当前的标题(也是链接的描述内容).注意,如果标题包含有
时间戳,时间戳会在链接里被删除,这会导致一个错误的链接,所以你应该避免在标题里
使用时间戳.
如果标题有 <code>CUSTOM_ID</code> 属性,会使用这个自定义的ID 来保存链接.此外,可选的是,根
据 <code>org-id-link-to-org-use-id</code> 的值,来为链接创造全局唯一的 <code>ID</code> 属性(Org 的 ID
库必须要先被加载,要么通过 <code>org-customize</code> 方法,要么在 <code>org-modules</code> 启用 <code>id</code> 模
块,要么就在Emacs init 文件里添加 <code>require 'org-id</code>). 所以,在Org 缓冲区里使用
这个命令可能会创造两个链接:一种使用自定义ID的人类可读的链接,另一种是全局唯
一的即使条目从一个文件移动到另一个文件也有效的链接.在稍后插入链接时,你需要
决定使用那一种链接.</dd>

<dt>邮件/新闻客户端:VM,Rmail,Wanderlust,MH-E,Gnus </dt><dd>几乎所有的Emacs 邮件客户
端都支持.指向当前文章的链接,或者在某些 Gnus 缓冲区里,指向组的链接.描述部分
是根据变量 <code>org-link-email-description-format</code> 来构建的.默认情况下,链接指向收
件人和主题.</dd>

<dt>网页浏览器:W3,W3M 和 EWW</dt><dd>在这里,链接就是当前的URL, 页面标题就是描述部分.</dd>

<dt>联系人(Contacts):BBDB</dt><dd>BBDB 缓冲区里创造的链接指向当前条目.</dd>

<dt>聊天(Chat):IRC</dt><dd>对于IRC 链接,如果 <code>org-irc-link-to-logs</code> 变量非空,则创建
<code>file</code> 类型的链接,指向光标在当前对话的日志文件的位置.若为空,则保存一个 <code>irc</code> 类
型的链接,指向光标所在的用户/频道/服务器.</dd>

<dt>其他文件</dt><dd>对于其他类型文件,链接指向文件,加上指向当前行内容的搜索字符串(见
Search Options TODO). 如果存在选区,选中的文本组成搜索字符串.你可以编写自定
义的Lisp 函数来选择搜索字符串和针对特定文件类型执行搜索(见 Custom Searches
TODO). 你也可以定义指向其他文件的特定链接(见 Adding Hyperlink Types TODO).</dd>

<dt>Agenda 视图</dt><dd>当光标位于 Agenda(日程) 视图时,创造的链接会指向光标所在当前
行引用的条目.</dd>
</dl>


<p>
在Org 缓冲区中,下面的命令创建,浏览或者更通俗地讲,对链接进行操作:
</p>

<dl class="org-dl">
<dt><code>C-c C-l</code> &#x2013; <code>(org-insert-link)</code></dt><dd>插入一个链接<sup><a id="fnr.1" class="footref" href="#fn.1">1</a></sup>.会提示输入要
被插入到缓冲区的链接.你可以通过键入内部链接的文本,或者上面例子里提到的链接
类型来插入一个链接.如果这时有文本被选中,文本会成为默认的链接描述.
<dl class="org-dl">
<dt>插入保存的链接</dt><dd>在当前会话中所有保存的链接都会作为提示输入的历史记录的
一部分,所以你可以使用 <code>&lt;UP&gt;</code> 和 <code>&lt;DOWN&gt;</code> (<code>M-p</code> , <code>M-n</code>) 来获取这些链接.</dd>
<dt>补全支持</dt><dd>用 <code>&lt;TAB&gt;</code> 触发补全可以帮助你插入有效的链接前缀(像 <code>http</code> 或
<code>ftp</code>), 甚至包括通过链接缩写(见TODO[*链接缩写(Link Abbreviations)]])定义的
缩写.如果你在只插入前缀之后按 <code>&lt;RET&gt;</code>,Org 会提供这些链接类型的特定的补全支
持.例如, 如果你键入 <code>file&lt;RET&gt;</code> 或者使用 <code>C-u C-c C-l</code> 看接下来会发生什么,Org
会提供文 件名补全.键入 <code>bbdb&lt;RET&gt;</code> 提供联系人名字补全.</dd>
</dl></dd>

<dt><code>C-u C-c C-l</code></dt><dd>当上面的命令加上 <code>C-u</code> 前缀参数一起使用时,插入一个链接到文件
的链接.你可以使用文件名补全来选择文件的类型.如果链接文件在当前目录或当前目录的子目录,或者路径是使用相对
路径格式 <code>../</code>, 那么插入的文件路径是相对路径;否则,就会使用绝对路径.如果可能,
使用 <code>~/</code> 来标示家目录.可以使用两个 <code>C-u C-u</code> 来强制使用绝对路径.</dd>

<dt><code>C-c C-l</code> (光标在链接上)</dt><dd>当光标在链接上时,该命令允许你编辑链接的链接和描述
部分.</dd>

<dt><code>C-c C-o</code> &#x2013; <code>(org-open-at-point)</code></dt><dd>打开光标处链接.链接是URL,该命令会打开网页浏览
器(使用 <code>browse-url-at-point</code> 方法);如果是相应链接,会运行
VM/MH-E/Wanderlust/Rmail/Gnus/BBDBc 程序;如果是脚本链接,会执行脚本.当光标处
是内部链接时,命令会运行相应查找操作.当光标位于标题的标签(tag)部分,命令会创
建一个响应的标签视图.</dd>
</dl>
</div>
</div>
</div>
<div id="outline-container-org38e7ae5" class="outline-2">
<h2 id="org38e7ae5">富文本的标记(Markup for Rich Contents)</h2>
<div class="outline-text-2" id="text-org38e7ae5">
</div>
<div id="outline-container-orgf9d9b9f" class="outline-3">
<h3 id="orgf9d9b9f">创建脚注(Creating Footnotes)</h3>
<div class="outline-text-3" id="text-orgf9d9b9f">
<p>
脚注从第0列方括号中的脚注标记开始,不允许由缩进,到下一个脚注的定义,下一个
标题或连续两个空白行后结束.脚注引用只是文本里方括号中的标记.标记总是以 <code>fn:</code> 开
头,例如:
</p>
<pre class="example">
The Org homepage[fn:1] now looks a lot better than it used to.
...
[fn:1] The link is: https://orgmode.org
</pre>

<p>
Org 模式将基于数字的语法扩展到命名脚注和可选的内联定义.以下是有效的参考资料:
</p>

<dl class="org-dl">
<dt><code>[fn:NAME]</code></dt><dd>一种命名脚注引用. 其中 NAME 是一个唯一的标签词,或者为了便于自
动创建,是一个数字.</dd>

<dt><code>[fn:: This is the inline definition of this footnote]</code></dt><dd>一个直接在引用处给
出定义的脚注.</dd>

<dt><code>[fn:NAME: a definition]</code></dt><dd>一个脚注的内联定义,同时也指定注释的名称.因为 Org
允许多个引用指向同一个注释,所以,你可以使用 <code>[fn:NAME]</code> 来创建额外的引用.</dd>
</dl>


<p>
脚注标签可以自动创建,你也可以自己创建名称.这一行为是由变量
<code>org-footnote-auto-label</code> <sup><a id="fnr.2" class="footref" href="#fn.2">2</a></sup>.和其对应的 <code>STARTUP</code> 关键字处理.查看该变量的文档字符串
来获取详细信息.
</p>

<p>
下面的命令用来处理脚注:
</p>

<dl class="org-dl">
<dt><code>C-c C-x f</code></dt><dd>脚注操作命令.当光标在脚注引用上时,跳转到定义.当在定义上时,跳转
到第一个引用的位置 <code>[fn:2]</code>. 既不在脚注的引用,也不在其定义上时,就创建一个新的
脚注.取决于变量 <code>org-footnote-define-inline</code> 的值,脚注的定义会被放在文本里作
为引用的一部分.或者单独放置在变量 <code>org-footnote-section</code> 决定的位置上.
当这个命令加上前缀参数一起调用时,将提供一个附加选项的菜单:
<code>s</code> : 根据引用序列排序脚注.
<code>r</code> : 重新编码简单的 <code>fn:N</code> 脚注.
<code>S</code> : 先 <code>r</code> 重编码,后 <code>s</code> 排序的操作的简写.
<code>n</code> : 重命名所有脚注到 <code>fn:1</code> .. <code>fn:n</code> 的序列.
<code>d</code> : 删除当前脚注,包括定义和引用.
根据变量 <code>org-footnote-auto-adjust</code> <sup><a id="fnr.3" class="footref" href="#fn.3">3</a></sup> 的值,重排序和重编号可以在插入和删除脚注之
后自动进行.</dd>

<dt><code>C-c C-c</code></dt><dd>当光标位于一个脚注引用位置时,跳转到定义位置.如果光标在定义位置,
跳转回到引用位置.当在脚注位置时加上前缀参数调用,会提供和 <code>C-c C-x f</code> 一样的菜
单.</dd>

<dt><code>C-c C-o</code> 或 <code>mouse-1/2</code></dt><dd>脚注标签也是指向相应定义或引用的链接,你也可以使用普
通的命令打开这些链接.</dd>
</dl>
</div>
</div>
</div>



<div id="outline-container-orgaa2bcfa" class="outline-2">
<h2 id="orgaa2bcfa">导出(Exporting)</h2>
<div class="outline-text-2" id="text-orgaa2bcfa">
<p>
当需要将自己的 org 笔记打印出来,发布到网上,或是分享给不用 Org 的人.Orrg 可以将
文档转化并导出为各种其他的格式,同时尽可能的保持文档结构和 markup (富文本标记内
容).
负责将 org 文件转换成其他格式的库叫做 <code>back-ends</code>.
Org 自带对这些 <code>back-ends</code> 支持:
</p>
<ul class="org-ul">
<li>ascii (ASCII format)</li>
<li>beamer (LaTeX Beamer format)</li>
<li>html (HTML format)</li>
<li>icalendar (iCalendar format)</li>
<li>latex (LaTeX format)</li>
<li>md (Markdown format)</li>
<li>odt (OpenDocument Text format)</li>
<li>org (Org format)</li>
<li>texinfo (Texinfo format)</li>
<li>man (Man page format)</li>
</ul>
<p>
我们还可以从 Emacs 包系统里安装导出为其他格式的库, 为了方便查找,这些包有通用的
命名模式: <code>ox-NAME</code> , 例如 <code>ox-koma-letter</code> 就是 <code>koma-letter</code> 的 back-end. 更多的
back-end 可以在 <code>org-contrib</code> 仓库中找到.
</p>

<p>
Org 默认只加载这些 back-ends: ASCII, HTML, iCalendar, LaTeX, 和 ODT. 额外的
back-ends 可以通过两种方式加载:
</p>
<ul class="org-ul">
<li>修改 <code>org-export-backends</code></li>
<li>在 Emacs Init 文件里请求相应的库:
加载 Markdown 格式的 back-end, 在 Eamcs 配置文件里添加 <code>(require 'ox-md)</code></li>
</ul>
</div>
<div id="outline-container-orge4bc96d" class="outline-3">
<h3 id="orge4bc96d">The Export Dispatcher(The main interface.) 导出调度器</h3>
<div class="outline-text-3" id="text-orge4bc96d">
<p>
To Be Continued!
</p>
</div>
</div>
</div>
<div id="footnotes">
<h2 class="footnotes">Footnotes: </h2>
<div id="text-footnotes">

<div class="footdef"><sup><a id="fn.1" class="footnum" href="#fnr.1">1</a></sup> <div class="footpara">注意,你不是必须使用这个命
令插入链接,Org 的链接时纯文本,你可以直接键入或粘贴他们到缓冲区里.使用这个命
令,链接会自动用双括号包围,并且你会被要求输入可选的描述性文本</div></div>

<div class="footdef"><sup><a id="fn.2" class="footnum" href="#fnr.2">2</a></sup> <div class="footpara">相应的缓冲区设置是: '#+STARTUP: fninline' 或
'#+STARTUP: nofninline'</div></div>

<div class="footdef"><sup><a id="fn.3" class="footnum" href="#fnr.3">3</a></sup> <div class="footpara">相应的缓冲区设置是 '#+STARTUP:
fninline' 或 '#+STARTUP: nofninline'</div></div>


</div>
</div></div>
<div id="postamble" class="status">
<p class="author">Author: kamisama</p>
<p class="date">Created: 2022-01-22 Sat 16:19</p>
<p class="validation"></p>
</div>
</body>
</html>
