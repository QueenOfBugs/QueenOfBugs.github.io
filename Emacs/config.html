<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title> Org 文件配置Emacs</title>
<meta name="author" content="kamisama" />
<meta name="keywords" content=" Emacs" />
<meta name="generator" content="Org Mode" />
<style>
  #content { max-width: 60em; margin: auto; }
  .title  { text-align: center;
             margin-bottom: .2em; }
  .subtitle { text-align: center;
              font-size: medium;
              font-weight: bold;
              margin-top:0; }
  .todo   { font-family: monospace; color: red; }
  .done   { font-family: monospace; color: green; }
  .priority { font-family: monospace; color: orange; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .org-right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .org-left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .org-center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #e6e6e6;
    border-radius: 3px;
    background-color: #f2f2f2;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: auto;
  }
  pre.src:before {
    display: none;
    position: absolute;
    top: -8px;
    right: 12px;
    padding: 3px;
    color: #555;
    background-color: #f2f2f299;
  }
  pre.src:hover:before { display: inline; margin-top: 14px;}
  /* Languages per Org manual */
  pre.src-asymptote:before { content: 'Asymptote'; }
  pre.src-awk:before { content: 'Awk'; }
  pre.src-authinfo::before { content: 'Authinfo'; }
  pre.src-C:before { content: 'C'; }
  /* pre.src-C++ doesn't work in CSS */
  pre.src-clojure:before { content: 'Clojure'; }
  pre.src-css:before { content: 'CSS'; }
  pre.src-D:before { content: 'D'; }
  pre.src-ditaa:before { content: 'ditaa'; }
  pre.src-dot:before { content: 'Graphviz'; }
  pre.src-calc:before { content: 'Emacs Calc'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-fortran:before { content: 'Fortran'; }
  pre.src-gnuplot:before { content: 'gnuplot'; }
  pre.src-haskell:before { content: 'Haskell'; }
  pre.src-hledger:before { content: 'hledger'; }
  pre.src-java:before { content: 'Java'; }
  pre.src-js:before { content: 'Javascript'; }
  pre.src-latex:before { content: 'LaTeX'; }
  pre.src-ledger:before { content: 'Ledger'; }
  pre.src-lisp:before { content: 'Lisp'; }
  pre.src-lilypond:before { content: 'Lilypond'; }
  pre.src-lua:before { content: 'Lua'; }
  pre.src-matlab:before { content: 'MATLAB'; }
  pre.src-mscgen:before { content: 'Mscgen'; }
  pre.src-ocaml:before { content: 'Objective Caml'; }
  pre.src-octave:before { content: 'Octave'; }
  pre.src-org:before { content: 'Org mode'; }
  pre.src-oz:before { content: 'OZ'; }
  pre.src-plantuml:before { content: 'Plantuml'; }
  pre.src-processing:before { content: 'Processing.js'; }
  pre.src-python:before { content: 'Python'; }
  pre.src-R:before { content: 'R'; }
  pre.src-ruby:before { content: 'Ruby'; }
  pre.src-sass:before { content: 'Sass'; }
  pre.src-scheme:before { content: 'Scheme'; }
  pre.src-screen:before { content: 'Gnu Screen'; }
  pre.src-sed:before { content: 'Sed'; }
  pre.src-sh:before { content: 'shell'; }
  pre.src-sql:before { content: 'SQL'; }
  pre.src-sqlite:before { content: 'SQLite'; }
  /* additional languages in org.el's org-babel-load-languages alist */
  pre.src-forth:before { content: 'Forth'; }
  pre.src-io:before { content: 'IO'; }
  pre.src-J:before { content: 'J'; }
  pre.src-makefile:before { content: 'Makefile'; }
  pre.src-maxima:before { content: 'Maxima'; }
  pre.src-perl:before { content: 'Perl'; }
  pre.src-picolisp:before { content: 'Pico Lisp'; }
  pre.src-scala:before { content: 'Scala'; }
  pre.src-shell:before { content: 'Shell Script'; }
  pre.src-ebnf2ps:before { content: 'ebfn2ps'; }
  /* additional language identifiers per "defun org-babel-execute"
       in ob-*.el */
  pre.src-cpp:before  { content: 'C++'; }
  pre.src-abc:before  { content: 'ABC'; }
  pre.src-coq:before  { content: 'Coq'; }
  pre.src-groovy:before  { content: 'Groovy'; }
  /* additional language identifiers from org-babel-shell-names in
     ob-shell.el: ob-shell is the only babel language using a lambda to put
     the execution function name together. */
  pre.src-bash:before  { content: 'bash'; }
  pre.src-csh:before  { content: 'csh'; }
  pre.src-ash:before  { content: 'ash'; }
  pre.src-dash:before  { content: 'dash'; }
  pre.src-ksh:before  { content: 'ksh'; }
  pre.src-mksh:before  { content: 'mksh'; }
  pre.src-posh:before  { content: 'posh'; }
  /* Additional Emacs modes also supported by the LaTeX listings package */
  pre.src-ada:before { content: 'Ada'; }
  pre.src-asm:before { content: 'Assembler'; }
  pre.src-caml:before { content: 'Caml'; }
  pre.src-delphi:before { content: 'Delphi'; }
  pre.src-html:before { content: 'HTML'; }
  pre.src-idl:before { content: 'IDL'; }
  pre.src-mercury:before { content: 'Mercury'; }
  pre.src-metapost:before { content: 'MetaPost'; }
  pre.src-modula-2:before { content: 'Modula-2'; }
  pre.src-pascal:before { content: 'Pascal'; }
  pre.src-ps:before { content: 'PostScript'; }
  pre.src-prolog:before { content: 'Prolog'; }
  pre.src-simula:before { content: 'Simula'; }
  pre.src-tcl:before { content: 'tcl'; }
  pre.src-tex:before { content: 'TeX'; }
  pre.src-plain-tex:before { content: 'Plain TeX'; }
  pre.src-verilog:before { content: 'Verilog'; }
  pre.src-vhdl:before { content: 'VHDL'; }
  pre.src-xml:before { content: 'XML'; }
  pre.src-nxml:before { content: 'XML'; }
  /* add a generic configuration mode; LaTeX export needs an additional
     (add-to-list 'org-latex-listings-langs '(conf " ")) in .emacs */
  pre.src-conf:before { content: 'Configuration File'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.org-right  { text-align: center;  }
  th.org-left   { text-align: center;   }
  th.org-center { text-align: center; }
  td.org-right  { text-align: right;  }
  td.org-left   { text-align: left;   }
  td.org-center { text-align: center; }
  dt { font-weight: bold; }
  .footpara { display: inline; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .equation-container {
    display: table;
    text-align: center;
    width: 100%;
  }
  .equation {
    vertical-align: middle;
  }
  .equation-label {
    display: table-cell;
    text-align: right;
    vertical-align: middle;
  }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  .org-svg { }
</style>
<script>
// @license magnet:?xt=urn:btih:1f739d935676111cfff4b4693e3816e664797050&amp;dn=gpl-3.0.txt GPL-v3-or-Later
     function CodeHighlightOn(elem, id)
     {
       var target = document.getElementById(id);
       if(null != target) {
         elem.classList.add("code-highlighted");
         target.classList.add("code-highlighted");
       }
     }
     function CodeHighlightOff(elem, id)
     {
       var target = document.getElementById(id);
       if(null != target) {
         elem.classList.remove("code-highlighted");
         target.classList.remove("code-highlighted");
       }
     }
// @license-end
</script>
</head>
<body>
<div id="org-div-home-and-up">
 <a accesskey="h" href="./index.html"> UP </a>
 |
 <a accesskey="H" href="../index.html"> HOME </a>
</div><div id="content" class="content">
<h1 class="title"> Org 文件配置Emacs</h1>
<div id="table-of-contents" role="doc-toc">
<h2>Table of Contents</h2>
<div id="text-table-of-contents" role="doc-toc">
<ul>
<li><a href="#orgb1d9aa5">Org-babel</a>
<ul>
<li><a href="#org18b0496">启用Org-babel</a></li>
<li><a href="#org19e49dc">ob-tangle</a></li>
<li><a href="#orgb4a9d4d">自动执行 org-babel-tangle</a></li>
<li><a href="#orgf4df23a">为其他语言启用org-babel支持</a></li>
<li><a href="#orgfb85f6b">取消执行前的询问</a></li>
</ul>
</li>
<li><a href="#org4cdb189">包管理器:use-package</a>
<ul>
<li><a href="#orgb1f9f30">启用Emacs内置包管理器package 安装 use-package</a></li>
</ul>
</li>
<li><a href="#org8365ea2">分析启动耗时</a></li>
<li><a href="#org45a72ea">显示emacs启动时间 + 设置初始界面</a></li>
<li><a href="#org1a067e4">Server Mode</a></li>
<li><a href="#org0226c33">Evil</a></li>
<li><a href="#org461580b">ws-butler 自动清除空格</a></li>
<li><a href="#orgba9f6d2">treemacs 文件管理</a></li>
<li><a href="#org6686c00">翻译</a>
<ul>
<li><a href="#orgf864828">bing-dict</a></li>
<li><a href="#orga4e7fc2">youdao-dictionary</a></li>
</ul>
</li>
<li><a href="#orgc0c920e">counsel &#x2013; better input completion</a></li>
<li><a href="#org46a201e">Text completion</a>
<ul>
<li><a href="#orge59980c">括号补全</a></li>
</ul>
</li>
<li><a href="#org3a8021c">Org mode</a>
<ul>
<li><a href="#org69a3660">Org mode UI</a></li>
<li><a href="#org7bd3ed6">Basic settings</a></li>
<li><a href="#orga826db4">Org bullets</a></li>
<li><a href="#org5ad5240">Code Blocks</a></li>
<li><a href="#org6bab9b4">Org Capture</a>
<ul>
<li><a href="#org152a064">template for org drill</a></li>
</ul>
</li>
<li><a href="#orgda15140">Literate programming settings</a>
<ul>
<li><a href="#org3359519">jupyter-python</a></li>
</ul>
</li>
<li><a href="#orga2563eb">Latex</a></li>
<li><a href="#org97ebe5b">change inline image size</a></li>
</ul>
</li>
<li><a href="#orgda4a44b">Org mode agendas</a></li>
<li><a href="#orgad3071f">Org drill &#x2013; flashcards</a></li>
<li><a href="#orgb689ff8">Org roam</a></li>
<li><a href="#orgcea3485">Basic UI</a></li>
<li><a href="#org579383c">early-init.el</a></li>
<li><a href="#org06e640b">icons</a></li>
<li><a href="#org2f8789b">modeline</a>
<ul>
<li><a href="#org9b94759">doom-modeline</a></li>
<li><a href="#org6d294d2">Show time and date in modeline</a></li>
<li><a href="#org93c7450">show column numbers in mode line</a></li>
</ul>
</li>
<li><a href="#org033e7b0">theme</a>
<ul>
<li><a href="#orge3c1f1a">doom-themes</a></li>
<li><a href="#org66d4baf">built-in themes</a></li>
<li><a href="#org5c53e52">uwu theme</a></li>
</ul>
</li>
<li><a href="#org0c53373">input-method</a>
<ul>
<li><a href="#org6bf1513">rime</a>
<ul>
<li><a href="#org4295a08">配置rime</a></li>
</ul>
</li>
<li><a href="#org9e821d4">pyim</a></li>
</ul>
</li>
<li><a href="#org7a30a95">Programming</a>
<ul>
<li><a href="#org24a5059">Lsp common settings</a></li>
<li><a href="#orgc765d20">Lsp settings for Python</a>
<ul>
<li><a href="#org1aad670">设置pylsp</a></li>
</ul>
</li>
<li><a href="#orgc746e0e">Lsp settings for C/C++</a></li>
<li><a href="#org23083c5">dap mode setting for debug</a></li>
<li><a href="#org5e7bb55">Python Templates</a></li>
<li><a href="#org66a61c8">Programming common setting</a></li>
<li><a href="#orgc06b874">Common Lisp Environment</a></li>
</ul>
</li>
<li><a href="#org9b38de6">自动备份</a></li>
<li><a href="#org7d51c45">Parenthesis 括号显示</a></li>
<li><a href="#org8561c29">Which key</a></li>
<li><a href="#orgb88ce5d">上次访问位置</a></li>
<li><a href="#orgeeae89a">最近访问文件列表</a></li>
<li><a href="#org930674a">记住 minibuffer 的提示历史</a></li>
<li><a href="#orgae03106">不使用UI对话框形式的提示</a></li>
<li><a href="#orgf6d4bbf">自动恢复/刷新已修改的文件</a></li>
<li><a href="#orgcb97957">使用空格而不是tab来进行缩进</a></li>
<li><a href="#org8d8bab7">设置tab显示长度</a></li>
<li><a href="#orgf5cf185">Proxy setting for url</a>
<ul>
<li><a href="#org2c4997c">Scoks Proxies</a></li>
</ul>
</li>
<li><a href="#org37ac9ee">Telegram Client in emacs &#x2013; telega</a></li>
<li><a href="#orgc09e600">EPUB reading</a></li>
<li><a href="#orga6cf8b4">EXWM</a></li>
<li><a href="#orga27696e">set personal info</a></li>
<li><a href="#orgc107673">file related tweaks</a></li>
<li><a href="#org8045012">自动对齐行内注释</a></li>
<li><a href="#org813b348">自动更新时间戳</a></li>
</ul>
</div>
</div>
<p>
Last modified:2023-02-20 21:20:33 kamisama
</p>
<div id="outline-container-orgb1d9aa5" class="outline-2">
<h2 id="orgb1d9aa5">Org-babel</h2>
<div class="outline-text-2" id="text-orgb1d9aa5">
<p>
第一次用Emacs 打开这个文件,按 <code>C-c C-v t</code>,就可以把文件里的配置导出到 <code>init.el</code> 文件
</p>
<blockquote>
<p>
这并不是Org-babel 的详细教程,只涉及使用它导出源代码的部分.
</p>
</blockquote>
</div>
<div id="outline-container-org18b0496" class="outline-3">
<h3 id="org18b0496">启用Org-babel</h3>
<div class="outline-text-3" id="text-org18b0496">
<p>
Org mode 是默认启用了Org-babel 功能的,只不过只是默认支持了Elisp(emacs-lisp),
所以第一步不需要进一步配置Org-babel.
</p>
</div>
</div>
<div id="outline-container-org19e49dc" class="outline-3">
<h3 id="org19e49dc">ob-tangle</h3>
<div class="outline-text-3" id="text-org19e49dc">
<p>
ob-tangle 库用来将Org 文件里的源代码提取出来.
</p>

<dl class="org-dl">
<dt><code>(org-babel-tangle &amp;optional ARG TARGET-FILE LANG-RE)</code></dt><dd>该命令将代码块写入
到特定的源代码文件.默认绑定的快捷键是 <code>C-c C-v t</code> 和 <code>C-c C-v C-t</code>. 代码块头信
息参数可以设置该函数的参数.</dd>
</dl>

<p>
在Org 文件里加入下面文本,并在代码块处按 <code>C-c C-v t</code> ,会将代码块导出到当前目录下
的 <code>test.el</code> 文件.
</p>
<pre class="example" id="org3500149">
   #+begin_src emacs-lisp :tangle ./test.el
   (message "This line is a test line")
   #+end_src
</pre>
<p>
当代码块多了之后,每个代码块都要设置 <code>:tangle</code> 参数就很麻烦,可以在文件的开头设置
全局属性来为所有代码块设置参数.(单独为代码块设置的参数会覆盖全局设置)
</p>
<pre class="example" id="orgf18f07b">
   #+property: header-args:emacs-lisp :tangle ~/.emacs.d/init.el
</pre>
</div>
</div>
<div id="outline-container-orgb4a9d4d" class="outline-3">
<h3 id="orgb4a9d4d">自动执行 org-babel-tangle</h3>
<div class="outline-text-3" id="text-orgb4a9d4d">
<p>
每次修改这个文件的代码块后,想要将配置文件导出到 <code>init.el</code> 文件,都需要执行
<code>(org-babel-tangle)</code> 或者按 <code>C-c C-v t</code>. 这个操作也是可以自动化的.加入下面的代码,
可以在每次修改了这个文件之后自动导出到配置文件.
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp">     (<span style="color: #89DDFF;">defun</span> <span style="color: #82aaff;">efs/org-babel-tangle-config</span>()
       (<span style="color: #89DDFF;">when</span> (string-equal (buffer-file-name)
                           (expand-file-name <span style="color: #c3e88d;">"~/MyLife/blog_source/content/Emacs/config.org"</span>))
         (<span style="color: #89DDFF;">let</span> ((org-confirm-babel-evaluate nil))
           (org-babel-tangle))))
     (add-hook 'org-mode-hook (<span style="color: #89DDFF;">lambda</span> () (add-hook 'after-save-hook #'efs/org-babel-tangle-config)))
</pre>
</div>
</div>
</div>
<div id="outline-container-orgf4df23a" class="outline-3">
<h3 id="orgf4df23a">为其他语言启用org-babel支持</h3>
<div class="outline-text-3" id="text-orgf4df23a">
<div class="org-src-container">
<pre class="src src-emacs-lisp">     (org-babel-do-load-languages
      'org-babel-load-languages
      '((emacs-lisp . t)
        (python . t)
        <span style="color: #676E95;">;; </span><span style="color: #676E95;">(jupyter . t)</span>
        (shell . t)
        (dot . t)
        (C . t)
        (makefile . t)
        (latex . t)
        ))
</pre>
</div>
</div>
</div>


<div id="outline-container-orgfb85f6b" class="outline-3">
<h3 id="orgfb85f6b">取消执行前的询问</h3>
<div class="outline-text-3" id="text-orgfb85f6b">
<div class="org-src-container">
<pre class="src src-emacs-lisp">     (<span style="color: #89DDFF;">setq</span> org-confirm-babel-evaluate nil)
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-org4cdb189" class="outline-2">
<h2 id="org4cdb189">包管理器:use-package</h2>
<div class="outline-text-2" id="text-org4cdb189">
<p>
我使用 use-package 安装和管理插件.
</p>
</div>
<div id="outline-container-orgb1f9f30" class="outline-3">
<h3 id="orgb1f9f30">启用Emacs内置包管理器package 安装 use-package</h3>
<div class="outline-text-3" id="text-orgb1f9f30">
<p>
因为是使用use-package, 它暂时还不是 emacs 的内置包,所以需要先使用内置的
package 包来下载use-package, 再使用use-package 管理包.
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp">    (<span style="color: #89DDFF;">require</span> '<span style="color: #f78c6c;">package</span>)   <span style="color: #676E95;">;; </span><span style="color: #676E95;">&#36825;&#37324;&#30340;require &#23601;&#20687;&#26159;python&#37324;&#30340;import&#21543;,package&#23601;&#20687;&#26159;module</span>

    <span style="color: #676E95;">;; </span><span style="color: #676E95;">&#35774;&#32622;&#21253;&#20179;&#24211;(&#21253;&#20174;&#21738;&#37324;&#19979;&#36733;)</span>
    (<span style="color: #89DDFF;">setq</span> package-archives '((<span style="color: #c3e88d;">"malpa"</span> . <span style="color: #c3e88d;">"https://melpa.org/packages/"</span>)
                             <span style="color: #676E95;">;;</span><span style="color: #676E95;">("org" . "https://orgmode.org/elpa/") ;; org &#26368;&#26032;&#29256;(&gt;9.6)&#19981;&#20877;orgmode.org &#37324;&#25552;&#20379;&#19979;&#36733;&#20102;.</span>
                             (<span style="color: #c3e88d;">"elpa"</span> . <span style="color: #c3e88d;">"https://elpa.gnu.org/packages/"</span>)))
    <span style="color: #676E95;">;; </span><span style="color: #676E95;">&#35774;&#32622;&#23436;&#20179;&#24211;&#21518;&#35201;&#21021;&#22987;&#21270;&#19968;&#19979;&#20179;&#24211;,&#20877;&#21435;&#25191;&#34892;&#19979;&#36733;&#21253;&#25110;&#32773;&#20854;&#20182;&#21160;&#20316;,&#20351;&#29992;&#36807;linux&#21253;&#31649;&#29702;&#24037;&#20855;&#30340;&#24212;&#35813;&#19981;&#38476;&#29983;</span>
    (package-initialize)
    (<span style="color: #89DDFF;">unless</span> package-archive-contents   <span style="color: #676E95;">;;</span><span style="color: #676E95;">&#22914;&#26524;&#28304;&#22836;&#20179;&#24211;&#30340;&#20449;&#24687;&#27809;&#26377;&#32531;&#23384;&#21040;&#26412;&#22320;&#23601;&#25191;&#34892;package-refresh-contents&#32531;&#23384;&#19968;&#19979;,&#30456;&#24403;&#19982;apt update&#21543;</span>
      (package-refresh-contents))
    <span style="color: #676E95;">;; </span><span style="color: #676E95;">Initialize use-package on non-Linux platforms,&#36825;&#26159;&#22312;&#38750;linux&#24179;&#21488;&#19978;,&#21487;&#33021;use-package&#19981;&#26159;emacs&#20869;&#32622;&#30340;&#21253;,&#37027;&#23601;&#38656;&#35201;&#20808;&#19979;&#36733;&#25165;&#33021;&#20351;&#29992;</span>
    (<span style="color: #89DDFF;">unless</span> (package-installed-p 'use-package) <span style="color: #676E95;">;;</span><span style="color: #676E95;">&#26816;&#27979;&#19968;&#19979;use-package&#26159;&#21542;&#23433;&#35013;&#20102;,&#27809;&#35013;&#23601;&#35013;&#19968;&#19979;&#21591;</span>
      (package-install 'use-package))

    <span style="color: #676E95;">;; </span><span style="color: #676E95;">&#21040;&#36825;&#37324;&#23601;&#21487;&#20197;&#24320;&#22987;&#20351;&#29992; use-package &#20102;</span>
    (<span style="color: #89DDFF;">require</span> '<span style="color: #f78c6c;">use-package</span>)
    <span style="color: #676E95;">;; </span><span style="color: #676E95;">&#40664;&#35748;&#19979;&#36733;&#27599;&#19968;&#20010;use-package&#31649;&#29702;&#30340;&#21253;,&#31561;&#20110;&#26159;&#27599;&#19968;&#20010;use-package&#37324;&#21152;&#19978;:ensure</span>
    <span style="color: #676E95;">;; </span><span style="color: #676E95;">&#21482;&#26159;&#40664;&#35748;&#19979;&#36733;,&#20294;&#24182;&#19981;&#20250;&#20445;&#25345;&#26368;&#26032;,&#22914;&#26524;&#24819;&#35201;&#33258;&#21160;&#26356;&#26032;&#21253;,&#21487;&#20197;&#20351;&#29992;auto-package-update &#36825;&#20010;&#21253;.</span>
    (<span style="color: #89DDFF;">setq</span> use-package-always-ensure t)
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-org8365ea2" class="outline-2">
<h2 id="org8365ea2">分析启动耗时</h2>
<div class="outline-text-2" id="text-org8365ea2">
<p>
发现启动时长异常时可以使用这个包
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp">    (<span style="color: #89DDFF;">use-package</span> <span style="color: #f78c6c;">benchmark-init</span>
      <span style="color: #82aaff;">:ensure</span> t
      <span style="color: #82aaff;">:config</span>
      <span style="color: #676E95;">;; </span><span style="color: #676E95;">To disable collection of benchmark data after init is done.</span>
      (add-hook 'after-init-hook 'benchmark-init/deactivate))
</pre>
</div>
</div>
</div>
<div id="outline-container-org45a72ea" class="outline-2">
<h2 id="org45a72ea">显示emacs启动时间 + 设置初始界面</h2>
<div class="outline-text-2" id="text-org45a72ea">
<div class="org-src-container">
<pre class="src src-emacs-lisp">    (<span style="color: #89DDFF;">use-package</span> <span style="color: #f78c6c;">dashboard</span>
      <span style="color: #82aaff;">:config</span>
      (<span style="color: #89DDFF;">setq</span> dashboard-startup-banner 'logo)
      (dashboard-setup-startup-hook))
</pre>
</div>
</div>
</div>
<div id="outline-container-org1a067e4" class="outline-2">
<h2 id="org1a067e4">Server Mode</h2>
<div class="outline-text-2" id="text-org1a067e4">
<div class="org-src-container">
<pre class="src src-emacs-lisp">    (server-mode t)
</pre>
</div>
</div>
</div>
<div id="outline-container-org0226c33" class="outline-2">
<h2 id="org0226c33">Evil</h2>
<div class="outline-text-2" id="text-org0226c33">
<div class="org-src-container">
<pre class="src src-emacs-lisp">    <span style="color: #676E95;">;; </span><span style="color: #676E95;">(use-package undo-tree</span>
    <span style="color: #676E95;">;;   </span><span style="color: #676E95;">:init</span>
    <span style="color: #676E95;">;;   </span><span style="color: #676E95;">(global-undo-tree-mode 1))</span>
    <span style="color: #676E95;">;; </span><span style="color: #676E95;">Vim Emulation</span>
    (<span style="color: #89DDFF;">use-package</span> <span style="color: #f78c6c;">evil</span>
      <span style="color: #82aaff;">:init</span>     <span style="color: #676E95;">;; </span><span style="color: #676E95;">This is optional since it's already set to t by default.</span>
      (<span style="color: #89DDFF;">setq</span> evil-want-keybinding nil)
      <span style="color: #82aaff;">:config</span>
      (evil-mode 1)

      <span style="color: #676E95;">;; </span><span style="color: #676E95;">Make ESC quit prompts</span>
      (global-set-key (kbd <span style="color: #c3e88d;">"&lt;escape&gt;"</span>) 'keyboard-escape-quit)
      )

    <span style="color: #676E95;">;; </span><span style="color: #676E95;">Configurations for Evil</span>
    (<span style="color: #89DDFF;">use-package</span> <span style="color: #f78c6c;">evil-collection</span>
      <span style="color: #82aaff;">:after</span> evil
      <span style="color: #82aaff;">:config</span> (evil-collection-init))
    <span style="color: #676E95;">;; </span><span style="color: #676E95;">Use jk to escape</span>
    (<span style="color: #89DDFF;">use-package</span> <span style="color: #f78c6c;">evil-escape</span>
      <span style="color: #82aaff;">:config</span> (evil-escape-mode 1)
      (<span style="color: #89DDFF;">setq-default</span> evil-escape-key-sequence <span style="color: #c3e88d;">"jk"</span>)
      (<span style="color: #89DDFF;">setq-default</span> evil-escape-delay 0.2))

    (<span style="color: #89DDFF;">use-package</span> <span style="color: #f78c6c;">evil-nerd-commenter</span>
      <span style="color: #82aaff;">:bind</span> (<span style="color: #c3e88d;">"M-c"</span> . evilnc-comment-or-uncomment-lines))
</pre>
</div>
</div>
</div>

<div id="outline-container-org461580b" class="outline-2">
<h2 id="org461580b">ws-butler 自动清除空格</h2>
<div class="outline-text-2" id="text-org461580b">
<div class="org-src-container">
<pre class="src src-emacs-lisp">    (<span style="color: #89DDFF;">use-package</span> <span style="color: #f78c6c;">ws-butler</span>
      <span style="color: #82aaff;">:hook</span> ((text-mode . ws-butler-mode)
             (prog-mode . ws-butler-mode)))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgba9f6d2" class="outline-2">
<h2 id="orgba9f6d2">treemacs 文件管理</h2>
<div class="outline-text-2" id="text-orgba9f6d2">
<div class="org-src-container">
<pre class="src src-emacs-lisp">
    (<span style="color: #89DDFF;">use-package</span> <span style="color: #f78c6c;">treemacs</span>
      <span style="color: #82aaff;">:defer</span> t)
    (<span style="color: #89DDFF;">use-package</span> <span style="color: #f78c6c;">treemacs-evil</span>
      <span style="color: #82aaff;">:after</span> (treemacs evil)
      )
</pre>
</div>
</div>
</div>

<div id="outline-container-org6686c00" class="outline-2">
<h2 id="org6686c00">翻译</h2>
<div class="outline-text-2" id="text-org6686c00">
</div>
<div id="outline-container-orgf864828" class="outline-3">
<h3 id="orgf864828">bing-dict</h3>
<div class="outline-text-3" id="text-orgf864828">
<p>
网络原因,换有道了
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp">    (<span style="color: #89DDFF;">use-package</span>
      bing-dict
      <span style="color: #82aaff;">:config</span> (global-set-key (kbd <span style="color: #c3e88d;">"C-c d"</span>) 'bing-dict-brief))
</pre>
</div>
</div>
</div>

<div id="outline-container-orga4e7fc2" class="outline-3">
<h3 id="orga4e7fc2">youdao-dictionary</h3>
<div class="outline-text-3" id="text-orga4e7fc2">
<div class="org-src-container">
<pre class="src src-emacs-lisp">  (<span style="color: #89DDFF;">use-package</span> <span style="color: #f78c6c;">youdao-dictionary</span>
    <span style="color: #82aaff;">:config</span>
    (global-set-key (kbd <span style="color: #c3e88d;">"C-c t"</span>) 'youdao-dictionary-search-at-point-posframe)
    (global-set-key (kbd <span style="color: #c3e88d;">"C-c s"</span>) 'youdao-dictionary-play-voice-at-point)
    <span style="color: #676E95;">;; </span><span style="color: #676E95;">(setq use-chinese-word-segmentation t)</span>
    )

</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-orgc0c920e" class="outline-2">
<h2 id="orgc0c920e">counsel &#x2013; better input completion</h2>
<div class="outline-text-2" id="text-orgc0c920e">
<div class="org-src-container">
<pre class="src src-emacs-lisp">    (<span style="color: #89DDFF;">use-package</span> <span style="color: #f78c6c;">ivy</span>
      <span style="color: #82aaff;">:diminish</span>
      <span style="color: #82aaff;">:bind</span> ((<span style="color: #c3e88d;">"C-s"</span> . swiper)
             <span style="color: #82aaff;">:map</span> ivy-minibuffer-map
             (<span style="color: #c3e88d;">"TAB"</span> . ivy-alt-done)
             (<span style="color: #c3e88d;">"C-l"</span> . ivy-alt-done)
             (<span style="color: #c3e88d;">"C-j"</span> . ivy-next-line)
             (<span style="color: #c3e88d;">"C-k"</span> . ivy-previous-line)
             <span style="color: #82aaff;">:map</span> ivy-switch-buffer-map
             (<span style="color: #c3e88d;">"C-k"</span> . ivy-previous-line)
             (<span style="color: #c3e88d;">"C-l"</span> . ivy-done)
             (<span style="color: #c3e88d;">"C-d"</span> . ivy-switch-buffer-kill)
             <span style="color: #82aaff;">:map</span> ivy-reverse-i-search-map
             (<span style="color: #c3e88d;">"C-k"</span> . ivy-previous-line)
             (<span style="color: #c3e88d;">"C-d"</span> . ivy-reverse-i-search-kill))
      <span style="color: #82aaff;">:config</span>
      (ivy-mode 1))

    (<span style="color: #89DDFF;">use-package</span> <span style="color: #f78c6c;">ivy-rich</span>
      <span style="color: #82aaff;">:init</span>
      (ivy-rich-mode 1))
    <span style="color: #676E95;">;; </span><span style="color: #676E95;">counsel</span>
    (<span style="color: #89DDFF;">use-package</span> <span style="color: #f78c6c;">counsel</span>
      <span style="color: #82aaff;">:demand</span> t
      <span style="color: #82aaff;">:bind</span> ((<span style="color: #c3e88d;">"M-x"</span> . counsel-M-x)
             (<span style="color: #c3e88d;">"C-x b"</span> . counsel-ibuffer)
             (<span style="color: #c3e88d;">"C-x C-f"</span> . counsel-find-file)
             <span style="color: #676E95;">;; </span><span style="color: #676E95;">("C-M-j" . counsel-switch-buffer)</span>
             (<span style="color: #c3e88d;">"C-M-l"</span> . counsel-imenu)
             <span style="color: #82aaff;">:map</span> minibuffer-local-map
             (<span style="color: #c3e88d;">"C-r"</span> . 'counsel-minibuffer-history))
      <span style="color: #82aaff;">:custom</span>
      (counsel-linux-app-format-function #'counsel-linux-app-format-function-name-only))
</pre>
</div>
</div>
</div>

<div id="outline-container-org46a201e" class="outline-2">
<h2 id="org46a201e">Text completion</h2>
<div class="outline-text-2" id="text-org46a201e">
</div>
<div id="outline-container-orge59980c" class="outline-3">
<h3 id="orge59980c">括号补全</h3>
<div class="outline-text-3" id="text-orge59980c">
<div class="org-src-container">
<pre class="src src-emacs-lisp">     (<span style="color: #89DDFF;">use-package</span> <span style="color: #f78c6c;">smartparens</span>
       <span style="color: #82aaff;">:hook</span>
       (prog-mode . smartparens-mode)
       (org-mode . smartparens-mode ))
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-org3a8021c" class="outline-2">
<h2 id="org3a8021c">Org mode</h2>
<div class="outline-text-2" id="text-org3a8021c">
</div>
<div id="outline-container-org69a3660" class="outline-3">
<h3 id="org69a3660">Org mode UI</h3>
<div class="outline-text-3" id="text-org69a3660">
<div class="org-src-container">
<pre class="src src-emacs-lisp">  (<span style="color: #89DDFF;">use-package</span> <span style="color: #f78c6c;">org-modern</span>
    <span style="color: #82aaff;">:hook</span>
    (org-mode . org-modern-mode)
    (org-agenda-finalize . org-modern-agenda)
    )
</pre>
</div>
</div>
</div>
<div id="outline-container-org7bd3ed6" class="outline-3">
<h3 id="org7bd3ed6">Basic settings</h3>
<div class="outline-text-3" id="text-org7bd3ed6">
<div class="org-src-container">
<pre class="src src-emacs-lisp">    <span style="color: #676E95;">;;</span><span style="color: #676E95;">Orgmode</span>
    (<span style="color: #89DDFF;">use-package</span> <span style="color: #f78c6c;">org</span>
      <span style="color: #82aaff;">:pin</span> elpa
      <span style="color: #82aaff;">:config</span>
      (<span style="color: #89DDFF;">setq</span> org-directory <span style="color: #c3e88d;">"~/MyLife/org"</span>)
      (<span style="color: #89DDFF;">setq</span> org-hide-emphasis-markers nil)
      (global-set-key (kbd <span style="color: #c3e88d;">"C-c l"</span>) 'org-store-link)
      (global-set-key (kbd <span style="color: #c3e88d;">"C-c a"</span>) 'org-agenda)
      (global-set-key (kbd <span style="color: #c3e88d;">"C-c c"</span>) 'org-capture)
      <span style="color: #676E95;">;; </span><span style="color: #676E95;">org-modules</span>
      (<span style="color: #89DDFF;">with-eval-after-load</span> 'org (add-to-list 'org-modules 'org-habit t))
      <span style="color: #676E95;">;; </span><span style="color: #676E95;">(message "Org required")</span>
      (<span style="color: #89DDFF;">require</span> '<span style="color: #f78c6c;">org-tempo</span>)

      (add-to-list 'org-structure-template-alist '(<span style="color: #c3e88d;">"sh"</span> . <span style="color: #c3e88d;">"src sh"</span>))
      (add-to-list 'org-structure-template-alist '(<span style="color: #c3e88d;">"el"</span> . <span style="color: #c3e88d;">"src emacs-lisp"</span>))
      (add-to-list 'org-structure-template-alist '(<span style="color: #c3e88d;">"li"</span> . <span style="color: #c3e88d;">"src lisp"</span>))
      (add-to-list 'org-structure-template-alist '(<span style="color: #c3e88d;">"sc"</span> . <span style="color: #c3e88d;">"src scheme"</span>))
      (add-to-list 'org-structure-template-alist '(<span style="color: #c3e88d;">"ts"</span> . <span style="color: #c3e88d;">"src typescript"</span>))
      (add-to-list 'org-structure-template-alist '(<span style="color: #c3e88d;">"py"</span> . <span style="color: #c3e88d;">"src python"</span>))
      (add-to-list 'org-structure-template-alist '(<span style="color: #c3e88d;">"dot"</span> . <span style="color: #c3e88d;">"src dot"</span>))
      <span style="color: #676E95;">;; </span><span style="color: #676E95;">(add-to-list 'org-structure-template-alist '("ipy" . "src jupyter-python"))</span>
      (add-to-list 'org-structure-template-alist '(<span style="color: #c3e88d;">"go"</span> . <span style="color: #c3e88d;">"src go"</span>))
      (add-to-list 'org-structure-template-alist '(<span style="color: #c3e88d;">"yaml"</span> . <span style="color: #c3e88d;">"src yaml"</span>))
      (add-to-list 'org-structure-template-alist '(<span style="color: #c3e88d;">"json"</span> . <span style="color: #c3e88d;">"src json"</span>))

      <span style="color: #676E95;">;; </span><span style="color: #676E95;">&#27599;&#27425;&#25191;&#34892;&#19981;&#20250;&#35810;&#38382;&#26159;&#21542;&#25191;&#34892;</span>
      (<span style="color: #89DDFF;">setq</span> org-confirm-babel-evaluate nil)
      <span style="color: #676E95;">;; </span><span style="color: #676E95;">&#35774;&#32622;org-mode&#33258;&#21160;&#25442;&#34892;</span>
      (add-hook 'org-mode-hook '(lambda ()
                                  (<span style="color: #89DDFF;">setq</span> fill-column 80)))
      (add-hook 'org-mode-hook 'auto-fill-mode)
      <span style="color: #676E95;">;; </span><span style="color: #676E95;">org encrypt :crypt</span>
      (<span style="color: #89DDFF;">require</span> '<span style="color: #f78c6c;">org-crypt</span>)
      (org-crypt-use-before-save-magic)
      (<span style="color: #89DDFF;">setq</span> org-tags-exclude-from-inheritance (<span style="color: #89DDFF;">quote</span> (<span style="color: #c3e88d;">"crypt"</span>)))
      <span style="color: #676E95;">;; </span><span style="color: #676E95;">GPG key to use for encryption</span>
      <span style="color: #676E95;">;; </span><span style="color: #676E95;">Either the Key ID or set to nil to use symmetric encryption.</span>
      (<span style="color: #89DDFF;">setq</span> org-crypt-key <span style="color: #c3e88d;">"kamisama"</span>)
      <span style="color: #676E95;">;; </span><span style="color: #676E95;">allow alphabetical list</span>
      (<span style="color: #89DDFF;">setq</span> org-list-allow-alphabetical t)
      )

</pre>
</div>
</div>
</div>

<div id="outline-container-orga826db4" class="outline-3">
<h3 id="orga826db4">Org bullets</h3>
<div class="outline-text-3" id="text-orga826db4">
<div class="org-src-container">
<pre class="src src-emacs-lisp">     (<span style="color: #89DDFF;">use-package</span> <span style="color: #f78c6c;">org-superstar</span>
       <span style="color: #82aaff;">:after</span> org
       <span style="color: #82aaff;">:hook</span> (org-mode . org-superstar-mode)
       <span style="color: #82aaff;">:config</span> (<span style="color: #89DDFF;">setq</span> org-superstar-leading-bullet  ?\s)
       <span style="color: #82aaff;">:custom</span>
       <span style="color: #676E95;">;;</span><span style="color: #676E95;">(org-superstar-remove-leading-stars t)</span>
       (org-superstar-headline-bullets-list '(<span style="color: #c3e88d;">"&#9673;"</span> <span style="color: #c3e88d;">"&#9675;"</span> <span style="color: #c3e88d;">"&#9679;"</span> <span style="color: #c3e88d;">"&#9675;"</span> <span style="color: #c3e88d;">"&#9679;"</span> <span style="color: #c3e88d;">"&#9675;"</span> <span style="color: #c3e88d;">"&#9679;"</span>))
       <span style="color: #676E95;">;; </span><span style="color: #676E95;">(org-superstar-headline-bullets-list '("&#9775;" "&#9776;" "&#9777;" "&#9778;" "&#9779;" "&#9780;" "&#9781;" "&#9782;" "&#9783;"))</span>
       )
</pre>
</div>
</div>
</div>

<div id="outline-container-org5ad5240" class="outline-3">
<h3 id="org5ad5240">Code Blocks</h3>
<div class="outline-text-3" id="text-org5ad5240">
<div class="org-src-container">
<pre class="src src-emacs-lisp">     (<span style="color: #89DDFF;">setq</span> org-hide-block-startup t)
</pre>
</div>
</div>
</div>

<div id="outline-container-org6bab9b4" class="outline-3">
<h3 id="org6bab9b4">Org Capture</h3>
<div class="outline-text-3" id="text-org6bab9b4">
<p>
quote sentence
</p>
</div>

<div id="outline-container-org152a064" class="outline-4">
<h4 id="org152a064">template for org drill</h4>
<div class="outline-text-4" id="text-org152a064">
<div class="org-src-container">
<pre class="src src-emacs-lisp">            (<span style="color: #89DDFF;">with-eval-after-load</span> 'org-capture
                    (add-to-list `org-capture-templates '(<span style="color: #c3e88d;">"d"</span> <span style="color: #c3e88d;">"drills"</span>))
                    (add-to-list `org-capture-templates '(<span style="color: #c3e88d;">"dL"</span> <span style="color: #c3e88d;">"drills For Language"</span> entry (file+olp <span style="color: #c3e88d;">"~/MyLife/org/drills.org"</span> <span style="color: #c3e88d;">"Language"</span> ) <span style="color: #c3e88d;">"* %i :drill:"</span>))
                    (add-to-list `org-capture-templates '(<span style="color: #c3e88d;">"dE"</span> <span style="color: #c3e88d;">"drills For Emacs"</span> entry (file+olp <span style="color: #c3e88d;">"~/MyLife/org/drills.org"</span> <span style="color: #c3e88d;">"Math"</span> <span style="color: #c3e88d;">"algebra"</span>) <span style="color: #c3e88d;">"* %i :dirll:"</span>))
                    (add-to-list `org-capture-templates '(<span style="color: #c3e88d;">"dM"</span> <span style="color: #c3e88d;">"drills for Math"</span>))
                    (add-to-list `org-capture-templates '(<span style="color: #c3e88d;">"dMA"</span> <span style="color: #c3e88d;">"Algebra"</span> entry (file+olp <span style="color: #c3e88d;">"~/MyLife/org/drills.org"</span> <span style="color: #c3e88d;">"Math"</span> <span style="color: #c3e88d;">"algebra"</span>) <span style="color: #c3e88d;">"* %? :drill:\n%&lt;%I:%M %p&gt; %t"</span>))
                    (add-to-list `org-capture-templates '(<span style="color: #c3e88d;">"dN"</span> <span style="color: #c3e88d;">"Notes"</span> entry (file+olp <span style="color: #c3e88d;">"~/MyLife/org/drills.org"</span> <span style="color: #c3e88d;">"Notes"</span>) <span style="color: #c3e88d;">"* %? :drill:\n%&lt;%I:%M %p&gt; %t"</span>))
                    (add-to-list `org-capture-templates '(<span style="color: #c3e88d;">"dT"</span> <span style="color: #c3e88d;">"TODO not classified"</span> entry (file+olp <span style="color: #c3e88d;">"~/MyLife/org/drills.org"</span> <span style="color: #c3e88d;">"Not Classified"</span>) <span style="color: #c3e88d;">"* %? :drill:\n%&lt;%I:%M %p&gt; %t"</span>))
                    (add-to-list `org-capture-templates '(<span style="color: #c3e88d;">"dO"</span> <span style="color: #c3e88d;">"drills For Office"</span>))
                    (add-to-list `org-capture-templates '(<span style="color: #c3e88d;">"dOe"</span> <span style="color: #c3e88d;">"drills For Excel"</span> entry (file+olp <span style="color: #c3e88d;">"~/MyLife/org/drills.org"</span> <span style="color: #c3e88d;">"Office"</span> <span style="color: #c3e88d;">"Excel"</span>) <span style="color: #c3e88d;">"* %? :drill:\n"</span>))
                    (add-to-list `org-capture-templates '(<span style="color: #c3e88d;">"dQ"</span> <span style="color: #c3e88d;">"drills For quotes"</span> entry (file+olp <span style="color: #c3e88d;">"~/MyLife/org/drills.org"</span> <span style="color: #c3e88d;">"Quotes"</span>) <span style="color: #c3e88d;">"* %? :drill:\n"</span>))
                    (add-to-list `org-capture-templates '(<span style="color: #c3e88d;">"D"</span> <span style="color: #c3e88d;">"Daily"</span>))
                    (add-to-list `org-capture-templates '(<span style="color: #c3e88d;">"Dy"</span> <span style="color: #c3e88d;">"Daily for yesterday"</span> entry (file+olp+datetree <span style="color: #c3e88d;">"~/MyLife/blog_source/content/Daily/index.org"</span>) <span style="color: #c3e88d;">"* %? :diary:\n"</span>))
                    (add-to-list `org-capture-templates '(<span style="color: #c3e88d;">"Dt"</span> <span style="color: #c3e88d;">"Daily for today"</span> entry (file+olp+datetree <span style="color: #c3e88d;">"~/MyLife/blog_source/content/Daily/index.org"</span>) <span style="color: #c3e88d;">"* %? ------ %&lt;%H:%M&gt; :diary:\n"</span>))
                    (add-to-list `org-capture-templates '(<span style="color: #c3e88d;">"Dp"</span> <span style="color: #c3e88d;">"Daily for prompt time"</span> entry (file+olp+datetree <span style="color: #c3e88d;">"~/MyLife/blog_source/content/Daily/index.org"</span>) <span style="color: #c3e88d;">"* %? :diary:\n"</span> <span style="color: #82aaff;">:time-prompt</span> t))
      )
            <span style="color: #676E95;">;;</span><span style="color: #676E95;">(setq org-capture-templates nil)</span>
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-orgda15140" class="outline-3">
<h3 id="orgda15140">Literate programming settings</h3>
<div class="outline-text-3" id="text-orgda15140">
</div>
<div id="outline-container-org3359519" class="outline-4">
<h4 id="org3359519">jupyter-python</h4>
<div class="outline-text-4" id="text-org3359519">
<div class="org-src-container">
<pre class="src src-emacs-lisp">      (<span style="color: #89DDFF;">use-package</span> <span style="color: #f78c6c;">jupyter</span>
        <span style="color: #82aaff;">:config</span>
        (<span style="color: #89DDFF;">setq</span> org-babel-jupyter-resource-directory <span style="color: #c3e88d;">"./ob-jupyter"</span>)
        (add-to-list 'org-babel-load-languages '(jupyter . t))
        )
</pre>
</div>
</div>
</div>
</div>


<div id="outline-container-orga2563eb" class="outline-3">
<h3 id="orga2563eb">Latex</h3>
<div class="outline-text-3" id="text-orga2563eb">
<p>
修改生成的latex preview 图片大小: <code>org-format-latex-options</code>
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp">     (<span style="color: #89DDFF;">setq</span> org-format-latex-options '(<span style="color: #82aaff;">:foreground</span> default <span style="color: #82aaff;">:background</span> default <span style="color: #82aaff;">:scale</span> 2.0 <span style="color: #82aaff;">:html-foreground</span> <span style="color: #c3e88d;">"Black"</span> <span style="color: #82aaff;">:html-background</span> <span style="color: #c3e88d;">"Transparent"</span> <span style="color: #82aaff;">:html-scale</span> 1.0 <span style="color: #82aaff;">:matchers</span> (<span style="color: #c3e88d;">"begin"</span> <span style="color: #c3e88d;">"$1"</span> <span style="color: #c3e88d;">"$"</span> <span style="color: #c3e88d;">"$$"</span> <span style="color: #c3e88d;">"</span><span style="color: #89DDFF; font-weight: bold;">\\</span><span style="color: #89DDFF; font-weight: bold;">(</span><span style="color: #c3e88d;">"</span> <span style="color: #c3e88d;">"\\["</span>)))
</pre>
</div>
</div>
</div>

<div id="outline-container-org97ebe5b" class="outline-3">
<h3 id="org97ebe5b">change inline image size</h3>
<div class="outline-text-3" id="text-org97ebe5b">
<div class="org-src-container">
<pre class="src src-emacs-lisp">     (<span style="color: #89DDFF;">setq</span> org-image-actual-width 600)
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-orgda4a44b" class="outline-2">
<h2 id="orgda4a44b">Org mode agendas</h2>
<div class="outline-text-2" id="text-orgda4a44b">
<div class="org-src-container">
<pre class="src src-emacs-lisp">    (<span style="color: #89DDFF;">with-eval-after-load</span> 'org-agenda
      (add-to-list 'org-agenda-files org-directory))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgad3071f" class="outline-2">
<h2 id="orgad3071f">Org drill &#x2013; flashcards</h2>
<div class="outline-text-2" id="text-orgad3071f">
<p>
template settings:  <a href="#org152a064">template for org drill</a>
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp">    (<span style="color: #89DDFF;">use-package</span> <span style="color: #f78c6c;">org-drill</span>
      <span style="color: #82aaff;">:after</span> org)
</pre>
</div>
</div>
</div>

<div id="outline-container-orgb689ff8" class="outline-2">
<h2 id="orgb689ff8">Org roam</h2>
<div class="outline-text-2" id="text-orgb689ff8">
<div class="org-src-container">
<pre class="src src-emacs-lisp">
    <span style="color: #676E95;">;; </span><span style="color: #676E95;">Org-roam</span>
    (<span style="color: #89DDFF;">use-package</span>
      org-roam
      <span style="color: #82aaff;">:init</span> (<span style="color: #89DDFF;">setq</span> org-roam-v2-ack t)
      <span style="color: #82aaff;">:custom</span> (org-roam-directory <span style="color: #c3e88d;">"~/MyLife/org-roam"</span>)
      (org-roam-completion-everywhere t)
      (org-roam-dailies-capture-templates '((<span style="color: #c3e88d;">"d"</span> <span style="color: #c3e88d;">"default"</span> entry <span style="color: #c3e88d;">"* %&lt;%I:%M %p&gt;: %?"</span>
                                             <span style="color: #82aaff;">:if-new</span> (file+head <span style="color: #c3e88d;">"%&lt;%Y-%m-%d&gt;.org"</span>
                                                                <span style="color: #c3e88d;">"#+title: %&lt;%Y-%m-%d&gt;\n"</span>))))
      <span style="color: #82aaff;">:bind</span> ((<span style="color: #c3e88d;">"C-c n l"</span> . org-roam-buffer-toggle)
             (<span style="color: #c3e88d;">"C-c n f"</span> . org-roam-node-find)
             (<span style="color: #c3e88d;">"C-c n i"</span> . org-roam-node-insert)
             <span style="color: #82aaff;">:map</span> org-mode-map
             (<span style="color: #c3e88d;">"C-M-i"</span> . completion-at-point)
             <span style="color: #82aaff;">:map</span> org-roam-dailies-map (<span style="color: #c3e88d;">"Y"</span> . org-roam-dailies-capture-yesterday)
             (<span style="color: #c3e88d;">"T"</span> . org-roam-dailies-capture-tomorrow))
      <span style="color: #82aaff;">:bind-keymap</span> (<span style="color: #c3e88d;">"C-c n d"</span> . org-roam-dailies-map)
      <span style="color: #82aaff;">:config</span> (<span style="color: #89DDFF;">require</span> '<span style="color: #f78c6c;">org-roam-dailies</span>) <span style="color: #676E95;">;; </span><span style="color: #676E95;">Ensure the keymap is available</span>
      (org-roam-db-autosync-mode))
</pre>
</div>
</div>
</div>


<div id="outline-container-orgcea3485" class="outline-2">
<h2 id="orgcea3485">Basic UI</h2>
<div class="outline-text-2" id="text-orgcea3485">
<p>
不需要任何其他包的 UI 设置
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp">    (modify-all-frames-parameters '((alpha . (95 . 95) ) <span style="color: #676E95;">;; </span><span style="color: #676E95;">&#36879;&#26126;&#24230;&#35774;&#32622;</span>
                                    (menu-bar-lines . 0) <span style="color: #676E95;">;; </span><span style="color: #676E95;">&#21462;&#28040;&#33756;&#21333;&#26639;</span>
                                    (tool-bar-lines . 0) <span style="color: #676E95;">;; </span><span style="color: #676E95;">&#21462;&#28040;&#24037;&#20855;&#26639;</span>
                                    <span style="color: #676E95;">;; </span><span style="color: #676E95;">(background-color . "#66CCFF")</span>
                                    (vertical-scroll-bars . nil) <span style="color: #676E95;">;; </span><span style="color: #676E95;">&#21462;&#28040;&#20391;&#36793;&#28378;&#21160;&#26465;</span>
                                    (left-fringe . 2)
                                    (right-fringe . 2)
                                    <span style="color: #676E95;">;; </span><span style="color: #676E95;">(modeline . nil)</span>
                                    (background-color . <span style="color: #c3e88d;">"#232530"</span>)
                                    (background-mode . dark)
                                    (display-type . color)
                                    (font . <span style="color: #c3e88d;">"Wenquanyi Zen Hei Mono-12"</span>)
                                    ))
    <span style="color: #676E95;">;; </span><span style="color: #676E95;">&#21462;&#28040;&#23631;&#24149;&#38378;&#28865;&#20316;&#20026;&#38083;&#22768;</span>

    <span style="color: #676E95;">;;</span><span style="color: #676E95;">set up the visible bell</span>
    (<span style="color: #89DDFF;">setq-default</span> visible-bell nil)
    <span style="color: #676E95;">;;</span><span style="color: #676E95;">eliminate the bell entirely</span>
    (<span style="color: #89DDFF;">setq-default</span> ring-bell-function #'ignore)
    <span style="color: #676E95;">;; </span><span style="color: #676E95;">(setq package-enable-at-startup nil)</span>
    <span style="color: #676E95;">;; </span><span style="color: #676E95;">Modeline</span>
    <span style="color: #676E95;">;; </span><span style="color: #676E95;">(set-face-attribute 'mode-line nil :family "Fira Mono")</span>
    <span style="color: #676E95;">;; </span><span style="color: #676E95;">(set-face-attribute 'mode-line nil :family "Ubuntu Mono")</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org579383c" class="outline-2">
<h2 id="org579383c">early-init.el</h2>
<div class="outline-text-2" id="text-org579383c">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #89DDFF;">setq</span> package-enable-at-startup nil)
</pre>
</div>
</div>
</div>

<div id="outline-container-org06e640b" class="outline-2">
<h2 id="org06e640b">icons</h2>
<div class="outline-text-2" id="text-org06e640b">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #89DDFF;">use-package</span> <span style="color: #f78c6c;">all-the-icons</span>)
</pre>
</div>
</div>
</div>

<div id="outline-container-org2f8789b" class="outline-2">
<h2 id="org2f8789b">modeline</h2>
<div class="outline-text-2" id="text-org2f8789b">
</div>
<div id="outline-container-org9b94759" class="outline-3">
<h3 id="org9b94759">doom-modeline</h3>
<div class="outline-text-3" id="text-org9b94759">
<div class="org-src-container">
<pre class="src src-emacs-lisp">     <span style="color: #676E95;">;; </span><span style="color: #676E95;">modeline</span>
     (<span style="color: #89DDFF;">use-package</span>
       doom-modeline
       <span style="color: #82aaff;">:init</span> (doom-modeline-mode 1)
       <span style="color: #82aaff;">:config</span>
       (set-face-attribute 'mode-line nil <span style="color: #82aaff;">:family</span> <span style="color: #c3e88d;">"Fira Mono"</span>)
       (set-face-attribute 'mode-line nil <span style="color: #82aaff;">:family</span> <span style="color: #c3e88d;">"Ubuntu Mono"</span>)
     )
</pre>
</div>
</div>
</div>
<div id="outline-container-org6d294d2" class="outline-3">
<h3 id="org6d294d2">Show time and date in modeline</h3>
<div class="outline-text-3" id="text-org6d294d2">
<div class="org-src-container">
<pre class="src src-emacs-lisp">     (display-time)
     (<span style="color: #89DDFF;">setq</span> display-time-day-and-date t)
</pre>
</div>
</div>
</div>
<div id="outline-container-org93c7450" class="outline-3">
<h3 id="org93c7450">show column numbers in mode line</h3>
<div class="outline-text-3" id="text-org93c7450">
<div class="org-src-container">
<pre class="src src-emacs-lisp">  (column-number-mode 1)
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org033e7b0" class="outline-2">
<h2 id="org033e7b0">theme</h2>
<div class="outline-text-2" id="text-org033e7b0">
</div>
<div id="outline-container-orge3c1f1a" class="outline-3">
<h3 id="orge3c1f1a">doom-themes</h3>
<div class="outline-text-3" id="text-orge3c1f1a">
<div class="org-src-container">
<pre class="src src-emacs-lisp">     (<span style="color: #89DDFF;">use-package</span>
       doom-themes
       <span style="color: #82aaff;">:config</span> (load-theme 'doom-palenight t)
       <span style="color: #676E95;">;;</span><span style="color: #676E95;">(load-theme 'doom-plain-dark t)</span>
       )
</pre>
</div>
</div>
</div>
<div id="outline-container-org66d4baf" class="outline-3">
<h3 id="org66d4baf">built-in themes</h3>
<div class="outline-text-3" id="text-org66d4baf">
<div class="org-src-container">
<pre class="src src-emacs-lisp">     (load-theme 'tsdh-dark)
</pre>
</div>
</div>
</div>
<div id="outline-container-org5c53e52" class="outline-3">
<h3 id="org5c53e52">uwu theme</h3>
<div class="outline-text-3" id="text-org5c53e52">
<div class="org-src-container">
<pre class="src src-emacs-lisp">     (<span style="color: #89DDFF;">use-package</span> <span style="color: #f78c6c;">uwu-theme</span>
       <span style="color: #82aaff;">:config</span>
       (load-theme 'uwu))
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org0c53373" class="outline-2">
<h2 id="org0c53373">input-method</h2>
<div class="outline-text-2" id="text-org0c53373">
<p>
rime 不能在 evil 的 Search mode 里面使用,经过测试跟 rime-show-candidate 没有关
系缺点: 不能在 isearch 和 vim 的 Search mode 里面使用
</p>
</div>
<div id="outline-container-org6bf1513" class="outline-3">
<h3 id="org6bf1513">rime</h3>
<div class="outline-text-3" id="text-org6bf1513">
<div class="org-src-container">
<pre class="src src-emacs-lisp">     (<span style="color: #89DDFF;">use-package</span> <span style="color: #f78c6c;">rime</span>
       <span style="color: #82aaff;">:config</span>
       (<span style="color: #89DDFF;">setq</span> default-input-method <span style="color: #c3e88d;">"rime"</span>)
       (<span style="color: #89DDFF;">setq</span> rime-cursor <span style="color: #c3e88d;">"|"</span>)
       <span style="color: #676E95;">;; </span><span style="color: #676E95;">&#26029;&#35328;&#35774;&#32622;,&#21487;&#20197;&#33258;&#21160;&#20999;&#25442;&#36755;&#20837;&#33521;&#25991;</span>
       (<span style="color: #89DDFF;">setq</span> rime-disable-predicates <span style="color: #676E95;">;; </span><span style="color: #676E95;">&#26029;&#35328;&#21015;&#34920;,&#20854;&#20013;&#20219;&#24847;&#19968;&#20010;&#19981;&#20026; nil &#26102;&#20250;&#33258;&#21160;&#20351;&#29992;&#33521;&#25991;.</span>
             '(rime-predicate-evil-mode-p <span style="color: #676E95;">;; </span><span style="color: #676E95;">evil mode &#38750; insert mode &#26102;&#20026;t</span>
               rime-predicate-after-alphabet-char-p <span style="color: #676E95;">;; </span><span style="color: #676E95;">&#33521;&#25991;&#23383;&#31526;&#20018;&#20043;&#21518;&#20026; t</span>
               rime-predicate-space-after-cc-p <span style="color: #676E95;">;; </span><span style="color: #676E95;">&#20013;&#25991;&#20043;&#21518;&#21152;&#19978;&#31354;&#26684;&#23601;&#20250;&#20351;&#29992;&#33521;&#25991; asdf &#27979;&#35797;</span>
               rime-predicate-prog-in-code-p <span style="color: #676E95;">;; </span><span style="color: #676E95;">&#22312; prog-mode &#37324;&#21482;&#35201;&#19981;&#26159;&#22312;&#27880;&#37322;&#21644;&#23383;&#31526;&#20018;&#20013;&#37117;&#20351;&#29992;&#33521;&#25991;&#36755;&#20837;</span>
               rime-predicate-current-input-punctuation-p <span style="color: #676E95;">;; </span><span style="color: #676E95;">&#24403;&#35201;&#36755;&#20837;&#30340;&#26159;&#31526;&#21495;&#26102; t</span>
               <span style="color: #676E95;">;; </span><span style="color: #676E95;">rime-predicate-auto-english-p</span>
               ))
       (<span style="color: #89DDFF;">setq</span> mode-line-mule-info '((<span style="color: #82aaff;">:eval</span> (rime-lighter))))
       <span style="color: #676E95;">;; </span><span style="color: #676E95;">&#20505;&#36873;&#26694;&#20351;&#29992;&#20160;&#20040;&#23454;&#29616;: popup &#29992;&#36215;&#26469;&#24863;&#35273;&#26377;&#28857;&#21345;,&#32780;&#19988;&#30028;&#38754;&#19981;&#26159;&#24456;&#25972;&#40784;, posframe &#24863;&#35273;&#19981;&#38169;</span>
       <span style="color: #676E95;">;; </span><span style="color: #676E95;">sidewindow &#20250;&#29983;&#25104;&#19968;&#20010;&#26032;&#31383;&#21475;,&#23548;&#33268;&#21407;&#26469;&#30340;&#31383;&#21475;&#21040;&#22788;&#36339;&#21160;,&#19981;&#26159;&#24456;&#21916;&#27426;</span>
       <span style="color: #676E95;">;; </span><span style="color: #676E95;">minibuffer &#26159;&#40664;&#35748;&#36873;&#39033;,&#20294;&#20250;&#34987;&#20854;&#20182;&#38656;&#35201;&#26174;&#31034;&#30340;&#28040;&#24687;&#36974;&#25377;</span>
       <span style="color: #676E95;">;; </span><span style="color: #676E95;">nil &#21017;&#19981;&#20250;&#26174;&#31034;&#20505;&#36873;&#26694;.</span>
       <span style="color: #676E95;">;; </span><span style="color: #676E95;">message &#23558;&#20505;&#36873;&#26694;&#36755;&#20986;&#21040; Message &#21069;&#25552;&#26159;&#20320;&#22312; modeline &#37324;&#20351;&#29992; minibuffer</span>
       (<span style="color: #89DDFF;">setq</span> rime-show-candidate 'posframe)
       <span style="color: #676E95;">;; </span><span style="color: #676E95;">(setq rime-user-data-dir "~/.local/share/fcitx5/rime/")</span>
       (<span style="color: #89DDFF;">setq</span> rime-user-data-dir <span style="color: #c3e88d;">"~/.emacs.d/rime/"</span>)
       )
</pre>
</div>
</div>
<div id="outline-container-org4295a08" class="outline-4">
<h4 id="org4295a08">配置rime</h4>
<div class="outline-text-4" id="text-org4295a08">
<p>
emacs-rime 是 rime 的 Emacs 前端,所以 rime 输入法的表现还是需要配置的,参考官网:
<a href="https://github.com/rime/home/wiki/CustomizationGuide">rime 定制指南</a>
因为emacs-rime 设定的 rimg 用户目录是 "~/.emasc.d/rime/" 所以我们的配置文件也要
在这里编辑
只需要很少的配置就可以正常使用简体字了
</p>
<div class="org-src-container">
<pre class="src src-yaml">patch:
  "menu/page_size": 8
  schema_list:
    - schema: luna_pinyin_simp
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-org9e821d4" class="outline-3">
<h3 id="org9e821d4">pyim</h3>
<div class="outline-text-3" id="text-org9e821d4">
<div class="org-src-container">
<pre class="src src-emacs-lisp">     (<span style="color: #89DDFF;">use-package</span> <span style="color: #f78c6c;">posframe</span>
       <span style="color: #82aaff;">:ensure</span> t)
     (<span style="color: #89DDFF;">use-package</span> <span style="color: #f78c6c;">pyim</span>
       <span style="color: #82aaff;">:config</span>
       (<span style="color: #89DDFF;">setq</span> pyim-page-tooltip 'posframe)
       (<span style="color: #89DDFF;">setq</span> default-input-method <span style="color: #c3e88d;">"pyim"</span>)
       (<span style="color: #89DDFF;">setq</span> pyim-page-length 5)
       (global-set-key (kbd <span style="color: #c3e88d;">"M-j"</span>) 'pyim-convert-string-at-point)
       (pyim-default-scheme 'quanpin)
       (<span style="color: #89DDFF;">setq-default</span> pyim-english-input-switch-functions
                     '(
                       <span style="color: #676E95;">;; </span><span style="color: #676E95;">pyim-probe-dynamic-english</span>
                       pyim-probe-isearch-mode
                       pyim-probe-program-mode
                       pyim-probe-org-structure-template
                       <span style="color: #676E95;">;; </span><span style="color: #676E95;">&#20809;&#26631;&#20301;&#20110;&#31354;&#26684;&#20043;&#21518;,&#19988;&#31354;&#26684;&#20043;&#21069;&#26159;&#20013;&#25991;,&#19979;&#19968;&#20010;&#23383;&#31526;&#23601;&#20250;&#20999;&#25442;&#20026;&#33521;&#25991;,&#20294;&#25928;&#26524;&#20165;&#38480;&#20110;&#19968;&#20010;&#23383;&#31526;</span>
                       rime-predicate-space-after-cc-p
                       <span style="color: #676E95;">;; </span><span style="color: #676E95;">&#20809;&#26631;&#20301;&#20110;&#23383;&#27597;&#20043;&#21518;,&#21017;&#32487;&#32493;&#20351;&#29992;&#33521;&#25991;&#36755;&#20837;,&#37197;&#21512;&#19978;&#38754;&#30340;&#26029;&#35328;&#35774;&#32622;,&#21487;&#20197;&#36798;&#21040;&#25928;&#26524;:</span>
                       <span style="color: #676E95;">;; </span><span style="color: #676E95;">&#36755;&#20837;:&#20013;&#25991;&lt;space&gt;english&lt;space&gt;&#20013;&#25991;, &#25928;&#26524;: &#20013;&#25991; english &#20013;&#25991;</span>
                       rime-predicate-after-alphabet-char-p
                       ))
       <span style="color: #676E95;">;; </span><span style="color: #676E95;">(setq-default pyim-punctuation-translate-p '(yes))    ;&#20351;&#29992;&#20840;&#35282;&#26631;&#28857;. &#20013;&#25991;</span>
       (<span style="color: #89DDFF;">setq-default</span> pyim-punctuation-translate-p '(no))     <span style="color: #676E95;">;</span><span style="color: #676E95;">&#20351;&#29992;&#21322;&#35282;&#26631;&#28857;&#12290;</span>
       <span style="color: #676E95;">;; </span><span style="color: #676E95;">(setq-default pyim-punctuation-translate-p '(auto))   ;&#20013;&#25991;&#20351;&#29992;&#20840;&#35282;&#26631;&#28857;&#65292;&#33521;&#25991;&#20351;&#29992;&#21322;&#35282;&#26631;&#28857;&#12290;</span>
       )
     (<span style="color: #89DDFF;">use-package</span> <span style="color: #f78c6c;">pyim-basedict</span>
       <span style="color: #82aaff;">:after</span> pyim
       <span style="color: #82aaff;">:config</span>
       (pyim-basedict-enable)
       )
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org7a30a95" class="outline-2">
<h2 id="org7a30a95">Programming</h2>
<div class="outline-text-2" id="text-org7a30a95">
</div>
<div id="outline-container-org24a5059" class="outline-3">
<h3 id="org24a5059">Lsp common settings</h3>
<div class="outline-text-3" id="text-org24a5059">
<div class="org-src-container">
<pre class="src src-emacs-lisp">
     <span style="color: #676E95;">;; </span><span style="color: #676E95;">Lsp common setting.</span>
     (<span style="color: #89DDFF;">use-package</span> <span style="color: #f78c6c;">lsp-mode</span>
       <span style="color: #82aaff;">:init</span> (<span style="color: #89DDFF;">setq</span> lsp-keymap-prefix <span style="color: #c3e88d;">"C-c l"</span>)
       <span style="color: #82aaff;">:hook</span> (
              (python-mode . lsp)
              (lsp-mode . lsp-enable-which-key-integration))
       <span style="color: #82aaff;">:commands</span> lsp
       <span style="color: #82aaff;">:config</span>
       (add-to-list 'lsp-disabled-clients 'pyls)
       )

                                             <span style="color: #676E95;">; </span><span style="color: #676E95;">completion</span>
     (<span style="color: #89DDFF;">use-package</span> <span style="color: #f78c6c;">company</span>
       <span style="color: #82aaff;">:after</span> lsp-mode
       <span style="color: #82aaff;">:hook</span> (lsp-mode . company-mode)
       <span style="color: #82aaff;">:bind</span> (<span style="color: #82aaff;">:map</span> company-active-map
                   (<span style="color: #c3e88d;">"&lt;tab&gt;"</span> . company-complete-selection))
       (<span style="color: #82aaff;">:map</span> lsp-mode-map
             (<span style="color: #c3e88d;">"&lt;tab&gt;"</span> . company-indent-or-complete-common))
       <span style="color: #82aaff;">:custom</span>
       (company-minimum-prefix-length 1)
       (company-idle-delay 0.0))

     (<span style="color: #89DDFF;">use-package</span> <span style="color: #f78c6c;">company-box</span>
       <span style="color: #82aaff;">:hook</span> (company-mode . company-box-mode))

     (<span style="color: #89DDFF;">use-package</span> <span style="color: #f78c6c;">yasnippet</span>
       <span style="color: #82aaff;">:hook</span> (company-mode . yas-minor-mode))
     (<span style="color: #89DDFF;">use-package</span> <span style="color: #f78c6c;">lsp-ui</span>
       <span style="color: #82aaff;">:commands</span> (lsp-ui-mode))
     (<span style="color: #89DDFF;">use-package</span>
       flycheck
       <span style="color: #82aaff;">:hook</span> (prog-mode . flycheck-mode))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgc765d20" class="outline-3">
<h3 id="orgc765d20">Lsp settings for Python</h3>
<div class="outline-text-3" id="text-orgc765d20">
</div>
<div id="outline-container-org1aad670" class="outline-4">
<h4 id="org1aad670">设置pylsp</h4>
<div class="outline-text-4" id="text-org1aad670">
<div class="org-src-container">
<pre class="src src-emacs-lisp">     (<span style="color: #89DDFF;">setq</span>
      lsp-pylsp-plugins-jedi-use-pyenv-environment t
      lsp-pylsp-plugins-yapf-enabled t)
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-orgc746e0e" class="outline-3">
<h3 id="orgc746e0e">Lsp settings for C/C++</h3>
<div class="outline-text-3" id="text-orgc746e0e">
<div class="org-src-container">
<pre class="src src-emacs-lisp">     (add-hook 'c-mode-hook 'lsp)
     (add-hook 'c++-mode-hook 'lsp)
</pre>
</div>
</div>
</div>

<div id="outline-container-org23083c5" class="outline-3">
<h3 id="org23083c5">dap mode setting for debug</h3>
<div class="outline-text-3" id="text-org23083c5">
</div>
<ul class="org-ul">
<li><a id="org5b094dd"></a>Enable Dap mode<br />
<div class="outline-text-5" id="text-org5b094dd">
<div class="org-src-container">
<pre class="src src-emacs-lisp">       (<span style="color: #89DDFF;">use-package</span> <span style="color: #f78c6c;">dap-mode</span>

         <span style="color: #82aaff;">:init</span>
         (message <span style="color: #c3e88d;">"Dap mode Inited"</span>)
         <span style="color: #82aaff;">:config</span>
         (dap-auto-configure-mode t)
         <span style="color: #676E95;">;; </span><span style="color: #676E95;">Enabling only some features</span>
         (<span style="color: #89DDFF;">setq</span> dap-auto-configure-features '(sessions locals controls tooltip))

         <span style="color: #82aaff;">:hook</span>
         (python-mode)
         )
       <span style="color: #676E95;">;; </span><span style="color: #676E95;">test dap start status</span>
       (<span style="color: #89DDFF;">defun</span> <span style="color: #82aaff;">tsmsg</span> () (message <span style="color: #c3e88d;">"Python mode enabled!"</span>))
       (add-hook 'python-mode-hook 'tsmsg)
</pre>
</div>
<p>
Or if you want to enable only specific modes instead:
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp">
       (dap-mode 1)

       <span style="color: #676E95;">;; </span><span style="color: #676E95;">The modes below are optional</span>

       (dap-ui-mode 1)
       <span style="color: #676E95;">;; </span><span style="color: #676E95;">enables mouse hover support</span>
       (dap-tooltip-mode 1)
       <span style="color: #676E95;">;; </span><span style="color: #676E95;">use tooltips for mouse hover</span>
       <span style="color: #676E95;">;; </span><span style="color: #676E95;">if it is not enabled `</span><span style="color: #f78c6c;">dap-mode</span><span style="color: #676E95;">' will use the minibuffer.</span>
       (tooltip-mode 1)
       <span style="color: #676E95;">;; </span><span style="color: #676E95;">displays floating panel with debug buttons</span>
       <span style="color: #676E95;">;; </span><span style="color: #676E95;">requies emacs 26+</span>
       (dap-ui-controls-mode 1)
</pre>
</div>
</div>
</li>
<li><a id="org4ca003a"></a>Dap mode for python<br />
<ul class="org-ul">
<li><a id="orgdb2f4c0"></a>Installation<br />
<div class="outline-text-6" id="text-orgdb2f4c0">
<ul class="org-ul">
<li>install latest version of ptvsd:</li>
</ul>

<div class="org-src-container">
<pre class="src src-sh">        pip install <span style="color: #c3e88d;">"ptvsd&gt;=4.2"</span>
</pre>
</div>
<ul class="org-ul">
<li>enable dap for python,add following in config</li>
</ul>

<div class="org-src-container">
<pre class="src src-emacs-lisp">        (<span style="color: #89DDFF;">require</span> '<span style="color: #f78c6c;">dap-python</span>)
</pre>
</div>
</div>
</li>
<li><a id="orgfb1630b"></a>define a "Python::Run Configuration" template to run or debug visited module.<br />
<div class="outline-text-6" id="text-orgfb1630b">
<div class="org-src-container">
<pre class="src src-emacs-lisp">        (dap-register-debug-template <span style="color: #c3e88d;">"My App"</span>
          (list <span style="color: #82aaff;">:type</span> <span style="color: #c3e88d;">"python"</span>
                <span style="color: #82aaff;">:args</span> <span style="color: #c3e88d;">"-i"</span>
                <span style="color: #82aaff;">:cwd</span> nil
                <span style="color: #82aaff;">:env</span> '((<span style="color: #c3e88d;">"DEBUG"</span> . <span style="color: #c3e88d;">"1"</span>))
                <span style="color: #82aaff;">:target-module</span> (expand-file-name <span style="color: #c3e88d;">"~/src/myapp/.env/bin/myapp"</span>)
                <span style="color: #82aaff;">:request</span> <span style="color: #c3e88d;">"launch"</span>
                <span style="color: #82aaff;">:name</span> <span style="color: #c3e88d;">"My App"</span>))

</pre>
</div>
</div>
</li>
</ul>
</li>
<li><a id="org41b83a6"></a>Dap mode for C/C++<br /></li>
</ul>
</div>

<div id="outline-container-org5e7bb55" class="outline-3">
<h3 id="org5e7bb55">Python Templates</h3>
<div class="outline-text-3" id="text-org5e7bb55">
<div class="org-src-container">
<pre class="src src-emacs-lisp">
     (auto-insert-mode 1)
     <span style="color: #676E95;">;; </span><span style="color: #676E95;">File Templates</span>
     (define-auto-insert '(<span style="color: #c3e88d;">"\\.py\\'"</span> . <span style="color: #c3e88d;">"Python Init File"</span>)
       '( <span style="color: #c3e88d;">"New Python file template:"</span>
          <span style="color: #c3e88d;">"\"\"\""</span> str <span style="color: #c3e88d;">".\"\"\""</span>
          \n
          <span style="color: #c3e88d;">"# Author :"</span>
          (<span style="color: #89DDFF;">progn</span> user-full-name) \n
          <span style="color: #c3e88d;">"# Email :"</span>
          (<span style="color: #89DDFF;">progn</span> user-mail-address)
          \n \n \n
          <span style="color: #c3e88d;">"if __name__ == \"__main__\":"</span>
          \n
          &gt; _ <span style="color: #c3e88d;">"pass"</span> \n))
</pre>
</div>
</div>
</div>

<div id="outline-container-org66a61c8" class="outline-3">
<h3 id="org66a61c8">Programming common setting</h3>
<div class="outline-text-3" id="text-org66a61c8">
<div class="org-src-container">
<pre class="src src-emacs-lisp">     (<span style="color: #89DDFF;">setq</span> python-guess-indent nil)
</pre>
</div>
</div>
</div>

<div id="outline-container-orgc06b874" class="outline-3">
<h3 id="orgc06b874">Common Lisp Environment</h3>
<div class="outline-text-3" id="text-orgc06b874">
<p>
Common lisp interpretor.
sbcl need to be installed.
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp">  (<span style="color: #89DDFF;">use-package</span> <span style="color: #f78c6c;">slime</span>
    <span style="color: #82aaff;">:config</span>
    (<span style="color: #89DDFF;">setq</span> inferior-lisp-program <span style="color: #c3e88d;">"sbcl"</span>)
    )
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org9b38de6" class="outline-2">
<h2 id="org9b38de6">自动备份</h2>
<div class="outline-text-2" id="text-org9b38de6">
<div class="org-src-container">
<pre class="src src-emacs-lisp">    <span style="color: #676E95;">;; </span><span style="color: #676E95;">&#33258;&#21160;&#22791;&#20221;&#35774;&#32622;:</span>
    (<span style="color: #89DDFF;">setq</span> backup-by-copying t           <span style="color: #676E95;">; </span><span style="color: #676E95;">&#33258;&#21160;&#22791;&#20221;</span>
          backup-directory-alist '((<span style="color: #c3e88d;">"."</span> . <span style="color: #c3e88d;">"~/MyLife/Emacs/.em_backup"</span>)) <span style="color: #676E95;">; </span><span style="color: #676E95;">&#33258;&#21160;&#22791;&#20221;&#22312;&#30446;&#24405;"~/.em_backup"&#19979;</span>
          delete-old-versions t         <span style="color: #676E95;">; </span><span style="color: #676E95;">&#33258;&#21160;&#21024;&#38500;&#26087;&#30340;&#22791;&#20221;&#25991;&#20214;</span>
          kept-new-versions 3           <span style="color: #676E95;">; </span><span style="color: #676E95;">&#20445;&#30041;&#26368;&#36817;&#30340;3&#20010;&#22791;&#20221;&#25991;&#20214;</span>
          kept-old-versions 1           <span style="color: #676E95;">; </span><span style="color: #676E95;">&#20445;&#30041;&#26368;&#26089;&#30340;1&#20010;&#22791;&#20221;&#25991;&#20214;</span>
          version-control t)            <span style="color: #676E95;">; </span><span style="color: #676E95;">&#22810;&#27425;&#22791;&#20221;</span>

</pre>
</div>
</div>
</div>

<div id="outline-container-org7d51c45" class="outline-2">
<h2 id="org7d51c45">Parenthesis 括号显示</h2>
<div class="outline-text-2" id="text-org7d51c45">
<p>
emacs 自带的显示成对括号.
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp">    (show-paren-mode 1)
</pre>
</div>
</div>
</div>

<div id="outline-container-org8561c29" class="outline-2">
<h2 id="org8561c29">Which key</h2>
<div class="outline-text-2" id="text-org8561c29">
<div class="org-src-container">
<pre class="src src-emacs-lisp">    (<span style="color: #89DDFF;">use-package</span> <span style="color: #f78c6c;">which-key</span>
      <span style="color: #82aaff;">:init</span>
      (which-key-mode)
      <span style="color: #82aaff;">:config</span>
      (which-key-setup-side-window-bottom)
      (<span style="color: #89DDFF;">setq</span> which-key-popup-type 'side-window)
      (<span style="color: #89DDFF;">setq</span> which-key-idle-delay 1)
      )
</pre>
</div>
</div>
</div>

<div id="outline-container-orgb88ce5d" class="outline-2">
<h2 id="orgb88ce5d">上次访问位置</h2>
<div class="outline-text-2" id="text-orgb88ce5d">
<p>
打开文件时,回到上次编辑该文件的光标位置.
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp">    (save-place-mode t)
</pre>
</div>
</div>
</div>

<div id="outline-container-orgeeae89a" class="outline-2">
<h2 id="orgeeae89a">最近访问文件列表</h2>
<div class="outline-text-2" id="text-orgeeae89a">
<p>
和 dashboard 已经开启该功能.开启后可以使用 <code>M-x recentf-open-files</code> 获取最近访问
的文件记录列表,移动光标到文件项,按回车可以打开文件.
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp">    (recentf-mode 1)
</pre>
</div>
</div>
</div>

<div id="outline-container-org930674a" class="outline-2">
<h2 id="org930674a">记住 minibuffer 的提示历史</h2>
<div class="outline-text-2" id="text-org930674a">
<p>
开启这个功能后,在 <code>M-x</code> , <code>isearch</code> 等使用 minibuffer 的情况下,你可以用 <code>M-n</code>
<code>(next-history-element)</code> 或 <code>M-p</code> <code>(previous-history-element)</code> 来遍历之前用过的命令
提示列表.
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp">    <span style="color: #676E95;">;; </span><span style="color: #676E95;">Save what you enter into minibuffer prompts</span>
    (<span style="color: #89DDFF;">setq</span> history-length 25)
    (savehist-mode 1)
</pre>
</div>
</div>
</div>

<div id="outline-container-orgae03106" class="outline-2">
<h2 id="orgae03106">不使用UI对话框形式的提示</h2>
<div class="outline-text-2" id="text-orgae03106">
<p>
有时候Emacs 会让你确认一些不同类型的动作,比如保存退出,是否关闭有程序正在运行的
终端等等,这时Emacs 会打开一个图像形式的提示对话框,而不是文字形式,
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp">    <span style="color: #676E95;">;; </span><span style="color: #676E95;">Don't pop up UI dialogs when prompting</span>
    (<span style="color: #89DDFF;">setq</span> use-dialog-box nil)
</pre>
</div>
</div>
</div>

<div id="outline-container-orgf6d4bbf" class="outline-2">
<h2 id="orgf6d4bbf">自动恢复/刷新已修改的文件</h2>
<div class="outline-text-2" id="text-orgf6d4bbf">
<p>
如果缓冲区内文件在其他地方被修改了,Emacs 一般不会自动刷新这个文件,而是打开提示,让
用户自己选择是否恢复文件,这样有个好处是可以用未刷新的缓冲区内容重新覆盖修改过
的文件,如果没有这样的需求,那每次的提示就没有必要,可以打开下面自动刷新的设置.
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp">    <span style="color: #676E95;">;; </span><span style="color: #676E95;">Revert buffers when the underlying file has changed</span>
    (global-auto-revert-mode 1)
</pre>
</div>
</div>
</div>

<div id="outline-container-orgcb97957" class="outline-2">
<h2 id="orgcb97957">使用空格而不是tab来进行缩进</h2>
<div class="outline-text-2" id="text-orgcb97957">
<p>
indent-tabs-mode 可以设置按 tab 键时插入空格而不是制表符 TAB.
tab-stop-list 变量可以设置 tab 转换成空格时的空格数量,当值为空时,会使用变量
tab-width 的值作为转换的空格数.
另外 <code>untabify</code> 命令可以将选区内所有 tab 转换成空格(数量由 tab-width 控制).
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp">  (<span style="color: #89DDFF;">setq</span> indent-tabs-mode nil)<span style="color: #676E95;">;; </span><span style="color: #676E95;">&#33258;&#21160;&#36716;&#20026;&#32531;&#20914;&#21306;&#21464;&#37327;,&#35774;&#32622;&#20026;t &#34920;&#31034;&#21487;&#20197;&#22312;&#32553;&#36827;&#20013;&#25554;&#20837; tab</span>
  <span style="color: #676E95;">;; </span><span style="color: #676E95;">(setq tab-stop-list nil)</span>
</pre>
</div>
<p>
在org里编辑代码块时会出现空格变 tab 的情况,特别是编写 Python 代码时会导致执行
出错,
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp">  (<span style="color: #89DDFF;">setq</span> org-edit-src-content-indentation 0)
  (<span style="color: #89DDFF;">setq</span> org-src-preserve-indentation t)
</pre>
</div>
</div>
</div>

<div id="outline-container-org8d8bab7" class="outline-2">
<h2 id="org8d8bab7">设置tab显示长度</h2>
<div class="outline-text-2" id="text-org8d8bab7">
<p>
这里设置的是一个TAB在Org文档里占用多少个字符的位置.
如果想要设置TAB转化成空格时的空格个数
tabtab这句话里有一个tab, 可以tab-width 为不同数值看看效果
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp">    <span style="color: #676E95;">;;</span><span style="color: #676E95;">(setq tab-width 8)</span>
    (<span style="color: #89DDFF;">setq</span> tab-width 4)
</pre>
</div>
</div>
</div>

<div id="outline-container-orgf5cf185" class="outline-2">
<h2 id="orgf5cf185">Proxy setting for url</h2>
<div class="outline-text-2" id="text-orgf5cf185">
<div class="org-src-container">
<pre class="src src-emacs-lisp">    (<span style="color: #89DDFF;">setq</span> url-proxy-services
          '((<span style="color: #c3e88d;">"http"</span>     . <span style="color: #c3e88d;">"socks://127.0.0.1:1080"</span>)
            (<span style="color: #c3e88d;">"https"</span>    . <span style="color: #c3e88d;">"socks://127.0.0.1:1080"</span>)
            <span style="color: #676E95;">;; </span><span style="color: #676E95;">("ftp"      . "proxy.example.com:8080")</span>
            <span style="color: #676E95;">;; </span><span style="color: #676E95;">("no_proxy" . "^.*example.com")</span>
            ))
</pre>
</div>
</div>

<div id="outline-container-org2c4997c" class="outline-3">
<h3 id="org2c4997c">Scoks Proxies</h3>
<div class="outline-text-3" id="text-org2c4997c">
<div class="org-src-container">
<pre class="src src-emacs-lisp">     (<span style="color: #89DDFF;">setq</span> socks-override-functions 1)
     (<span style="color: #89DDFF;">setq</span> socks-noproxy '(<span style="color: #c3e88d;">"127.0.0.1"</span>))
     (<span style="color: #89DDFF;">require</span> '<span style="color: #f78c6c;">socks</span>)
     (<span style="color: #89DDFF;">setq</span> socks-server '(<span style="color: #c3e88d;">"My Proxy"</span> <span style="color: #c3e88d;">"127.0.0.1"</span> 1080 5))
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org37ac9ee" class="outline-2">
<h2 id="org37ac9ee">Telegram Client in emacs &#x2013; telega</h2>
<div class="outline-text-2" id="text-org37ac9ee">
<div class="org-src-container">
<pre class="src src-emacs-lisp">    (<span style="color: #89DDFF;">use-package</span> <span style="color: #f78c6c;">telega</span>
      <span style="color: #82aaff;">:config</span>
      (<span style="color: #89DDFF;">setq</span> telega-server-libs-prefix <span style="color: #c3e88d;">"/usr/include"</span>)
      )
</pre>
</div>
</div>
</div>

<div id="outline-container-orgc09e600" class="outline-2">
<h2 id="orgc09e600">EPUB reading</h2>
<div class="outline-text-2" id="text-orgc09e600">
<div class="org-src-container">
<pre class="src src-emacs-lisp">    (<span style="color: #89DDFF;">use-package</span> <span style="color: #f78c6c;">nov</span>
      <span style="color: #82aaff;">:config</span>
      (add-to-list 'auto-mode-alist '(<span style="color: #c3e88d;">"\\.epub\\'"</span> . nov-mode))
      )
</pre>
</div>
</div>
</div>

<div id="outline-container-orga6cf8b4" class="outline-2">
<h2 id="orga6cf8b4">EXWM</h2>
<div class="outline-text-2" id="text-orga6cf8b4">
<div class="org-src-container">
<pre class="src src-emacs-lisp">
    (<span style="color: #89DDFF;">defun</span> <span style="color: #82aaff;">efs/exwm-update-class</span> ()
      (exwm-workspace-rename-buffer exwm-class-name))

    (<span style="color: #89DDFF;">use-package</span> <span style="color: #f78c6c;">exwm</span>
      <span style="color: #82aaff;">:config</span>
      <span style="color: #676E95;">;; </span><span style="color: #676E95;">Set the default number of workspaces</span>
      (<span style="color: #89DDFF;">setq</span> exwm-workspace-number 5)

      <span style="color: #676E95;">;; </span><span style="color: #676E95;">When window "class" updates, use it to set the buffer name</span>
      <span style="color: #676E95;">;; </span><span style="color: #676E95;">(add-hook 'exwm-update-class-hook #'efs/exwm-update-class)</span>

      <span style="color: #676E95;">;; </span><span style="color: #676E95;">These keys should always pass through to Emacs</span>
      (<span style="color: #89DDFF;">setq</span> exwm-input-prefix-keys
            '(?\C-x
              ?\C-u
              ?\C-h
              ?\M-x
              ?\M-`
              ?\M-&amp;
              ?\M-:
              ?\C-\M-j  <span style="color: #676E95;">;; </span><span style="color: #676E95;">Buffer list</span>
              ?\C-\ ))  <span style="color: #676E95;">;; </span><span style="color: #676E95;">Ctrl+Space</span>

      <span style="color: #676E95;">;; </span><span style="color: #676E95;">Ctrl+Q will enable the next key to be sent directly</span>
      (define-key exwm-mode-map [?\C-q] 'exwm-input-send-next-key)

      <span style="color: #676E95;">;; </span><span style="color: #676E95;">Set up global key bindings.  These always work, no matter the input state!</span>
      <span style="color: #676E95;">;; </span><span style="color: #676E95;">Keep in mind that changing this list after EXWM initializes has no effect.</span>
      (<span style="color: #89DDFF;">setq</span> exwm-input-global-keys
            `(
              <span style="color: #676E95;">;; </span><span style="color: #676E95;">Reset to line-mode (C-c C-k switches to char-mode via exwm-input-release-keyboard)</span>
              ([?\s-r] . exwm-reset)

              <span style="color: #676E95;">;; </span><span style="color: #676E95;">Move between windows</span>
              ([s-left] . windmove-left)
              ([s-right] . windmove-right)
              ([s-up] . windmove-up)
              ([s-down] . windmove-down)

              <span style="color: #676E95;">;; </span><span style="color: #676E95;">Launch applications via shell command</span>
              ([?\s-&amp;] . (<span style="color: #89DDFF;">lambda</span> (command)
                           (<span style="color: #89DDFF;">interactive</span> (list (read-shell-command <span style="color: #c3e88d;">"$ "</span>)))
                           (start-process-shell-command command nil command)))

              <span style="color: #676E95;">;; </span><span style="color: #676E95;">Switch workspace</span>
              ([?\s-w] . exwm-workspace-switch)

              <span style="color: #676E95;">;; </span><span style="color: #676E95;">'</span><span style="color: #f78c6c;">s-N</span><span style="color: #676E95;">': Switch to certain workspace with Super (Win) plus a number key (0 - 9)</span>
              ,@(mapcar (<span style="color: #89DDFF;">lambda</span> (i)
                          `(,(kbd (format <span style="color: #c3e88d;">"s-%d"</span> i)) .
                            (<span style="color: #89DDFF;">lambda</span> ()
                              (<span style="color: #89DDFF;">interactive</span>)
                              (exwm-workspace-switch-create ,i))))
                        (number-sequence 0 9))))

      <span style="color: #676E95;">;; </span><span style="color: #676E95;">Screen resolution</span>

      <span style="color: #676E95;">;; </span><span style="color: #676E95;">Ensure screen updates with xrandr will refresh EXWM frames</span>
      (<span style="color: #89DDFF;">require</span> '<span style="color: #f78c6c;">exwm-randr</span>)
      (exwm-randr-enable)
      <span style="color: #676E95;">;; </span><span style="color: #676E95;">Set the screen resolution</span>
      (start-process-shell-command <span style="color: #c3e88d;">"xrandr"</span> nil <span style="color: #c3e88d;">"xrandr --output eDP-1 --primary --mode 1366x768 --pos 0x0 --rotate normal --output DP-1 --off --output HDMI-1 --off --output DP-2 --off --output HDMI-2 --off"</span>)



      <span style="color: #676E95;">;; </span><span style="color: #676E95;">Load the system tray before exwm-init</span>
      (<span style="color: #89DDFF;">require</span> '<span style="color: #f78c6c;">exwm-systemtray</span>)
      (exwm-systemtray-enable)

      (exwm-enable))
</pre>
</div>
</div>
</div>

<div id="outline-container-orga27696e" class="outline-2">
<h2 id="orga27696e">set personal info</h2>
<div class="outline-text-2" id="text-orga27696e">
<div class="org-src-container">
<pre class="src src-emacs-lisp">    (<span style="color: #89DDFF;">setq</span> user-full-name <span style="color: #c3e88d;">"kamisama"</span>)
    (<span style="color: #89DDFF;">setq</span> user-mail-address <span style="color: #c3e88d;">"wj915614874@163.com"</span>)
</pre>
</div>
</div>
</div>

<div id="outline-container-orgc107673" class="outline-2">
<h2 id="orgc107673">file related tweaks</h2>
<div class="outline-text-2" id="text-orgc107673">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #89DDFF;">setq</span> create-lockfiles nil)
</pre>
</div>
</div>
</div>

<div id="outline-container-org8045012" class="outline-2">
<h2 id="org8045012">自动对齐行内注释</h2>
<div class="outline-text-2" id="text-org8045012">
<p>
出处:
<a href="https://stackoverflow.com/questions/20274336/how-to-automatically-align-comments-in-different-pieces-of-code">https://stackoverflow.com/questions/20274336/how-to-automatically-align-comments-in-different-pieces-of-code</a>
交互命令调用 : <code>M-x align-regexp ENTER ;; ENTER</code>
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #89DDFF;">defun</span> <span style="color: #82aaff;">my-align-comments</span> (beginning end)

  <span style="color: #8d92af;">"Align comments within marked region."</span>

  (<span style="color: #89DDFF;">interactive</span> <span style="color: #c3e88d;">"*r"</span>)

  (<span style="color: #89DDFF;">let</span> (indent-tabs-mode align-to-tab-stop)

    (align-regexp beginning end (concat <span style="color: #c3e88d;">"</span><span style="color: #89DDFF; font-weight: bold;">\\</span><span style="color: #89DDFF; font-weight: bold;">(</span><span style="color: #c3e88d;">\\s-*</span><span style="color: #89DDFF; font-weight: bold;">\\</span><span style="color: #89DDFF; font-weight: bold;">)</span><span style="color: #c3e88d;">\"</span>

<span style="color: #c3e88d;">                                        (regexp-quote comment-start)))))</span><span style="color: #89DDFF; font-weight: bold;">\\</span><span style="color: #89DDFF; font-weight: bold;">)</span><span style="color: #c3e88d;">"</span>))))
</pre>
</div>
</div>
</div>

<div id="outline-container-org813b348" class="outline-2">
<h2 id="org813b348">自动更新时间戳</h2>
<div class="outline-text-2" id="text-org813b348">
<p>
time-stamp 命令可以更新时间戳,时间戳默认格式:
</p>
<pre class="example" id="org13e2186">
      Time-stamp: &lt;2020-08-07 17:10:21 gildea&gt;
</pre>
<p>
将该命令添加到 before-save-hook 里面,就可以在每个文件保存之间都更新一遍时间戳了.
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp">(add-hook 'before-save-hook 'time-stamp)
</pre>
</div>
<p>
时间戳的格式是可以自定义的,所以我们可以实现在文件里记录每个文件最后一次保存的时
间.
时间戳格式可以通过 <code>time-stamp-pattern</code> 修改,
这个变量最好是作为文件本地变量来使用,不然可能会和别人的文件不兼容. 我目前只想要
把Github Pages 上面记录的笔记的文件里都添加上最后一次修改的日期,所以我可以选择每
个文件都添加一个本地变量,但是这样太麻烦了,emacs 有一个 =目录变量=(directory
variables) 可以实现我想要的功能,它能将一个变量设置为对当前目录及其子目录下的所有
文件来说都是本地文件变量,具体使用查看文档:<a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Directory-Variables.html">directory variables</a>
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">((nil . ((time-stamp-pattern . <span style="color: #c3e88d;">"Last modified:%%$"</span>)
         )))
</pre>
</div>
<p>
这样github pages 里的内容目录下面的每个文件夹里的所有文件都会有一个文件本地变量
<code>time-stamp-pattern</code> 被设置了
</p>
</div>
</div>
</div>
<div id="postamble" class="status">
<p class="date">Date: 2022-01-30 Sun 07:03</p>
<p class="author">Author: kamisama</p>
</div>
</body>
</html>