<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>用org-mode配置所有dotfile</title>
<meta name="generator" content="Org mode" />
<link rel="stylesheet" href="https://cdn.simplecss.org/simple.min.css" />
</head>
<body>
<div id="content">
<h1 class="title">用org-mode配置所有dotfile</h1>
<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#org04e9167">用org-babel配置所有的dotfile</a>
<ul>
<li><a href="#org4b739d7">Org-babel</a></li>
<li><a href="#org0a33f82">将一个代码块的执行结果或返回值传递给另一个代码块</a></li>
<li><a href="#orgeb05b72">每次保存这个文件自动执行 <code>org-bable-tangle</code></a></li>
</ul>
</li>
<li><a href="#org9cf62d3">Emacs</a>
<ul>
<li><a href="#orgdb5da3d">显示emacs启动时间</a></li>
<li><a href="#org5a679ad">Native Compilation</a></li>
<li><a href="#orgb12c688">包管理工具</a></li>
<li><a href="#orgd00a64d">默认编码格式</a></li>
<li><a href="#orgab489bb">Server Mode</a></li>
<li><a href="#org91da231">查看启动过程耗时</a></li>
<li><a href="#org68ff78c">基本的设置</a>
<ul>
<li><a href="#org9b1391d">取消初始界面的菜单,工具栏,滚动条等</a></li>
<li><a href="#orgffe230a">优化滚动的表现</a></li>
<li><a href="#org3fcedf0">窗口透明度和最大化</a></li>
<li><a href="#orgd36e140">字体设置</a></li>
<li><a href="#org4f18db4">状态栏设置</a>
<ul>
<li><a href="#orgb351164">Basic Customization</a></li>
<li><a href="#org84bdf1b">Enable mode Diminishing</a></li>
<li><a href="#org8109ae4">Smart mode line</a></li>
<li><a href="#org757dd9f">Doom modeline</a></li>
</ul>
</li>
<li><a href="#org3f3c44c">更好的括号展示</a></li>
<li><a href="#org02a6c77">doom主题</a></li>
<li><a href="#org4b88afa">行号设置</a></li>
<li><a href="#org8780358">Workspace</a></li>
<li><a href="#org7abcd4e">NOtifications</a></li>
<li><a href="#orgfbcf79f">Auto-Saving changed files</a></li>
<li><a href="#org2450eaa">Auto-Reverting Changed Files</a></li>
<li><a href="#orgba815e7">UI Toggles</a></li>
</ul>
</li>
<li><a href="#orgd40898c">按键设置</a>
<ul>
<li><a href="#orgad565c6">查看使用了哪些命令</a></li>
<li><a href="#org8e5c71d">取消ESC作为 <code>M-x</code> 的前缀按键,将其设置为和Vim类似的退出命令 <code>C-g</code></a></li>
<li><a href="#orgb6d68d2">取消 <code>C-u</code> 作为 <code>[count]</code> 的作用,因为要使用Vim的 <code>C-u</code> 做翻页</a></li>
<li><a href="#orgad80210">Evil</a>
<ul>
<li><a href="#org1fbfae1">基本的Vim按键设置</a></li>
<li><a href="#org8fc4a68">绑定"jk"退出插入模式</a></li>
<li><a href="#orgdd4f65e">绑定&lt;leader&gt;s重新加载配置文件</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#orgde95583">编辑设置</a>
<ul>
<li><a href="#org0143f2e">Tab Width</a></li>
<li><a href="#org30aa87f">Use spaces instead of tabs for indnetation</a></li>
<li><a href="#org69027ed">Commenting Lines</a></li>
<li><a href="#orge51dd5e">Automatically Clean whitespace</a></li>
</ul>
</li>
<li><a href="#org4da292a">按键面板</a></li>
<li><a href="#orgb8c28f3">按键绑定</a>
<ul>
<li><a href="#org518b100">general.el 用来管理快捷键绑定</a></li>
<li><a href="#orgc3dc3ed">hydra 来绑定快捷键</a></li>
<li><a href="#org4feb3c4">Evil 快捷键绑定</a></li>
</ul>
</li>
<li><a href="#org4bd91aa">文件浏览器</a></li>
<li><a href="#orge6ab6c4">Minibuffer补全(Emacs 命令补全)</a></li>
<li><a href="#org77b4bbe">Development</a>
<ul>
<li><a href="#org27198a8">Lsp-mode</a>
<ul>
<li><a href="#orge6cf01e">Lsp</a></li>
<li><a href="#orga3463ea">Lsp for python</a></li>
<li><a href="#org81575ff">LSP for Html</a></li>
</ul>
</li>
<li><a href="#org4d05800">Python<sub>settings</sub></a></li>
<li><a href="#orgde50b3c">Format python code</a></li>
<li><a href="#org49e3e70">Format All</a></li>
<li><a href="#org8340e49">Elpy &#x2013; IDE for py</a></li>
</ul>
</li>
<li><a href="#org933d6f0">Orgmode</a>
<ul>
<li><a href="#orgcb2347b">CodeBlock模版</a></li>
<li><a href="#org6af994e">outline</a></li>
<li><a href="#org40a6d26">Org-roam</a></li>
<li><a href="#org302cd2e">Org-mode</a>
<ul>
<li><a href="#orgc760313">Init set up</a></li>
<li><a href="#org0f45f51">Hide emphasis markers</a></li>
<li><a href="#org9a7a42c">org-drill</a></li>
</ul>
</li>
<li><a href="#org3ff17cf">Pomodoro</a></li>
<li><a href="#orged984a0">tracking habits</a></li>
<li><a href="#orgc8bd491">Auto insert newline</a></li>
<li><a href="#orged881fc">org-capture-template</a></li>
<li><a href="#org4ac77ce">Encrypt</a></li>
</ul>
</li>
<li><a href="#org46f7d68">Productivity</a>
<ul>
<li><a href="#org0eebab0">括号补全</a></li>
<li><a href="#org2ffa8d7">Snippet</a></li>
</ul>
</li>
<li><a href="#org7a3fbbe">Ebook</a></li>
<li><a href="#org2e8d88f">Magit</a></li>
<li><a href="#orgfeffbe3">Save Emacs Sessions</a></li>
</ul>
</li>
</ul>
</div>
</div>


<div id="outline-container-org04e9167" class="outline-2">
<h2 id="org04e9167">用org-babel配置所有的dotfile</h2>
<div class="outline-text-2" id="text-org04e9167">
</div>
<div id="outline-container-org4b739d7" class="outline-3">
<h3 id="org4b739d7">Org-babel</h3>
<div class="outline-text-3" id="text-org4b739d7">
<p>
org-mode 可以执行代码块用的是org-babel的功能
<code>org-babel-tangle(C-c C-v t)</code> 是一个macs内置的方法,用来将org文件中的代码块写入到指定的文件中,理论上可以利用这个方法配置一切基于文本文件配置的软件
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp">(message <span style="font-style: italic;">"some text "</span>)
</pre>
</div>

<blockquote>
<p>
要让这个org文件能起到配置作用:
</p>
<ul class="org-ul">
<li>头信息中配置好代码块tangle的目标文件</li>
<li>想对其他语言的代码块也生效需要配置 <code>org-babel-do-load-languages</code></li>
</ul>
</blockquote>

<p>
上面的例子里在代码块的 <code>:tangle</code> 属性中设置了目标文件的位置，如果代码块很多，总不能每一个都手动去指定吧，这里就可以用到org文件的头信息，
<code>#+PROPERTY: header-args:emacs-lisp :tangle ~/.emacs.d/init.el</code>,就像这个文件的头信息一样，将 emacs-lisp代码块的 <code>tangle</code> 属性设置为一个默认值，这个属性被所有 emacs-lisp 代码块继承.
和OB思想一样，如果代码块另外指定了目标文件的位置，那就会使用指定的，而不是头信息的默认属性.
</p>
</div>
</div>

<div id="outline-container-org0a33f82" class="outline-3">
<h3 id="org0a33f82">将一个代码块的执行结果或返回值传递给另一个代码块</h3>
<div class="outline-text-3" id="text-org0a33f82">
<p>
eamcs默认执行的只有emacs-lisp语言的代码块,开启其他语言的代码块执行功能需要添加配置:
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp">(org-babel-do-load-languages
 'org-babel-load-languages
 '((emacs-lisp . t)
   (python . t)
   (dot . t)
   (shell . t)
   <span style="font-weight: bold; font-style: italic;">;; </span><span style="font-weight: bold; font-style: italic;">(browser . t)</span>
   (js . t)
   ))
(<span style="font-weight: bold;">push</span> '(<span style="font-style: italic;">"conf-unix"</span> . conf-unix) org-src-lang-modes)
<span style="font-weight: bold; font-style: italic;">;; </span><span style="font-weight: bold; font-style: italic;">&#27599;&#27425;&#25191;&#34892;&#19981;&#20250;&#35810;&#38382;&#26159;&#21542;&#25191;&#34892;</span>
(<span style="font-weight: bold;">setq</span> org-confirm-babel-evaluate nil)
<span style="font-weight: bold; font-style: italic;">;;</span><span style="font-weight: bold; font-style: italic;">(message "hello")</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-python" id="org48e19b6"><span style="font-weight: bold;">import</span> random
<span style="font-weight: bold;">return</span> random.randint(0,100)
</pre>
</div>
<p>
上面的代码块有名字 <code>block_name</code>,下面载配置文件的过程就是执行一系列emacs-lisp的过程,所以有时候顺序很重要
</p>
</div>
</div>

<div id="outline-container-orgeb05b72" class="outline-3">
<h3 id="orgeb05b72">每次保存这个文件自动执行 <code>org-bable-tangle</code></h3>
<div class="outline-text-3" id="text-orgeb05b72">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="font-weight: bold;">defun</span> <span style="font-weight: bold;">efs/org-babel-tangle-config</span>()
  (<span style="font-weight: bold;">when</span> (string-equal (buffer-file-name)
                      (expand-file-name <span style="font-style: italic;">"~/MyLife/Emacs/DotFiles.org"</span>))
    (<span style="font-weight: bold;">let</span> ((org-confirm-babel-evaluate nil))
      (org-babel-tangle))))
(add-hook 'org-mode-hook (<span style="font-weight: bold;">lambda</span> () (add-hook 'after-save-hook #'efs/org-babel-tangle-config)))
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org9cf62d3" class="outline-2">
<h2 id="org9cf62d3">Emacs</h2>
<div class="outline-text-2" id="text-org9cf62d3">
</div>
<div id="outline-container-orgdb5da3d" class="outline-3">
<h3 id="orgdb5da3d">显示emacs启动时间</h3>
<div class="outline-text-3" id="text-orgdb5da3d">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="font-weight: bold; font-style: italic;">;; </span><span style="font-weight: bold; font-style: italic;">The default is 800 kilobytes.  Measured in bytes.</span>
(<span style="font-weight: bold;">setq</span> gc-cons-threshold (* 50 1000 1000))

<span style="font-weight: bold; font-style: italic;">;; </span><span style="font-weight: bold; font-style: italic;">Profile emacs startup</span>
(add-hook 'emacs-startup-hook
          (<span style="font-weight: bold;">lambda</span> ()
            (message <span style="font-style: italic;">"*** Emacs loaded in %s with %d garbage collections."</span>
                     (format <span style="font-style: italic;">"%.2f seconds"</span>
                             (float-time
                              (time-subtract after-init-time before-init-time)))
                     gcs-done)))
</pre>
</div>
</div>
</div>

<div id="outline-container-org5a679ad" class="outline-3">
<h3 id="org5a679ad">Native Compilation</h3>
<div class="outline-text-3" id="text-org5a679ad">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="font-weight: bold; font-style: italic;">;; </span><span style="font-weight: bold; font-style: italic;">Silence compiler warnings as they can be pretty disruptive</span>
(<span style="font-weight: bold;">setq</span> comp-async-report-warnings-errors nil)
</pre>
</div>
</div>
</div>

<div id="outline-container-orgb12c688" class="outline-3">
<h3 id="orgb12c688">包管理工具</h3>
<div class="outline-text-3" id="text-orgb12c688">
<blockquote>
<p>
这是写给我自己记录用的,免得过些时候忘了写这个配置文件时候的这些想法,看到这里记得把这写碎碎念移到介绍emacs包管理工具或其他合适的地方.
Emacs原生状态又丑由low,完全是上世纪的文本编辑器风格.那为啥会有那么多人用?还被成为是"神之编辑器"?我的使用感受是因为它有强大的社区支持和高度可定制.
Vim也是可定制,但vimscript给我个人的感觉是真的难用,又像是语言又像是配置文件,但emacs不同,它的配置语言emacs-lisp是lisp方言,配置emacs感觉就像是
在自己编写适合自己的编辑器的程序一样,怪不得之前看到一篇写lisp为什么现在不是热门语言的文章说lisp是一门创造其他编程语言的编程语言.基于这种强大的可定制能力,
Emacs的社区成员为我们提供了许多强大的配置,这些配置被整合成一个个包放在Melpa,Elpa等仓库里,类似插件形式可供用户下载使用,Emacs自带的包管理工具我只用过图形界面的,也就是点点点来安装包,
但用点点点的形式不能每次更换环境都靠点点点吧,看了下emacswiki,里面也有emacs自带的包管理工具的配置,好不好用不知道,反正我看的一些教程里都没用.网上emacs大神用的全是可再现的配置文件,跟着大神走总没错吧,在追求性价比这方面,搞编程(懒)的人总是有特殊的想法,
大神的配置总是要达到一次配置,多次使用的目标.
<a href="https://github.com/jwiegley/use-package">use-package</a>就是一位大神因为使用的包太多创建出来的一个包管理工具,尽管大神说这个是用来更好的配置他那80多个包的而不是一个包管理工具,但也是能当包管理工具使的.
我这个配置文件是跟着<a href="https://github.com/daviwil">David Wilson</a>的系列直播视频和他的配置文件学的,尽管他的包管理工具已经换成 <a href="https://github.com/raxod502/straight.el#features">straight.el</a> 了, 但暂时我还是先用着 <code>use-package</code> 再说,而且看介绍, <code>straight.el</code> 是有 <code>use-package</code> 集成的,将来再换应该不难,看David的配置文件也只加了一点额外配置,其他基本没怎么变.
上面是不正经的碎碎念,下面就是正经的配置文件
</p>
</blockquote>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="font-weight: bold; font-style: italic;">;; </span><span style="font-weight: bold; font-style: italic;">&#36825;&#20010;package &#23601;&#26159;emacs&#40664;&#35748;&#30340;&#21253;&#31649;&#29702;&#24037;&#20855;&#20102;(&#21543;)</span>
(<span style="font-weight: bold;">require</span> '<span style="font-weight: bold; text-decoration: underline;">package</span>)   <span style="font-weight: bold; font-style: italic;">;; </span><span style="font-weight: bold; font-style: italic;">&#36825;&#37324;&#30340;require &#23601;&#20687;&#26159;python&#37324;&#30340;import&#21543;,package&#23601;&#20687;&#26159;module</span>

<span style="font-weight: bold; font-style: italic;">;; </span><span style="font-weight: bold; font-style: italic;">&#35774;&#32622;&#21253;&#20179;&#24211;</span>
(<span style="font-weight: bold;">setq</span> package-archives '((<span style="font-style: italic;">"malpa"</span> . <span style="font-style: italic;">"https://melpa.org/packages/"</span>)
                         (<span style="font-style: italic;">"org"</span> . <span style="font-style: italic;">"https://orgmode.org/elpa/"</span>)
                         (<span style="font-style: italic;">"elpa"</span> . <span style="font-style: italic;">"https://elpa.gnu.org/packages/"</span>)))

<span style="font-weight: bold; font-style: italic;">;; </span><span style="font-weight: bold; font-style: italic;">&#35774;&#32622;&#23436;&#20179;&#24211;&#21518;&#35201;&#21021;&#22987;&#21270;&#19968;&#19979;&#20179;&#24211;,&#20877;&#21435;&#25191;&#34892;&#19979;&#36733;&#21253;&#25110;&#32773;&#20854;&#20182;&#21160;&#20316;,&#20351;&#29992;&#36807;linux&#21253;&#31649;&#29702;&#24037;&#20855;&#30340;&#24212;&#35813;&#19981;&#38476;&#29983;</span>
(package-initialize)
(<span style="font-weight: bold;">unless</span> package-archive-contents   <span style="font-weight: bold; font-style: italic;">;;</span><span style="font-weight: bold; font-style: italic;">&#22914;&#26524;&#28304;&#22836;&#20179;&#24211;&#30340;&#20449;&#24687;&#27809;&#26377;&#32531;&#23384;&#21040;&#26412;&#22320;&#23601;&#25191;&#34892;package-refresh-contents&#32531;&#23384;&#19968;&#19979;,&#30456;&#24403;&#19982;apt update&#21543;</span>
  (package-refresh-contents))
<span style="font-weight: bold; font-style: italic;">;; </span><span style="font-weight: bold; font-style: italic;">Initialize use-package on non-Linux platforms,&#36825;&#26159;&#22312;&#38750;linux&#24179;&#21488;&#19978;,&#21487;&#33021;use-package&#19981;&#26159;emacs&#20869;&#32622;&#30340;&#21253;,&#37027;&#23601;&#38656;&#35201;&#20808;&#19979;&#36733;&#25165;&#33021;&#20351;&#29992;</span>
(<span style="font-weight: bold;">unless</span> (package-installed-p 'use-package) <span style="font-weight: bold; font-style: italic;">;;</span><span style="font-weight: bold; font-style: italic;">&#26816;&#27979;&#19968;&#19979;use-package&#26159;&#21542;&#23433;&#35013;&#20102;,&#27809;&#35013;&#23601;&#35013;&#19968;&#19979;&#21591;</span>
  (package-install 'use-package))

<span style="font-weight: bold; font-style: italic;">;; </span><span style="font-weight: bold; font-style: italic;">&#21040;&#36825;&#37324;&#23601;&#21487;&#20197;&#24320;&#22987;&#20351;&#29992; use-package &#20102;</span>
(<span style="font-weight: bold;">require</span> '<span style="font-weight: bold; text-decoration: underline;">use-package</span>)
<span style="font-weight: bold; font-style: italic;">;; </span><span style="font-weight: bold; font-style: italic;">&#40664;&#35748;&#21152;&#36733;&#27599;&#19968;&#20010;use-package&#31649;&#29702;&#30340;&#21253;,&#31561;&#20110;&#26159;&#27599;&#19968;&#20010;use-package&#37324;&#21152;&#19978;:ensure</span>
(<span style="font-weight: bold;">setq</span> use-package-always-ensure t)
</pre>
</div>
</div>
</div>

<div id="outline-container-orgd00a64d" class="outline-3">
<h3 id="orgd00a64d">默认编码格式</h3>
<div class="outline-text-3" id="text-orgd00a64d">
<p>
避免windows上可能会出现的编码错误
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp">(set-default-coding-systems 'utf-8)
</pre>
</div>
</div>
</div>
<div id="outline-container-orgab489bb" class="outline-3">
<h3 id="orgab489bb">Server Mode</h3>
<div class="outline-text-3" id="text-orgab489bb">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(server-start)
</pre>
</div>
</div>
</div>
<div id="outline-container-org91da231" class="outline-3">
<h3 id="org91da231">查看启动过程耗时</h3>
<div class="outline-text-3" id="text-org91da231">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package benchmark-init
  <span style="font-weight: bold;">:ensure</span> t
  <span style="font-weight: bold;">:config</span>
  <span style="font-weight: bold; font-style: italic;">;; </span><span style="font-weight: bold; font-style: italic;">To disable collection of benchmark data after init is done.</span>
  (add-hook 'after-init-hook 'benchmark-init/deactivate))
</pre>
</div>
</div>
</div>

<div id="outline-container-org68ff78c" class="outline-3">
<h3 id="org68ff78c">基本的设置</h3>
<div class="outline-text-3" id="text-org68ff78c">
</div>
<div id="outline-container-org9b1391d" class="outline-4">
<h4 id="org9b1391d">取消初始界面的菜单,工具栏,滚动条等</h4>
<div class="outline-text-4" id="text-org9b1391d">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="font-weight: bold;">setq</span> inhibit-startup-message t)
(scroll-bar-mode 0)              <span style="font-weight: bold; font-style: italic;">;</span><span style="font-weight: bold; font-style: italic;">Disable visible scrollbar</span>
(tool-bar-mode 0)                <span style="font-weight: bold; font-style: italic;">;</span><span style="font-weight: bold; font-style: italic;">Disable the toolbar</span>
(tooltip-mode 0)                 <span style="font-weight: bold; font-style: italic;">;</span><span style="font-weight: bold; font-style: italic;">Disable tooltips</span>
(set-fringe-mode 10)             <span style="font-weight: bold; font-style: italic;">;</span><span style="font-weight: bold; font-style: italic;">Give some breathing room</span>
(menu-bar-mode 0)                <span style="font-weight: bold; font-style: italic;">;</span><span style="font-weight: bold; font-style: italic;">Disale the menu bar</span>
<span style="font-weight: bold; font-style: italic;">;;</span><span style="font-weight: bold; font-style: italic;">set up the visible bell</span>
(<span style="font-weight: bold;">setq</span> visible-bell t)
</pre>
</div>
</div>
</div>

<div id="outline-container-orgffe230a" class="outline-4">
<h4 id="orgffe230a">优化滚动的表现</h4>
<div class="outline-text-4" id="text-orgffe230a">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="font-weight: bold;">setq</span> mouse-wheel-scroll-amount '(1 ((shift) . 1))) <span style="font-weight: bold; font-style: italic;">;; </span><span style="font-weight: bold; font-style: italic;">one line at a time</span>
(<span style="font-weight: bold;">setq</span> mouse-wheel-progressive-speed nil) <span style="font-weight: bold; font-style: italic;">;; </span><span style="font-weight: bold; font-style: italic;">don't accelerate scrolling</span>
(<span style="font-weight: bold;">setq</span> mouse-wheel-follow-mouse 't) <span style="font-weight: bold; font-style: italic;">;; </span><span style="font-weight: bold; font-style: italic;">scroll window under mouse</span>
(<span style="font-weight: bold;">setq</span> scroll-step 1) <span style="font-weight: bold; font-style: italic;">;; </span><span style="font-weight: bold; font-style: italic;">keyboard scroll one line at a time</span>
(<span style="font-weight: bold;">setq</span> use-dialog-box nil) <span style="font-weight: bold; font-style: italic;">;; </span><span style="font-weight: bold; font-style: italic;">Disable dialog boxes since they weren't working in Mac OSX</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org3fcedf0" class="outline-4">
<h4 id="org3fcedf0">窗口透明度和最大化</h4>
<div class="outline-text-4" id="text-org3fcedf0">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(set-frame-parameter (selected-frame) 'alpha '(90 . 90))
(add-to-list 'default-frame-alist '(alpha . (90 . 90)))
(set-frame-parameter (selected-frame) 'fullscreen 'maximized)
(add-to-list 'default-frame-alist '(fullscreen . maximized))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgd36e140" class="outline-4">
<h4 id="orgd36e140">字体设置</h4>
<div class="outline-text-4" id="text-orgd36e140">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="font-weight: bold; font-style: italic;">;; </span><span style="font-weight: bold; font-style: italic;">'han &#30340;&#33050;&#26412;&#31867;&#22411;&#23545;&#24212;CJK&#19977;&#31181;&#35821;&#35328;&#30340;&#23383;&#31526; 'latin &#23545;&#24212;&#33521;&#25991;&#23383;&#31526;</span>
<span style="font-weight: bold; font-style: italic;">;; </span><span style="font-weight: bold; font-style: italic;">(set-fontset-font "fontset-default" 'han "Xiaolai Mono SC")</span>

(set-fontset-font <span style="font-style: italic;">"fontset-default"</span> 'han <span style="font-style: italic;">"AR PL UKai CN"</span>)
<span style="font-weight: bold; font-style: italic;">;; </span><span style="font-weight: bold; font-style: italic;">Ubuntu Mono &#23383;&#20307;&#33021;&#24456;&#22909;&#30340;&#21644;&#20013;&#25991;1:2&#31561;&#23485;,:font &#23646;&#24615;&#30340;&#20351;&#29992;&#21644;.Xresource &#37324;&#23383;&#20307;&#30340;&#20351;&#29992;&#26041;&#24335;&#19968;&#26679;,&#21482;&#19981;&#36807;&#19981;&#33021;&#25351;&#23450;&#22810;&#20010;&#23383;&#20307;</span>
(set-face-attribute 'default nil <span style="font-weight: bold;">:font</span> <span style="font-style: italic;">"Ubuntu Mono:pixelsize=20"</span>)
</pre>
</div>
</div>
</div>

<div id="outline-container-org4f18db4" class="outline-4">
<h4 id="org4f18db4">状态栏设置</h4>
<div class="outline-text-4" id="text-org4f18db4">
</div>
<div id="outline-container-orgb351164" class="outline-5">
<h5 id="orgb351164">Basic Customization</h5>
<div class="outline-text-5" id="text-orgb351164">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="font-weight: bold;">setq</span> display-time-format <span style="font-style: italic;">"%H:%M %p %Y-%m-%d %j"</span>
      dispaly-time-default-load-average nil)
<span style="font-weight: bold; font-style: italic;">;;</span><span style="font-weight: bold; font-style: italic;">(setq display-time-format "%l:%M %p %b %y"</span>
<span style="font-weight: bold; font-style: italic;">;;       </span><span style="font-weight: bold; font-style: italic;">dispaly-time-default-load-average nil)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org84bdf1b" class="outline-5">
<h5 id="org84bdf1b">Enable mode Diminishing</h5>
<div class="outline-text-5" id="text-org84bdf1b">
<p>
The diminish package hides pesky minor modes from the modelines.
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package diminish)
</pre>
</div>
</div>
</div>

<div id="outline-container-org8109ae4" class="outline-5">
<h5 id="org8109ae4">Smart mode line</h5>
<div class="outline-text-5" id="text-org8109ae4">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package smart-mode-line
  <span style="font-weight: bold;">:disabled</span>
  <span style="font-weight: bold;">:if</span> dw/is-termux
  <span style="font-weight: bold;">:config</span>
  (<span style="font-weight: bold;">setq</span> sml/no-confirm-load-theme t)
  (sml/setup)
  (sml/apply-theme 'respectful)  <span style="font-weight: bold; font-style: italic;">; </span><span style="font-weight: bold; font-style: italic;">Respect the theme colors</span>
  (<span style="font-weight: bold;">setq</span> sml/mode-width 'right
        sml/name-width 60)

  (<span style="font-weight: bold;">setq-default</span> mode-line-format
                `(<span style="font-style: italic;">"%e"</span>
                  ,(<span style="font-weight: bold;">when</span> dw/exwm-enabled
                     '(<span style="font-weight: bold;">:eval</span> (format <span style="font-style: italic;">"[%d] "</span> exwm-workspace-current-index)))
                  mode-line-front-space
                  evil-mode-line-tag
                  mode-line-mule-info
                  mode-line-client
                  mode-line-modified
                  mode-line-remote
                  mode-line-frame-identification
                  mode-line-buffer-identification
                  sml/pos-id-separator
                  (vc-mode vc-mode)
                  <span style="font-style: italic;">" "</span>
                                        <span style="font-weight: bold; font-style: italic;">;</span><span style="font-weight: bold; font-style: italic;">mode-line-position</span>
                  sml/pre-modes-separator
                  mode-line-modes
                  <span style="font-style: italic;">" "</span>
                  mode-line-misc-info))
  (<span style="font-weight: bold;">setq</span> rm-excluded-modes
        (mapconcat
         'identity
                                        <span style="font-weight: bold; font-style: italic;">; </span><span style="font-weight: bold; font-style: italic;">These names must start with a space!</span>
         '(<span style="font-style: italic;">" GitGutter"</span> <span style="font-style: italic;">" MRev"</span> <span style="font-style: italic;">" company"</span>
           <span style="font-style: italic;">" Helm"</span> <span style="font-style: italic;">" Undo-Tree"</span> <span style="font-style: italic;">" Projectile.*"</span> <span style="font-style: italic;">" Z"</span> <span style="font-style: italic;">" Ind"</span>
           <span style="font-style: italic;">" Org-Agenda.*"</span> <span style="font-style: italic;">" ElDoc"</span> <span style="font-style: italic;">" SP/s"</span> <span style="font-style: italic;">" cider.*"</span>)
         <span style="font-style: italic;">"</span><span style="font-weight: bold; font-style: italic;">\\</span><span style="font-weight: bold; font-style: italic;">|</span><span style="font-style: italic;">"</span>)))
</pre>
</div>
</div>
</div>
<div id="outline-container-org757dd9f" class="outline-5">
<h5 id="org757dd9f">Doom modeline</h5>
<div class="outline-text-5" id="text-org757dd9f">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package minions           <span style="font-weight: bold; font-style: italic;">; </span><span style="font-weight: bold; font-style: italic;">&#38544;&#34255;&#24403;&#21069;&#21551;&#29992;&#20102;&#21738;&#20123;minor mode</span>
  <span style="font-weight: bold;">:hook</span> (doom-modeline-mode . minions-mode))

(use-package all-the-icons)    <span style="font-weight: bold; font-style: italic;">; </span><span style="font-weight: bold; font-style: italic;">modeline &#27491;&#24120;&#23637;&#31034;&#38656;&#35201;&#35768;&#22810;&#22270;&#26631;&#23383;&#20307;&#25903;&#25345;,&#23383;&#20307;&#38656;&#35201;&#20174;github&#19979;&#36733;&#23433;&#35013;</span>

(use-package doom-modeline

  <span style="font-weight: bold;">:init</span>
  (doom-modeline-mode 1)
  <span style="font-weight: bold; font-style: italic;">;;</span><span style="font-weight: bold; font-style: italic;">:after eshell                ; &#30830;&#20445;&#21551;&#21160;eshell&#21518;&#21551;&#21160;doom-modeline,&#23613;&#31649;manjaro-i3&#19978;&#27491;&#20351;&#29992;&#30340;emacs&#19981;&#23384;&#22312;&#36825;&#20010;&#38382;&#39064;</span>
  <span style="font-weight: bold;">:custom-face</span>
  (mode-line ((t (<span style="font-weight: bold;">:height</span> 0.85))))
  (mode-line-inactive ((t (<span style="font-weight: bold;">:height</span> 0.85))))
  <span style="font-weight: bold;">:custom</span>
  (doom-modeline-height 15)
  (doom-modeline-bar-width 6)
  (doom-modeline-lsp t)
  (doom-modeline-github nil)
  (doom-modeline-mu4e nil)
  (doom-modeline-irc nil)
  (doom-modeline-minor-modes t)
  (doom-modeline-persp-name nil)
  (doom-modeline-buffer-file-name-style 'truncate-except-project)
  (doom-modeline-major-mode-icon nil)
  )
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org3f3c44c" class="outline-4">
<h4 id="org3f3c44c">更好的括号展示</h4>
<div class="outline-text-4" id="text-org3f3c44c">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="font-weight: bold; font-style: italic;">;; </span><span style="font-weight: bold; font-style: italic;">&#25353;&#19981;&#21516;&#39068;&#33394;&#26174;&#31034;&#25104;&#23545;&#25324;&#21495;</span>
(use-package rainbow-delimiters
  <span style="font-weight: bold;">:hook</span> (prog-mode . rainbow-delimiters-mode))
<span style="font-weight: bold; font-style: italic;">;;</span><span style="font-weight: bold; font-style: italic;">&#39640;&#20142;&#24403;&#21069;&#20809;&#26631;&#19979;&#30340;&#25324;&#21495;&#23545;&#24212;&#30340;&#25324;&#21495;</span>
(use-package paren
  <span style="font-weight: bold;">:config</span>
  (set-face-attribute 'show-paren-match-expression nil <span style="font-weight: bold;">:background</span> <span style="font-style: italic;">"#FFFFFF"</span>)
  (show-paren-mode 1))

</pre>
</div>
</div>
</div>

<div id="outline-container-org02a6c77" class="outline-4">
<h4 id="org02a6c77">doom主题</h4>
<div class="outline-text-4" id="text-org02a6c77">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package doom-themes
  <span style="font-weight: bold;">:init</span>
  (load-theme 'doom-palenight t)
  <span style="font-weight: bold;">:config</span>
  (doom-themes-visual-bell-config))
</pre>
</div>
</div>
</div>

<div id="outline-container-org4b88afa" class="outline-4">
<h4 id="org4b88afa">行号设置</h4>
<div class="outline-text-4" id="text-org4b88afa">
<div class="org-src-container">
<pre class="src src-emacs-lisp">
(column-number-mode)
<span style="font-weight: bold; font-style: italic;">;; </span><span style="font-weight: bold; font-style: italic;">Disable line numbers for some modes</span>
(<span style="font-weight: bold;">dolist</span> (mode '(term-mode-hook
                shell-mode-hook
                eshell-mode-hook
                markdown-mode-hook
                org-mode-hook))
  (add-hook mode (<span style="font-weight: bold;">lambda</span> () (display-line-numbers-mode 0))))

(<span style="font-weight: bold;">dolist</span> (mode '(text-mode-hook
                prog-mode-hook
                conf-mode-hook))
  (add-hook mode (<span style="font-weight: bold;">lambda</span> () (display-line-numbers-mode 1))))

</pre>
</div>
</div>
</div>

<div id="outline-container-org8780358" class="outline-4">
<h4 id="org8780358">Workspace</h4>
<div class="outline-text-4" id="text-org8780358">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package perspective
  <span style="font-weight: bold;">:demand</span> t
  <span style="font-weight: bold;">:bind</span> ((<span style="font-style: italic;">"C-M-k"</span> . persp-switch)
         (<span style="font-style: italic;">"C-M-n"</span> . persp-next)
         (<span style="font-style: italic;">"C-x k"</span> . persp-kill-buffer*))
  <span style="font-weight: bold;">:custom</span>
  (persp-initial-frame-name <span style="font-style: italic;">"Main"</span>)
  <span style="font-weight: bold;">:config</span>
  <span style="font-weight: bold; font-style: italic;">;; </span><span style="font-weight: bold; font-style: italic;">Running `</span><span style="font-weight: bold; font-style: italic; text-decoration: underline;">persp-mode</span><span style="font-weight: bold; font-style: italic;">' multiple times resets the perspective list...</span>
  (<span style="font-weight: bold;">unless</span> (equal persp-mode t)
    (persp-mode)))
</pre>
</div>
</div>
</div>
<div id="outline-container-org7abcd4e" class="outline-4">
<h4 id="org7abcd4e">NOtifications</h4>
<div class="outline-text-4" id="text-org7abcd4e">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package alert
  <span style="font-weight: bold;">:commands</span> alert
  <span style="font-weight: bold;">:config</span>
  (<span style="font-weight: bold;">setq</span> alert-default-style 'notifications))
</pre>
</div>
</div>
</div>
<div id="outline-container-orgfbcf79f" class="outline-4">
<h4 id="orgfbcf79f">Auto-Saving changed files</h4>
<div class="outline-text-4" id="text-orgfbcf79f">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package super-save
  <span style="font-weight: bold;">:defer</span> 1
  <span style="font-weight: bold;">:diminish</span> super-save-mode
  <span style="font-weight: bold;">:config</span>
  (super-save-mode +1)
  (<span style="font-weight: bold;">setq</span> super-save-auto-save-when-idle t) )
</pre>
</div>
</div>
</div>
<div id="outline-container-org2450eaa" class="outline-4">
<h4 id="org2450eaa">Auto-Reverting Changed Files</h4>
<div class="outline-text-4" id="text-org2450eaa">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="font-weight: bold;">setq</span> global-auto-revert-non-file-buffers t)
(global-auto-revert-mode 1)
</pre>
</div>
</div>
</div>
<div id="outline-container-orgba815e7" class="outline-4">
<h4 id="orgba815e7">UI Toggles</h4>
<div class="outline-text-4" id="text-orgba815e7">
<div class="org-src-container">
<pre class="src src-emacs-lisp">
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-orgd40898c" class="outline-3">
<h3 id="orgd40898c">按键设置</h3>
<div class="outline-text-3" id="text-orgd40898c">
</div>
<div id="outline-container-orgad565c6" class="outline-4">
<h4 id="orgad565c6">查看使用了哪些命令</h4>
<div class="outline-text-4" id="text-orgad565c6">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package command-log-mode)
</pre>
</div>
</div>
</div>

<div id="outline-container-org8e5c71d" class="outline-4">
<h4 id="org8e5c71d">取消ESC作为 <code>M-x</code> 的前缀按键,将其设置为和Vim类似的退出命令 <code>C-g</code></h4>
<div class="outline-text-4" id="text-org8e5c71d">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="font-weight: bold; font-style: italic;">;; </span><span style="font-weight: bold; font-style: italic;">Make ESC quit prompts</span>
(global-set-key (kbd <span style="font-style: italic;">"&lt;escape&gt;"</span>) 'keyboard-escape-quit)

</pre>
</div>
</div>
</div>

<div id="outline-container-orgb6d68d2" class="outline-4">
<h4 id="orgb6d68d2">取消 <code>C-u</code> 作为 <code>[count]</code> 的作用,因为要使用Vim的 <code>C-u</code> 做翻页</h4>
<div class="outline-text-4" id="text-orgb6d68d2">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(global-set-key (kbd <span style="font-style: italic;">"C-M-u"</span>) 'universal-argument)
</pre>
</div>
</div>
</div>


<div id="outline-container-orgad80210" class="outline-4">
<h4 id="orgad80210">Evil</h4>
<div class="outline-text-4" id="text-orgad80210">
</div>
<div id="outline-container-org1fbfae1" class="outline-5">
<h5 id="org1fbfae1">基本的Vim按键设置</h5>
<div class="outline-text-5" id="text-org1fbfae1">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package undo-tree
  <span style="font-weight: bold;">:init</span>
  (global-undo-tree-mode 1))

(use-package evil
  <span style="font-weight: bold;">:init</span>
  (<span style="font-weight: bold;">setq</span> evil-want-integration t)
  (<span style="font-weight: bold;">setq</span> evil-want-keybinding nil)
  (<span style="font-weight: bold;">setq</span> evil-want-C-u-scroll t)
  (<span style="font-weight: bold;">setq</span> evil-want-C-i-jump nil)
  (<span style="font-weight: bold;">setq</span> evil-undo-system 'undo-tree)

  <span style="font-weight: bold;">:config</span>
  (evil-mode 1)
  (define-key evil-insert-state-map (kbd <span style="font-style: italic;">"C-g"</span>) 'evil-normal-state)
  (define-key evil-insert-state-map (kbd <span style="font-style: italic;">"C-h"</span>) 'evil-delete-backward-char-and-join)

  <span style="font-weight: bold; font-style: italic;">;; </span><span style="font-weight: bold; font-style: italic;">Use visual line motions even outside of visual-line-mode buffers</span>
  <span style="font-weight: bold; font-style: italic;">;;</span><span style="font-weight: bold; font-style: italic;">(evil-global-set-key 'motion "j" 'evil-next-visual-line)</span>
  <span style="font-weight: bold; font-style: italic;">;;</span><span style="font-weight: bold; font-style: italic;">(evil-global-set-key 'motion "k" 'evil-previous-visual-line)</span>

  (evil-set-initial-state 'messages-buffer-mode 'normal)
  (evil-set-initial-state 'dashboard-mode 'normal)
  <span style="font-weight: bold; font-style: italic;">;;</span><span style="font-weight: bold; font-style: italic;">(evil-set-initial-state 'treemacs-mode 'evil-normal-state)</span>
  )

(use-package evil-collection
  <span style="font-weight: bold;">:after</span> evil
  <span style="font-weight: bold;">:config</span>
  (evil-collection-init))

</pre>
</div>
</div>
</div>


<div id="outline-container-org8fc4a68" class="outline-5">
<h5 id="org8fc4a68">绑定"jk"退出插入模式</h5>
<div class="outline-text-5" id="text-org8fc4a68">
<div class="org-src-container">
<pre class="src src-emacs-lisp">
(use-package evil-escape
  <span style="font-weight: bold;">:config</span>
  (evil-escape-mode 1)
  (<span style="font-weight: bold;">setq-default</span> evil-escape-key-sequence <span style="font-style: italic;">"jk"</span>)
  (<span style="font-weight: bold;">setq-default</span> evil-escape-delay 0.5))

</pre>
</div>
</div>
</div>


<div id="outline-container-orgdd4f65e" class="outline-5">
<h5 id="orgdd4f65e">绑定&lt;leader&gt;s重新加载配置文件</h5>
<div class="outline-text-5" id="text-orgdd4f65e">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="font-weight: bold; font-style: italic;">;; </span><span style="font-weight: bold; font-style: italic;">(evil-set-leader 'normal (kbd "SPC"))</span>
<span style="font-weight: bold; font-style: italic;">;; </span><span style="font-weight: bold; font-style: italic;">This buffer is for text that is not saved, and for Lisp evaluation.</span>
<span style="font-weight: bold; font-style: italic;">;; </span><span style="font-weight: bold; font-style: italic;">To create a file, visit it with &lt;open&gt; and enter text in its buffer.</span>

(<span style="font-weight: bold;">defun</span> <span style="font-weight: bold;">reload-init-file</span> ()
  (<span style="font-weight: bold;">interactive</span>)
  (load-file <span style="font-style: italic;">"~/.emacs.d/init.el"</span>)
  )
(evil-define-key 'normal 'global (kbd <span style="font-style: italic;">"&lt;leader&gt;s"</span>) 'reload-init-file)

</pre>
</div>
</div>
</div>
</div>
</div>
<div id="outline-container-orgde95583" class="outline-3">
<h3 id="orgde95583">编辑设置</h3>
<div class="outline-text-3" id="text-orgde95583">
</div>
<div id="outline-container-org0143f2e" class="outline-4">
<h4 id="org0143f2e">Tab Width</h4>
<div class="outline-text-4" id="text-org0143f2e">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="font-weight: bold;">setq-default</span> tab-width 2)
(<span style="font-weight: bold;">setq-default</span> evil-shift-width tab-width)
</pre>
</div>
</div>
</div>
<div id="outline-container-org30aa87f" class="outline-4">
<h4 id="org30aa87f">Use spaces instead of tabs for indnetation</h4>
<div class="outline-text-4" id="text-org30aa87f">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="font-weight: bold;">setq-default</span> indent-tabs-mode nil)
</pre>
</div>
</div>
</div>
<div id="outline-container-org69027ed" class="outline-4">
<h4 id="org69027ed">Commenting Lines</h4>
<div class="outline-text-4" id="text-org69027ed">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package evil-nerd-commenter
  <span style="font-weight: bold;">:bind</span> (<span style="font-style: italic;">"M-c"</span> . evilnc-comment-or-uncomment-lines))
</pre>
</div>
</div>
</div>
<div id="outline-container-orge51dd5e" class="outline-4">
<h4 id="orge51dd5e">Automatically Clean whitespace</h4>
<div class="outline-text-4" id="text-orge51dd5e">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package ws-butler
  <span style="font-weight: bold;">:hook</span> ((text-mode . ws-butler-mode)
         (prog-mode . ws-butler-mode)))

</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org4da292a" class="outline-3">
<h3 id="org4da292a">按键面板</h3>
<div class="outline-text-3" id="text-org4da292a">
<p>
<a href="https://github.com/justbur/emacs-which-key">which-key</a> 根据当前按下的按键展示可用(能)的快捷键组合和对应命令
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp">
(use-package which-key
  <span style="font-weight: bold;">:init</span> (which-key-mode)
  <span style="font-weight: bold;">:diminish</span> which-key-mode
  <span style="font-weight: bold;">:config</span>
  (<span style="font-weight: bold;">setq</span> which-key-idle-delay 0.3)) <span style="font-weight: bold; font-style: italic;">;</span><span style="font-weight: bold; font-style: italic;">&#35774;&#32622;&#22810;&#23569;&#24310;&#36831;&#21518;&#35843;&#29992;which-key</span>

</pre>
</div>
</div>
</div>

<div id="outline-container-orgb8c28f3" class="outline-3">
<h3 id="orgb8c28f3">按键绑定</h3>
<div class="outline-text-3" id="text-orgb8c28f3">
</div>
<div id="outline-container-org518b100" class="outline-4">
<h4 id="org518b100"><a href="https://github.com/noctuid/general.el">general.el</a> 用来管理快捷键绑定</h4>
<div class="outline-text-4" id="text-org518b100">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package general
  <span style="font-weight: bold;">:config</span>
  (general-evil-setup t)
  (general-create-definer rune/leader-keys
                          <span style="font-weight: bold;">:keymaps</span> '(normal insert visual emacs)
                          <span style="font-weight: bold;">:prefix</span> <span style="font-style: italic;">"SPC"</span>
                          <span style="font-weight: bold;">:global-prefix</span> <span style="font-style: italic;">"C-SPC"</span>)

  (rune/leader-keys
   <span style="font-style: italic;">"t"</span>  '(<span style="font-weight: bold;">:ignore</span> t <span style="font-weight: bold;">:which-key</span> <span style="font-style: italic;">"toggles"</span>)
   <span style="font-style: italic;">"tt"</span> '(counsel-load-theme <span style="font-weight: bold;">:which-key</span> <span style="font-style: italic;">"choose theme"</span>)
   <span style="font-style: italic;">"f"</span>  '(<span style="font-weight: bold;">:ignore</span> t <span style="font-weight: bold;">:which-key</span> <span style="font-style: italic;">"file"</span>)
   <span style="font-style: italic;">"ft"</span> '(treemacs <span style="font-weight: bold;">:which-key</span> <span style="font-style: italic;">"file tree"</span>)))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgc3dc3ed" class="outline-4">
<h4 id="orgc3dc3ed">hydra 来绑定快捷键</h4>
<div class="outline-text-4" id="text-orgc3dc3ed">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package general
  <span style="font-weight: bold;">:config</span>
  (general-create-definer rune/leader-keys
                          <span style="font-weight: bold;">:keymaps</span> '(normal insert visual emacs)
                          <span style="font-weight: bold;">:prefix</span> <span style="font-style: italic;">"SPC"</span>
                          <span style="font-weight: bold;">:global-prefix</span> <span style="font-style: italic;">"C-SPC"</span>))


(defhydra hydra-files ()
  <span style="font-weight: bold; font-style: italic;">;;</span><span style="font-weight: bold; font-style: italic;">(interactive)</span>
  <span style="font-weight: bold; font-style: italic;">;;</span><span style="font-weight: bold; font-style: italic;">("f" treemacs "file tree")</span>

  (<span style="font-style: italic;">"t"</span> treemacs <span style="font-weight: bold;">:which-key</span> <span style="font-style: italic;">"file tre"</span>)
  (<span style="font-style: italic;">"l"</span> text-scale-increase <span style="font-style: italic;">"out"</span>))
(defhydra hydra-leader ()
  (<span style="font-style: italic;">"f"</span> hydra-files/body <span style="font-style: italic;">"files"</span> <span style="font-weight: bold;">:exit</span> t))

(rune/leader-keys
 <span style="font-style: italic;">"f"</span> '(hydra-files/body <span style="font-weight: bold;">:which-key</span> <span style="font-style: italic;">"files"</span>)
 )

<span style="font-weight: bold; font-style: italic;">;;</span><span style="font-weight: bold; font-style: italic;">(global-set-key (kbd "SPC") 'hydra-leader/body)</span>
<span style="font-weight: bold; font-style: italic;">;;     </span><span style="font-weight: bold; font-style: italic;">(define-key evil-normal-state-map (kbd "SPC") 'hydra-leader/body)</span>
(defhydra hydra-zoom ()
  <span style="font-style: italic;">"zoom"</span>
  (<span style="font-style: italic;">"g"</span> text-scale-increase <span style="font-style: italic;">"in"</span>)
  (<span style="font-style: italic;">"l"</span> text-scale-decrease <span style="font-style: italic;">"out"</span>))

(global-set-key (kbd <span style="font-style: italic;">"C-c"</span>) 'hydra-zoom/body)

</pre>
</div>
</div>
</div>

<div id="outline-container-org4feb3c4" class="outline-4">
<h4 id="org4feb3c4">Evil 快捷键绑定</h4>
<div class="outline-text-4" id="text-org4feb3c4">
<div class="org-src-container">
<pre class="src src-emacs-lisp">

<span style="font-weight: bold; font-style: italic;">;;</span><span style="font-weight: bold; font-style: italic;">(add-hook 'special-mode-hook 'evil-normal-state)</span>
(define-key evil-normal-state-map (kbd <span style="font-style: italic;">"&lt;SPC&gt;ft"</span>) '(<span style="font-style: italic;">"File tree"</span> . treemacs))
(which-key-add-key-based-replacements
  <span style="font-style: italic;">"&lt;SPC&gt;f"</span> <span style="font-style: italic;">"Files"</span>)
<span style="font-weight: bold; font-style: italic;">;;</span><span style="font-weight: bold; font-style: italic;">(define-key evil-normal-state-map (kbd "&lt;SPC&gt;ft")'("File tree" . treemacs))</span>
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org4bd91aa" class="outline-3">
<h3 id="org4bd91aa">文件浏览器</h3>
<div class="outline-text-3" id="text-org4bd91aa">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package treemacs
  <span style="font-weight: bold;">:ensure</span> t
  <span style="font-weight: bold;">:defer</span> t)
(use-package treemacs-evil
  <span style="font-weight: bold;">:after</span> (treemacs evil)
  <span style="font-weight: bold;">:ensure</span> t)
</pre>
</div>
</div>
</div>

<div id="outline-container-orge6ab6c4" class="outline-3">
<h3 id="orge6ab6c4">Minibuffer补全(Emacs 命令补全)</h3>
<div class="outline-text-3" id="text-orge6ab6c4">
<p>
Emacs有两种类型的补全，一种是写代码或文本时的补全(text completion),另一种就是使用emacs 命令时的补全(Minibuffer completion).
<a href="https://github.com/kenmcmil/ivy">Ivy</a> 是一个使用minibuffer的补全机制,提供针对emacs命令的各种补全功能,<a href="https://github.com/abo-abo/swiper">swpier</a> 是基于Ivy的更好用的 <code>Isearch</code> 工具, <a href="https://github.com/abo-abo/swiper#counsel">counsel</a> 是基于Ivy的 <code>execute-extended-command</code> (M-x) 增强版本,用正则更方便的选择emacs命令
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package ivy
  <span style="font-weight: bold;">:diminish</span>
  <span style="font-weight: bold;">:bind</span> ((<span style="font-style: italic;">"C-s"</span> . swiper)
         <span style="font-weight: bold;">:map</span> ivy-minibuffer-map
         (<span style="font-style: italic;">"TAB"</span> . ivy-alt-done)
         (<span style="font-style: italic;">"C-l"</span> . ivy-alt-done)
         (<span style="font-style: italic;">"C-j"</span> . ivy-next-line)
         (<span style="font-style: italic;">"C-k"</span> . ivy-previous-line)
         <span style="font-weight: bold;">:map</span> ivy-switch-buffer-map
         (<span style="font-style: italic;">"C-k"</span> . ivy-previous-line)
         (<span style="font-style: italic;">"C-l"</span> . ivy-done)
         (<span style="font-style: italic;">"C-d"</span> . ivy-switch-buffer-kill)
         <span style="font-weight: bold;">:map</span> ivy-reverse-i-search-map
         (<span style="font-style: italic;">"C-k"</span> . ivy-previous-line)
         (<span style="font-style: italic;">"C-d"</span> . ivy-reverse-i-search-kill))
  <span style="font-weight: bold;">:config</span>
  (ivy-mode 1))

(use-package ivy-rich
  <span style="font-weight: bold;">:init</span>
  (ivy-rich-mode 1))

(use-package counsel
  <span style="font-weight: bold;">:bind</span> ((<span style="font-style: italic;">"M-x"</span> . counsel-M-x)
         (<span style="font-style: italic;">"C-x b"</span> . counsel-ibuffer)
         (<span style="font-style: italic;">"C-x C-f"</span> . counsel-find-file)
         <span style="font-weight: bold;">:map</span> minibuffer-local-map
         (<span style="font-style: italic;">"C-r"</span> . 'counsel-minibuffer-history)))
</pre>
</div>
</div>
</div>

<div id="outline-container-org77b4bbe" class="outline-3">
<h3 id="org77b4bbe">Development</h3>
<div class="outline-text-3" id="text-org77b4bbe">
</div>
<div id="outline-container-org27198a8" class="outline-4">
<h4 id="org27198a8">Lsp-mode</h4>
<div class="outline-text-4" id="text-org27198a8">
</div>
<div id="outline-container-orge6cf01e" class="outline-5">
<h5 id="orge6cf01e">Lsp</h5>
<div class="outline-text-5" id="text-orge6cf01e">
<div class="org-src-container">
<pre class="src src-emacs-lisp">

(use-package lsp-mode
  <span style="font-weight: bold;">:init</span>
  <span style="font-weight: bold; font-style: italic;">;; </span><span style="font-weight: bold; font-style: italic;">set prefix for lsp-command-keymap (few alternatives - "C-l", "C-c l")</span>
  (<span style="font-weight: bold;">setq</span> lsp-keymap-prefix <span style="font-style: italic;">"C-c l"</span>)
  <span style="font-weight: bold;">:hook</span> (<span style="font-weight: bold; font-style: italic;">;; </span><span style="font-weight: bold; font-style: italic;">replace XXX-mode with concrete major-mode(e. g. python-mode)</span>
         (python-mode . lsp)
         (json-mode .lsp)
         (html-mode .lsp)
         <span style="font-weight: bold; font-style: italic;">;; </span><span style="font-weight: bold; font-style: italic;">if you want which-key integration</span>
         (lsp-mode . lsp-enable-which-key-integration))
  <span style="font-weight: bold;">:commands</span> lsp lsp-deferred)

<span style="font-weight: bold; font-style: italic;">;; </span><span style="font-weight: bold; font-style: italic;">optionally</span>

<span style="font-weight: bold; font-style: italic;">;; </span><span style="font-weight: bold; font-style: italic;">company provide completion function</span>
(use-package company)

(use-package flycheck
  <span style="font-weight: bold; font-style: italic;">;; </span><span style="font-weight: bold; font-style: italic;">:init (global-flycheck-mode)</span>
  )

(use-package lsp-ui <span style="font-weight: bold;">:commands</span> lsp-ui-mode)
<span style="font-weight: bold; font-style: italic;">;; </span><span style="font-weight: bold; font-style: italic;">if you are helm user</span>
<span style="font-weight: bold; font-style: italic;">;;</span><span style="font-weight: bold; font-style: italic;">(use-package helm-lsp :commands helm-lsp-workspace-symbol)</span>
<span style="font-weight: bold; font-style: italic;">;; </span><span style="font-weight: bold; font-style: italic;">if you are ivy user</span>
(use-package lsp-ivy <span style="font-weight: bold;">:commands</span> lsp-ivy-workspace-symbol)
(use-package lsp-treemacs <span style="font-weight: bold;">:commands</span> lsp-treemacs-errors-list)

<span style="font-weight: bold; font-style: italic;">;; </span><span style="font-weight: bold; font-style: italic;">optionally if you want to use debugger</span>
<span style="font-weight: bold; font-style: italic;">;; </span><span style="font-weight: bold; font-style: italic;">(use-package dap-mode</span>
  <span style="font-weight: bold; font-style: italic;">;; </span><span style="font-weight: bold; font-style: italic;">:defer)</span>

<span style="font-weight: bold; font-style: italic;">;; </span><span style="font-weight: bold; font-style: italic;">(use-package dap-LANGUAGE) to load the dap adapter for your language</span>
<span style="font-weight: bold; font-style: italic;">;; </span><span style="font-weight: bold; font-style: italic;">(require 'dap-python)</span>

<span style="font-weight: bold; font-style: italic;">;; </span><span style="font-weight: bold; font-style: italic;">optional if you want which-key integration</span>
<span style="font-weight: bold; font-style: italic;">;;</span><span style="font-weight: bold; font-style: italic;">(use-package which-key</span>
<span style="font-weight: bold; font-style: italic;">;;</span><span style="font-weight: bold; font-style: italic;">:config</span>
<span style="font-weight: bold; font-style: italic;">;;</span><span style="font-weight: bold; font-style: italic;">(which-key-mode))</span>

</pre>
</div>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package lsp-mode
  <span style="font-weight: bold;">:init</span>
  <span style="font-weight: bold; font-style: italic;">;; </span><span style="font-weight: bold; font-style: italic;">set prefix for lsp-command-keymap (few alternatives - "C-l", "C-c l")</span>
  (<span style="font-weight: bold;">setq</span> lsp-keymap-prefix <span style="font-style: italic;">"C-c l"</span>)
  <span style="font-weight: bold;">:hook</span> (<span style="font-weight: bold; font-style: italic;">;; </span><span style="font-weight: bold; font-style: italic;">replace XXX-mode with concrete major-mode(e. g. python-mode)</span>
         (python-mode . lsp-defer)
         <span style="font-weight: bold; font-style: italic;">;; </span><span style="font-weight: bold; font-style: italic;">if you want which-key integration</span>
         (lsp-mode . lsp-enable-which-key-integration))
  <span style="font-weight: bold;">:commands</span> lsp)

<span style="font-weight: bold; font-style: italic;">;; </span><span style="font-weight: bold; font-style: italic;">optionally</span>
(use-package lsp-ui <span style="font-weight: bold;">:commands</span> lsp-ui-mode)
<span style="font-weight: bold; font-style: italic;">;; </span><span style="font-weight: bold; font-style: italic;">if you are helm user</span>
<span style="font-weight: bold; font-style: italic;">;;</span><span style="font-weight: bold; font-style: italic;">(use-package helm-lsp :commands helm-lsp-workspace-symbol)</span>
<span style="font-weight: bold; font-style: italic;">;; </span><span style="font-weight: bold; font-style: italic;">if you are ivy user</span>
(use-package lsp-ivy <span style="font-weight: bold;">:commands</span> lsp-ivy-workspace-symbol)
(use-package lsp-treemacs <span style="font-weight: bold;">:commands</span> lsp-treemacs-errors-list)

<span style="font-weight: bold; font-style: italic;">;; </span><span style="font-weight: bold; font-style: italic;">optionally if you want to use debugger</span>
(use-package dap-mode)
<span style="font-weight: bold; font-style: italic;">;; </span><span style="font-weight: bold; font-style: italic;">(use-package dap-LANGUAGE) to load the dap adapter for your language</span>

<span style="font-weight: bold; font-style: italic;">;; </span><span style="font-weight: bold; font-style: italic;">optional if you want which-key integration</span>
<span style="font-weight: bold; font-style: italic;">;;</span><span style="font-weight: bold; font-style: italic;">(use-package which-key</span>
<span style="font-weight: bold; font-style: italic;">;;</span><span style="font-weight: bold; font-style: italic;">:config</span>
<span style="font-weight: bold; font-style: italic;">;;</span><span style="font-weight: bold; font-style: italic;">(which-key-mode))</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orga3463ea" class="outline-5">
<h5 id="orga3463ea">Lsp for python</h5>
<div class="outline-text-5" id="text-orga3463ea">
</div>
<ul class="org-ul">
<li><a id="org13ca0e3"></a>Pylsp<br />
<div class="outline-text-6" id="text-org13ca0e3">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="font-weight: bold;">setq</span> lsp-pylsp-plugins-yapf-enabled t)
(<span style="font-weight: bold;">setq</span> lsp-pylsp-plugins-jedi-use-pyenv-environment t)
</pre>
</div>
</div>
</li>
<li><a id="org7ec9e97"></a>Pyright<br />
<div class="outline-text-6" id="text-org7ec9e97">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package lsp-pyright
  <span style="font-weight: bold;">:ensure</span> t
  <span style="font-weight: bold;">:hook</span> (python-mode . (<span style="font-weight: bold;">lambda</span> ()
                         (<span style="font-weight: bold;">require</span> '<span style="font-weight: bold; text-decoration: underline;">lsp-pyright</span>)
                         (lsp))))  <span style="font-weight: bold; font-style: italic;">; </span><span style="font-weight: bold; font-style: italic;">or lsp-deferred</span>
<span style="font-weight: bold; font-style: italic;">;; </span><span style="font-weight: bold; font-style: italic;">(use-package company)</span>
</pre>
</div>
</div>
</li>
<li><a id="orgefee84f"></a>Mspyls<br />
<div class="outline-text-6" id="text-orgefee84f">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package lsp-python-ms
  <span style="font-weight: bold;">:ensure</span> t
  <span style="font-weight: bold;">:init</span> (<span style="font-weight: bold;">setq</span> lsp-python-ms-auto-install-server t)
  <span style="font-weight: bold;">:hook</span> (python-mode . (<span style="font-weight: bold;">lambda</span> ()
                         (<span style="font-weight: bold;">require</span> '<span style="font-weight: bold; text-decoration: underline;">lsp-python-ms</span>)
                         (lsp))))  <span style="font-weight: bold; font-style: italic;">;</span><span style="font-weight: bold; font-style: italic;">lsp or lsp-deferred</span>

</pre>
</div>
</div>
</li>
<li><a id="orgffc2aed"></a>jedi<br />
<div class="outline-text-6" id="text-orgffc2aed">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package lsp-jedi
  <span style="font-weight: bold;">:ensure</span> t
  <span style="font-weight: bold;">:config</span>
  (<span style="font-weight: bold;">with-eval-after-load</span> <span style="font-style: italic;">"lsp-mode"</span>
    (add-to-list 'lsp-disabled-clients 'pyls)
    (add-to-list 'lsp-disabled-clients 'mspyls)
    (add-to-list 'lsp-disabled-clients 'pylsp)
    <span style="font-weight: bold; font-style: italic;">;; </span><span style="font-weight: bold; font-style: italic;">(add-to-list 'lsp-enabled-clients 'jedi)</span>
    ))
</pre>
</div>
</div>
</li>
</ul>
</div>

<div id="outline-container-org81575ff" class="outline-5">
<h5 id="org81575ff">LSP for Html</h5>
<div class="outline-text-5" id="text-org81575ff">
<div class="org-src-container">
<pre class="src src-emacs-lisp">
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org4d05800" class="outline-4">
<h4 id="org4d05800">Python<sub>settings</sub></h4>
<div class="outline-text-4" id="text-org4d05800">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="font-weight: bold; font-style: italic;">;; </span><span style="font-weight: bold; font-style: italic;">&#35774;&#32622;&#32553;&#36827;&#20026;4</span>
(<span style="font-weight: bold;">setq</span>
 python-indent-offset 4
 python-indent-guess-indent-offset nil)
(add-hook 'python-mode-hook (electric-pair-mode 1))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgde50b3c" class="outline-4">
<h4 id="orgde50b3c">Format python code</h4>
<div class="outline-text-4" id="text-orgde50b3c">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package yapfify
  <span style="font-weight: bold;">:config</span>
  (add-hook 'python-mode-hook 'yapf-mode))
</pre>
</div>
</div>
</div>

<div id="outline-container-org49e3e70" class="outline-4">
<h4 id="org49e3e70">Format All</h4>
<div class="outline-text-4" id="text-org49e3e70">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package format-all)
</pre>
</div>
</div>
</div>
<div id="outline-container-org8340e49" class="outline-4">
<h4 id="org8340e49">Elpy &#x2013; IDE for py</h4>
<div class="outline-text-4" id="text-org8340e49">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package elpy
  <span style="font-weight: bold;">:ensure</span> t
  <span style="font-weight: bold;">:init</span>
  (elpy-enable))
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org933d6f0" class="outline-3">
<h3 id="org933d6f0">Orgmode</h3>
<div class="outline-text-3" id="text-org933d6f0">
</div>
<div id="outline-container-orgcb2347b" class="outline-4">
<h4 id="orgcb2347b">CodeBlock模版</h4>
<div class="outline-text-4" id="text-orgcb2347b">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="font-weight: bold;">require</span> '<span style="font-weight: bold; text-decoration: underline;">org-tempo</span>)
(add-to-list 'org-structure-template-alist '(<span style="font-style: italic;">"py"</span> . <span style="font-style: italic;">"src python :results output"</span>))
(add-to-list 'org-structure-template-alist '(<span style="font-style: italic;">"el"</span> . <span style="font-style: italic;">"src emacs-lisp"</span>))
(add-to-list 'org-structure-template-alist '(<span style="font-style: italic;">"ipy"</span> . <span style="font-style: italic;">"src ipython :session"</span>))
(add-to-list 'org-structure-template-alist '(<span style="font-style: italic;">"bash"</span> . <span style="font-style: italic;">"src bash"</span>))
</pre>
</div>
</div>
</div>

<div id="outline-container-org6af994e" class="outline-4">
<h4 id="org6af994e">outline</h4>
<div class="outline-text-4" id="text-org6af994e">
<p>
配置headline的项目符号(bullet point)
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package org-superstar
  <span style="font-weight: bold;">:after</span> org
  <span style="font-weight: bold;">:hook</span> (org-mode . org-superstar-mode)
  <span style="font-weight: bold;">:config</span>
  (<span style="font-weight: bold;">setq</span> org-superstar-leading-bullet  ?\s)

  <span style="font-weight: bold;">:custom</span>
  <span style="font-weight: bold; font-style: italic;">;;</span><span style="font-weight: bold; font-style: italic;">(org-superstar-remove-leading-stars t)</span>

  (org-superstar-headline-bullets-list '(<span style="font-style: italic;">"&#9673;"</span> <span style="font-style: italic;">"&#9675;"</span> <span style="font-style: italic;">"&#9679;"</span> <span style="font-style: italic;">"&#9675;"</span> <span style="font-style: italic;">"&#9679;"</span> <span style="font-style: italic;">"&#9675;"</span> <span style="font-style: italic;">"&#9679;"</span>))
  <span style="font-weight: bold; font-style: italic;">;; </span><span style="font-weight: bold; font-style: italic;">(org-superstar-headline-bullets-list '("&#9775;" "&#9776;" "&#9777;" "&#9778;" "&#9779;" "&#9780;" "&#9781;" "&#9782;" "&#9783;"))</span>
  )


</pre>
</div>

<p>
配置折叠后的省略号
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="font-weight: bold;">setq</span> org-ellipsis <span style="font-style: italic;">" &#9660; "</span>)
</pre>
</div>
</div>
</div>

<div id="outline-container-org40a6d26" class="outline-4">
<h4 id="org40a6d26">Org-roam</h4>
<div class="outline-text-4" id="text-org40a6d26">
<div class="org-src-container">
<pre class="src src-emacs-lisp">      <span style="font-weight: bold; font-style: italic;">;;</span><span style="font-weight: bold; font-style: italic;">(use-package org-roam</span>
        <span style="font-weight: bold; font-style: italic;">;;</span><span style="font-weight: bold; font-style: italic;">:ensure t</span>
        <span style="font-weight: bold; font-style: italic;">;;</span><span style="font-weight: bold; font-style: italic;">:init</span>
        <span style="font-weight: bold; font-style: italic;">;;</span><span style="font-weight: bold; font-style: italic;">(setq org-roam-v2-ack t)</span>
        <span style="font-weight: bold; font-style: italic;">;;</span><span style="font-weight: bold; font-style: italic;">:custom</span>
        <span style="font-weight: bold; font-style: italic;">;;</span><span style="font-weight: bold; font-style: italic;">(org-roam-directory "~/MyLife/org-roam")</span>
        <span style="font-weight: bold; font-style: italic;">;;</span><span style="font-weight: bold; font-style: italic;">:bind (("C-c n l" . org-roam-buffer-toggle)</span>
               <span style="font-weight: bold; font-style: italic;">;;</span><span style="font-weight: bold; font-style: italic;">("C-c n f" . org-roam-node-find)</span>
               <span style="font-weight: bold; font-style: italic;">;;</span><span style="font-weight: bold; font-style: italic;">("C-c n i" . org-roam-node-insert))</span>
        <span style="font-weight: bold; font-style: italic;">;;</span><span style="font-weight: bold; font-style: italic;">:config</span>
        <span style="font-weight: bold; font-style: italic;">;;</span><span style="font-weight: bold; font-style: italic;">(org-roam-setup))</span>
(use-package org-roam
  <span style="font-weight: bold;">:ensure</span> t
  <span style="font-weight: bold;">:init</span>
  (<span style="font-weight: bold;">setq</span> org-roam-v2-ack t)
  <span style="font-weight: bold;">:custom</span>
  (org-roam-directory <span style="font-style: italic;">"~/MyLife/org-roam"</span>)
  (org-roam-completion-everywhere t)
  (org-roam-dailies-capture-templates
    '((<span style="font-style: italic;">"d"</span> <span style="font-style: italic;">"default"</span> entry <span style="font-style: italic;">"* %&lt;%I:%M %p&gt;: %?"</span>
       <span style="font-weight: bold;">:if-new</span> (file+head <span style="font-style: italic;">"%&lt;%Y-%m-%d&gt;.org"</span> <span style="font-style: italic;">"#+title: %&lt;%Y-%m-%d&gt;\n"</span>))))
  <span style="font-weight: bold;">:bind</span> ((<span style="font-style: italic;">"C-c n l"</span> . org-roam-buffer-toggle)
         (<span style="font-style: italic;">"C-c n f"</span> . org-roam-node-find)
         (<span style="font-style: italic;">"C-c n i"</span> . org-roam-node-insert)
         <span style="font-weight: bold;">:map</span> org-mode-map
         (<span style="font-style: italic;">"C-M-i"</span> . completion-at-point)
         <span style="font-weight: bold;">:map</span> org-roam-dailies-map
         (<span style="font-style: italic;">"Y"</span> . org-roam-dailies-capture-yesterday)
         (<span style="font-style: italic;">"T"</span> . org-roam-dailies-capture-tomorrow))
  <span style="font-weight: bold;">:bind-keymap</span>
  (<span style="font-style: italic;">"C-c n d"</span> . org-roam-dailies-map)
  <span style="font-weight: bold;">:config</span>
  (<span style="font-weight: bold;">require</span> '<span style="font-weight: bold; text-decoration: underline;">org-roam-dailies</span>) <span style="font-weight: bold; font-style: italic;">;; </span><span style="font-weight: bold; font-style: italic;">Ensure the keymap is available</span>
  (org-roam-db-autosync-mode))

</pre>
</div>
</div>
</div>
<div id="outline-container-org302cd2e" class="outline-4">
<h4 id="org302cd2e">Org-mode</h4>
<div class="outline-text-4" id="text-org302cd2e">
</div>
<div id="outline-container-orgc760313" class="outline-5">
<h5 id="orgc760313">Init set up</h5>
<div class="outline-text-5" id="text-orgc760313">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="font-weight: bold;">setq</span> org-directory <span style="font-style: italic;">"~/MyLife/org"</span>)
(global-set-key (kbd <span style="font-style: italic;">"C-c l"</span>) 'org-store-link)
(global-set-key (kbd <span style="font-style: italic;">"C-c a"</span>) 'org-agenda)
(global-set-key (kbd <span style="font-style: italic;">"C-c c"</span>) 'org-capture)
</pre>
</div>
</div>
</div>

<div id="outline-container-org0f45f51" class="outline-5">
<h5 id="org0f45f51">Hide emphasis markers</h5>
<div class="outline-text-5" id="text-org0f45f51">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="font-weight: bold;">setq</span> org-hide-emphasis-markers t)
</pre>
</div>
</div>
</div>

<div id="outline-container-org9a7a42c" class="outline-5">
<h5 id="org9a7a42c">org-drill</h5>
<div class="outline-text-5" id="text-org9a7a42c">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package org-drill)
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org3ff17cf" class="outline-4">
<h4 id="org3ff17cf">Pomodoro</h4>
<div class="outline-text-4" id="text-org3ff17cf">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package org-pomodoro
  <span style="font-weight: bold;">:config</span>
  (<span style="font-weight: bold;">setq</span> org-pomodoro-start-sound (expand-file-name <span style="font-style: italic;">"~/MyLife/Emacs/sounds/meditation_bell.wav"</span>))
  (<span style="font-weight: bold;">setq</span> org-pomodoro-short-break-sound (expand-file-name <span style="font-style: italic;">"~/MyLife/Emacs/sounds/meditation_bell.wav"</span>))
  (<span style="font-weight: bold;">setq</span> org-pomodoro-long-break-sound (expand-file-name <span style="font-style: italic;">"~/MyLife/Emacs/sounds/meditation_bell.wav"</span>))
  (<span style="font-weight: bold;">setq</span> org-pomodoro-finished-sound (expand-file-name <span style="font-style: italic;">"~/MyLife/Emacs/sounds/meditation_bell.wav"</span>)))
<span style="font-weight: bold; font-style: italic;">;; </span><span style="font-weight: bold; font-style: italic;">org-pomodoro use sound-wav pavkage to play the sound</span>
(use-package sound-wav)

</pre>
</div>
</div>
</div>

<div id="outline-container-orged984a0" class="outline-4">
<h4 id="orged984a0">tracking habits</h4>
<div class="outline-text-4" id="text-orged984a0">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(add-to-list 'org-modules 'org-habit)
</pre>
</div>
</div>
</div>

<div id="outline-container-orgc8bd491" class="outline-4">
<h4 id="orgc8bd491">Auto insert newline</h4>
<div class="outline-text-4" id="text-orgc8bd491">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(add-hook 'org-mode-hook '(lambda () (<span style="font-weight: bold;">setq</span> fill-column 80)))
(add-hook 'org-mode-hook 'auto-fill-mode)
</pre>
</div>
</div>
</div>

<div id="outline-container-orged881fc" class="outline-4">
<h4 id="orged881fc">org-capture-template</h4>
<div class="outline-text-4" id="text-orged881fc">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="font-weight: bold;">setq</span> org-capture-templates
'(
  (<span style="font-style: italic;">"t"</span> <span style="font-style: italic;">"Tasks"</span>)
  (<span style="font-style: italic;">"tt"</span> <span style="font-style: italic;">"TODO"</span> entry (file+headline <span style="font-style: italic;">"GTD.org"</span> <span style="font-style: italic;">"Tasks"</span>) <span style="font-style: italic;">"* TODO %?\n %i\n %a"</span>)
  (<span style="font-style: italic;">"T"</span> <span style="font-style: italic;">"Thoughts"</span>)
  (<span style="font-style: italic;">"TT"</span> <span style="font-style: italic;">"Thought  To be done"</span> entry (file+headline <span style="font-style: italic;">"GTD.org"</span> <span style="font-style: italic;">"&#26410;&#23454;&#29616;&#30340;&#24819;&#27861;"</span>) <span style="font-style: italic;">"* %?\n"</span> <span style="font-weight: bold;">:jump-to-captured</span> t)
  (<span style="font-style: italic;">"d"</span> <span style="font-style: italic;">"Drills"</span>)
  (<span style="font-style: italic;">"dE"</span> <span style="font-style: italic;">"Drills for English"</span> entry (file+headline <span style="font-style: italic;">"GTD.org"</span> <span style="font-style: italic;">"English"</span>)  <span style="font-style: italic;">"* %? :drill:"</span>)
  (<span style="font-style: italic;">"dP"</span> <span style="font-style: italic;">"Drills for Python"</span> entry (file+headline <span style="font-style: italic;">"~/MyLife/Python/Learning_Python/README.org"</span> <span style="font-style: italic;">"&#32451;&#20064;&#39064;"</span>) <span style="font-style: italic;">"* %? :drill:\n** Answer\n** Note\n"</span> <span style="font-weight: bold;">:jump-to-captured</span> t)
  )
)
</pre>
</div>
</div>
</div>

<div id="outline-container-org4ac77ce" class="outline-4">
<h4 id="org4ac77ce">Encrypt</h4>
<div class="outline-text-4" id="text-org4ac77ce">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="font-weight: bold;">require</span> '<span style="font-weight: bold; text-decoration: underline;">org-crypt</span>)
(org-crypt-use-before-save-magic)
(<span style="font-weight: bold;">setq</span> org-tags-exclude-from-inheritance (<span style="font-weight: bold;">quote</span> (<span style="font-style: italic;">"crypt"</span>)))
<span style="font-weight: bold; font-style: italic;">;; </span><span style="font-weight: bold; font-style: italic;">GPG key to use for encryption</span>
<span style="font-weight: bold; font-style: italic;">;; </span><span style="font-weight: bold; font-style: italic;">Either the Key ID or set to nil to use symmetric encryption.</span>
(<span style="font-weight: bold;">setq</span> org-crypt-key <span style="font-style: italic;">"kamisama"</span>)
</pre>
</div>
</div>
</div>
</div>



<div id="outline-container-org46f7d68" class="outline-3">
<h3 id="org46f7d68">Productivity</h3>
<div class="outline-text-3" id="text-org46f7d68">
<p>
一些能提高编辑效率的配置
</p>
</div>

<div id="outline-container-org0eebab0" class="outline-4">
<h4 id="org0eebab0">括号补全</h4>
<div class="outline-text-4" id="text-org0eebab0">
<p>
自动补全各种括号和引号
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp">
<span style="font-weight: bold; font-style: italic;">;;</span><span style="font-weight: bold; font-style: italic;">(electric-pair-mode 1)</span>

(use-package smartparens
  <span style="font-weight: bold;">:hook</span>
  (prog-mode . smartparens-mode)
  (org-mode . smartparens-mode ))
</pre>
</div>
</div>
</div>

<div id="outline-container-org2ffa8d7" class="outline-4">
<h4 id="org2ffa8d7">Snippet</h4>
<div class="outline-text-4" id="text-org2ffa8d7">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="font-weight: bold; font-style: italic;">;; </span><span style="font-weight: bold; font-style: italic;">snippet engine</span>
(use-package yasnippet
  <span style="font-weight: bold;">:defer</span>
  <span style="font-weight: bold;">:hook</span> (prog-mode . yas-minor-mode)
  <span style="font-weight: bold;">:config</span>
  (yas-reload-all))
<span style="font-weight: bold; font-style: italic;">;; </span><span style="font-weight: bold; font-style: italic;">snippets</span>
<span style="font-weight: bold; font-style: italic;">;; </span><span style="font-weight: bold; font-style: italic;">(use-package yasnippet-snippets</span>
  <span style="font-weight: bold; font-style: italic;">;; </span><span style="font-weight: bold; font-style: italic;">:hook (prog-mode .))</span>
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org7a3fbbe" class="outline-3">
<h3 id="org7a3fbbe">Ebook</h3>
<div class="outline-text-3" id="text-org7a3fbbe">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package nov
  <span style="font-weight: bold;">:config</span>
  (add-to-list 'auto-mode-alist '(<span style="font-style: italic;">"\\.epub\\'"</span> . nov-mode)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org2e8d88f" class="outline-3">
<h3 id="org2e8d88f">Magit</h3>
<div class="outline-text-3" id="text-org2e8d88f">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="font-weight: bold; font-style: italic;">;; </span><span style="font-weight: bold; font-style: italic;">(use-package magit)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orgfeffbe3" class="outline-3">
<h3 id="orgfeffbe3">Save Emacs Sessions</h3>
<div class="outline-text-3" id="text-orgfeffbe3">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(desktop-save-mode 1)
</pre>
</div>
</div>
</div>
</div>
</div>
<div id="postamble" class="status">
<p class="creator"><a href="https://www.gnu.org/software/emacs/">Emacs</a> 26.3 (<a href="https://orgmode.org">Org</a> mode 9.1.9)</p>
<p class="validation"></p>
</div>
</body>
</html>
