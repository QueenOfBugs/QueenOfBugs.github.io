<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title> 用org-mode配置所有dotfile</title>
<meta name="author" content="kamisama" />
<meta name="keywords" content=" Emacs" />
<meta name="generator" content="Org Mode" />
<style>
  #content { max-width: 60em; margin: auto; }
  .title  { text-align: center;
             margin-bottom: .2em; }
  .subtitle { text-align: center;
              font-size: medium;
              font-weight: bold;
              margin-top:0; }
  .todo   { font-family: monospace; color: red; }
  .done   { font-family: monospace; color: green; }
  .priority { font-family: monospace; color: orange; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .org-right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .org-left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .org-center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #e6e6e6;
    border-radius: 3px;
    background-color: #f2f2f2;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: auto;
  }
  pre.src:before {
    display: none;
    position: absolute;
    top: -8px;
    right: 12px;
    padding: 3px;
    color: #555;
    background-color: #f2f2f299;
  }
  pre.src:hover:before { display: inline; margin-top: 14px;}
  /* Languages per Org manual */
  pre.src-asymptote:before { content: 'Asymptote'; }
  pre.src-awk:before { content: 'Awk'; }
  pre.src-authinfo::before { content: 'Authinfo'; }
  pre.src-C:before { content: 'C'; }
  /* pre.src-C++ doesn't work in CSS */
  pre.src-clojure:before { content: 'Clojure'; }
  pre.src-css:before { content: 'CSS'; }
  pre.src-D:before { content: 'D'; }
  pre.src-ditaa:before { content: 'ditaa'; }
  pre.src-dot:before { content: 'Graphviz'; }
  pre.src-calc:before { content: 'Emacs Calc'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-fortran:before { content: 'Fortran'; }
  pre.src-gnuplot:before { content: 'gnuplot'; }
  pre.src-haskell:before { content: 'Haskell'; }
  pre.src-hledger:before { content: 'hledger'; }
  pre.src-java:before { content: 'Java'; }
  pre.src-js:before { content: 'Javascript'; }
  pre.src-latex:before { content: 'LaTeX'; }
  pre.src-ledger:before { content: 'Ledger'; }
  pre.src-lisp:before { content: 'Lisp'; }
  pre.src-lilypond:before { content: 'Lilypond'; }
  pre.src-lua:before { content: 'Lua'; }
  pre.src-matlab:before { content: 'MATLAB'; }
  pre.src-mscgen:before { content: 'Mscgen'; }
  pre.src-ocaml:before { content: 'Objective Caml'; }
  pre.src-octave:before { content: 'Octave'; }
  pre.src-org:before { content: 'Org mode'; }
  pre.src-oz:before { content: 'OZ'; }
  pre.src-plantuml:before { content: 'Plantuml'; }
  pre.src-processing:before { content: 'Processing.js'; }
  pre.src-python:before { content: 'Python'; }
  pre.src-R:before { content: 'R'; }
  pre.src-ruby:before { content: 'Ruby'; }
  pre.src-sass:before { content: 'Sass'; }
  pre.src-scheme:before { content: 'Scheme'; }
  pre.src-screen:before { content: 'Gnu Screen'; }
  pre.src-sed:before { content: 'Sed'; }
  pre.src-sh:before { content: 'shell'; }
  pre.src-sql:before { content: 'SQL'; }
  pre.src-sqlite:before { content: 'SQLite'; }
  /* additional languages in org.el's org-babel-load-languages alist */
  pre.src-forth:before { content: 'Forth'; }
  pre.src-io:before { content: 'IO'; }
  pre.src-J:before { content: 'J'; }
  pre.src-makefile:before { content: 'Makefile'; }
  pre.src-maxima:before { content: 'Maxima'; }
  pre.src-perl:before { content: 'Perl'; }
  pre.src-picolisp:before { content: 'Pico Lisp'; }
  pre.src-scala:before { content: 'Scala'; }
  pre.src-shell:before { content: 'Shell Script'; }
  pre.src-ebnf2ps:before { content: 'ebfn2ps'; }
  /* additional language identifiers per "defun org-babel-execute"
       in ob-*.el */
  pre.src-cpp:before  { content: 'C++'; }
  pre.src-abc:before  { content: 'ABC'; }
  pre.src-coq:before  { content: 'Coq'; }
  pre.src-groovy:before  { content: 'Groovy'; }
  /* additional language identifiers from org-babel-shell-names in
     ob-shell.el: ob-shell is the only babel language using a lambda to put
     the execution function name together. */
  pre.src-bash:before  { content: 'bash'; }
  pre.src-csh:before  { content: 'csh'; }
  pre.src-ash:before  { content: 'ash'; }
  pre.src-dash:before  { content: 'dash'; }
  pre.src-ksh:before  { content: 'ksh'; }
  pre.src-mksh:before  { content: 'mksh'; }
  pre.src-posh:before  { content: 'posh'; }
  /* Additional Emacs modes also supported by the LaTeX listings package */
  pre.src-ada:before { content: 'Ada'; }
  pre.src-asm:before { content: 'Assembler'; }
  pre.src-caml:before { content: 'Caml'; }
  pre.src-delphi:before { content: 'Delphi'; }
  pre.src-html:before { content: 'HTML'; }
  pre.src-idl:before { content: 'IDL'; }
  pre.src-mercury:before { content: 'Mercury'; }
  pre.src-metapost:before { content: 'MetaPost'; }
  pre.src-modula-2:before { content: 'Modula-2'; }
  pre.src-pascal:before { content: 'Pascal'; }
  pre.src-ps:before { content: 'PostScript'; }
  pre.src-prolog:before { content: 'Prolog'; }
  pre.src-simula:before { content: 'Simula'; }
  pre.src-tcl:before { content: 'tcl'; }
  pre.src-tex:before { content: 'TeX'; }
  pre.src-plain-tex:before { content: 'Plain TeX'; }
  pre.src-verilog:before { content: 'Verilog'; }
  pre.src-vhdl:before { content: 'VHDL'; }
  pre.src-xml:before { content: 'XML'; }
  pre.src-nxml:before { content: 'XML'; }
  /* add a generic configuration mode; LaTeX export needs an additional
     (add-to-list 'org-latex-listings-langs '(conf " ")) in .emacs */
  pre.src-conf:before { content: 'Configuration File'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.org-right  { text-align: center;  }
  th.org-left   { text-align: center;   }
  th.org-center { text-align: center; }
  td.org-right  { text-align: right;  }
  td.org-left   { text-align: left;   }
  td.org-center { text-align: center; }
  dt { font-weight: bold; }
  .footpara { display: inline; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .equation-container {
    display: table;
    text-align: center;
    width: 100%;
  }
  .equation {
    vertical-align: middle;
  }
  .equation-label {
    display: table-cell;
    text-align: right;
    vertical-align: middle;
  }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  .org-svg { }
</style>
<script>
// @license magnet:?xt=urn:btih:1f739d935676111cfff4b4693e3816e664797050&amp;dn=gpl-3.0.txt GPL-v3-or-Later
     function CodeHighlightOn(elem, id)
     {
       var target = document.getElementById(id);
       if(null != target) {
         elem.classList.add("code-highlighted");
         target.classList.add("code-highlighted");
       }
     }
     function CodeHighlightOff(elem, id)
     {
       var target = document.getElementById(id);
       if(null != target) {
         elem.classList.remove("code-highlighted");
         target.classList.remove("code-highlighted");
       }
     }
// @license-end
</script>
</head>
<body>
<div id="org-div-home-and-up">
 <a accesskey="h" href="./index.html"> UP </a>
 |
 <a accesskey="H" href="../index.html"> HOME </a>
</div><div id="content" class="content">
<h1 class="title"> 用org-mode配置所有dotfile</h1>
<div id="table-of-contents" role="doc-toc">
<h2>Table of Contents</h2>
<div id="text-table-of-contents" role="doc-toc">
<ul>
<li><a href="#orge093a16">用org-babel配置所有的dotfile</a>
<ul>
<li><a href="#org4b0f12e">Org-babel</a></li>
<li><a href="#org518e523">将一个代码块的执行结果或返回值传递给另一个代码块</a></li>
<li><a href="#orgb2e1e6a">每次保存这个文件自动执行 <code>org-bable-tangle</code></a></li>
</ul>
</li>
<li><a href="#org1013e97">Emacs</a>
<ul>
<li><a href="#org988671f">显示emacs启动时间</a></li>
<li><a href="#orgd705968">Native Compilation</a></li>
<li><a href="#orgd50b671">包管理工具</a></li>
<li><a href="#org8481fd4">默认编码格式</a></li>
<li><a href="#org5b99cb8">Server Mode</a></li>
<li><a href="#org58f28b7">查看启动过程耗时</a></li>
<li><a href="#orgcdb7239">基本的设置</a>
<ul>
<li><a href="#orgccab7f1">取消初始界面的菜单,工具栏,滚动条等</a></li>
<li><a href="#org6702e51">优化滚动的表现</a></li>
<li><a href="#orge41755f">窗口透明度和最大化</a></li>
<li><a href="#orgd6cf8d6">字体设置</a></li>
<li><a href="#orgc6556f5">状态栏设置</a></li>
<li><a href="#org51169f1">更好的括号展示</a></li>
<li><a href="#org7e30148">doom主题</a></li>
<li><a href="#org2632d72">行号设置</a></li>
<li><a href="#orgc96f37b">Workspace</a></li>
<li><a href="#orge25f7fa">NOtifications</a></li>
<li><a href="#org1f7668d">Auto-Saving changed files</a></li>
<li><a href="#org4345793">Auto-Reverting Changed Files</a></li>
<li><a href="#org2421bc9">UI Toggles</a></li>
</ul>
</li>
<li><a href="#org1665edb">按键设置</a>
<ul>
<li><a href="#org5f6546b">查看使用了哪些命令</a></li>
<li><a href="#orgd7f8975">取消ESC作为 <code>M-x</code> 的前缀按键,将其设置为和Vim类似的退出命令 <code>C-g</code></a></li>
<li><a href="#org7cdc4d3">取消 <code>C-u</code> 作为 <code>[count]</code> 的作用,因为要使用Vim的 <code>C-u</code> 做翻页</a></li>
<li><a href="#org2ed22ce">Evil</a></li>
</ul>
</li>
<li><a href="#org4e18bad">编辑设置</a>
<ul>
<li><a href="#org8a0b084">Tab Width</a></li>
<li><a href="#org56e8374">Use spaces instead of tabs for indnetation</a></li>
<li><a href="#orgfdcb5cd">Commenting Lines</a></li>
<li><a href="#org5f84849">Automatically Clean whitespace</a></li>
</ul>
</li>
<li><a href="#orgfed885a">按键面板</a></li>
<li><a href="#org9c9c9fc">按键绑定</a>
<ul>
<li><a href="#org8462ce6">general.el 用来管理快捷键绑定</a></li>
<li><a href="#org82c2120">hydra 来绑定快捷键</a></li>
<li><a href="#org9f686d3">Evil 快捷键绑定</a></li>
</ul>
</li>
<li><a href="#orgb9c142c">文件浏览器</a></li>
<li><a href="#org3575224">Minibuffer补全(Emacs 命令补全)</a></li>
<li><a href="#org1bcb17f">Development</a>
<ul>
<li><a href="#org2f63bfe">Lsp-mode</a></li>
<li><a href="#orgbc6f352">Python_settings</a></li>
<li><a href="#orgc6d1fd0">Format python code</a></li>
<li><a href="#org7809db2">Format All</a></li>
<li><a href="#org8dce4b8">Elpy &#x2013; IDE for py</a></li>
</ul>
</li>
<li><a href="#org25bfb6e">Orgmode</a>
<ul>
<li><a href="#org0626849">CodeBlock模版</a></li>
<li><a href="#org4f3858a">outline</a></li>
<li><a href="#orgf9c17c0">Org-roam</a></li>
<li><a href="#orgc62cb83">Org-mode</a></li>
<li><a href="#orgd51d39a">Pomodoro</a></li>
<li><a href="#orga5c1b4a">tracking habits</a></li>
<li><a href="#orgad48171">Auto insert newline</a></li>
<li><a href="#orgab1b849">org-capture-template</a></li>
<li><a href="#org213800e">Encrypt</a></li>
</ul>
</li>
<li><a href="#org902652f">Productivity</a>
<ul>
<li><a href="#org729b7bd">括号补全</a></li>
<li><a href="#orgf9303da">Snippet</a></li>
</ul>
</li>
<li><a href="#orgef02dae">Ebook</a></li>
<li><a href="#orgce48b51">Magit</a></li>
<li><a href="#org1797fea">Save Emacs Sessions</a></li>
</ul>
</li>
</ul>
</div>
</div>

<div id="outline-container-orge093a16" class="outline-2">
<h2 id="orge093a16">用org-babel配置所有的dotfile</h2>
<div class="outline-text-2" id="text-orge093a16">
</div>
<div id="outline-container-org4b0f12e" class="outline-3">
<h3 id="org4b0f12e">Org-babel</h3>
<div class="outline-text-3" id="text-org4b0f12e">
<p>
org-mode 可以执行代码块用的是org-babel的功能
<code>org-babel-tangle(C-c C-v t)</code> 是一个macs内置的方法,用来将org文件中的代码块写入到指定的文件中,理论上可以利用这个方法配置一切基于文本文件配置的软件
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp">     (message <span style="color: #c3e88d;">"some text "</span>)
</pre>
</div>

<blockquote>
<p>
要让这个org文件能起到配置作用:
</p>
<ul class="org-ul">
<li>头信息中配置好代码块tangle的目标文件</li>
<li>org-babel 默认启用emacs-lisp,想对其他语言的代码块也生效需要配置 <code>org-babel-do-load-languages</code></li>
</ul>
</blockquote>

<p>
上面的例子里在代码块的 <code>:tangle</code> 属性中设置了目标文件的位置，如果代码块很多，总不能每一个都手动去指定吧，这里就可以用到org文件的头信息，
<code>#+PROPERTY: header-args:emacs-lisp :tangle ~/.emacs.d/init.el</code>,就像这个文件的头信息一样，将 emacs-lisp代码块的 <code>tangle</code> 属性设置为一个默认值，这个属性被所有 emacs-lisp 代码块继承.
和OB思想一样，如果代码块另外指定了目标文件的位置，那就会使用指定的，而不是头信息的默认属性.
</p>
</div>
</div>

<div id="outline-container-org518e523" class="outline-3">
<h3 id="org518e523">将一个代码块的执行结果或返回值传递给另一个代码块</h3>
<div class="outline-text-3" id="text-org518e523">
<p>
eamcs默认执行的只有emacs-lisp语言的代码块,开启其他语言的代码块执行功能需要添加配置:
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp">     (org-babel-do-load-languages
      'org-babel-load-languages
      '((emacs-lisp . t)
        (python . t)
        (dot . t)
        (shell . t)
        <span style="color: #676E95;">;; </span><span style="color: #676E95;">(browser . t)</span>
        (js . t)
        ))
     (<span style="color: #89DDFF;">push</span> '(<span style="color: #c3e88d;">"conf-unix"</span> . conf-unix) org-src-lang-modes)
     <span style="color: #676E95;">;; </span><span style="color: #676E95;">&#27599;&#27425;&#25191;&#34892;&#19981;&#20250;&#35810;&#38382;&#26159;&#21542;&#25191;&#34892;</span>
     (<span style="color: #89DDFF;">setq</span> org-confirm-babel-evaluate nil)
     <span style="color: #676E95;">;;</span><span style="color: #676E95;">(message "hello")</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-python" id="org47fd547">     <span style="color: #89DDFF;">import</span> random
     <span style="color: #89DDFF;">return</span> random.randint(0,100)
</pre>
</div>
<p>
上面的代码块有名字 <code>block_name</code>,下面载配置文件的过程就是执行一系列emacs-lisp的过程,所以有时候顺序很重要
</p>
</div>
</div>

<div id="outline-container-orgb2e1e6a" class="outline-3">
<h3 id="orgb2e1e6a">每次保存这个文件自动执行 <code>org-bable-tangle</code></h3>
<div class="outline-text-3" id="text-orgb2e1e6a">
<div class="org-src-container">
<pre class="src src-emacs-lisp">     (<span style="color: #89DDFF;">defun</span> <span style="color: #82aaff;">efs/org-babel-tangle-config</span>()
       (<span style="color: #89DDFF;">when</span> (string-equal (buffer-file-name)
                           (expand-file-name <span style="color: #c3e88d;">"~/MyLife/Emacs/DotFiles.org"</span>))
         (<span style="color: #89DDFF;">let</span> ((org-confirm-babel-evaluate nil))
           (org-babel-tangle))))
     (add-hook 'org-mode-hook (<span style="color: #89DDFF;">lambda</span> () (add-hook 'after-save-hook #'efs/org-babel-tangle-config)))
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org1013e97" class="outline-2">
<h2 id="org1013e97">Emacs</h2>
<div class="outline-text-2" id="text-org1013e97">
</div>
<div id="outline-container-org988671f" class="outline-3">
<h3 id="org988671f">显示emacs启动时间</h3>
<div class="outline-text-3" id="text-org988671f">
<div class="org-src-container">
<pre class="src src-emacs-lisp">     <span style="color: #676E95;">;; </span><span style="color: #676E95;">The default is 800 kilobytes.  Measured in bytes.</span>
     (<span style="color: #89DDFF;">setq</span> gc-cons-threshold (* 50 1000 1000))

     <span style="color: #676E95;">;; </span><span style="color: #676E95;">Profile emacs startup</span>
     (add-hook 'emacs-startup-hook
               (<span style="color: #89DDFF;">lambda</span> ()
                 (message <span style="color: #c3e88d;">"*** Emacs loaded in %s with %d garbage collections."</span>
                          (format <span style="color: #c3e88d;">"%.2f seconds"</span>
                                  (float-time
                                   (time-subtract after-init-time before-init-time)))
                          gcs-done)))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgd705968" class="outline-3">
<h3 id="orgd705968">Native Compilation</h3>
<div class="outline-text-3" id="text-orgd705968">
<div class="org-src-container">
<pre class="src src-emacs-lisp">     <span style="color: #676E95;">;; </span><span style="color: #676E95;">Silence compiler warnings as they can be pretty disruptive</span>
     (<span style="color: #89DDFF;">setq</span> comp-async-report-warnings-errors nil)
</pre>
</div>
</div>
</div>

<div id="outline-container-orgd50b671" class="outline-3">
<h3 id="orgd50b671">包管理工具</h3>
<div class="outline-text-3" id="text-orgd50b671">
<blockquote>
<p>
这是写给我自己记录用的,免得过些时候忘了写这个配置文件时候的这些想法,看到这里记得把这写碎碎念移到介绍emacs包管理工具或其他合适的地方.
Emacs原生状态又丑由low,完全是上世纪的文本编辑器风格.那为啥会有那么多人用?还被成为是"神之编辑器"?我的使用感受是因为它有强大的社区支持和高度可定制.
Vim也是可定制,但vimscript给我个人的感觉是真的难用,又像是语言又像是配置文件,但emacs不同,它的配置语言emacs-lisp是lisp方言,配置emacs感觉就像是
在自己编写适合自己的编辑器的程序一样,怪不得之前看到一篇写lisp为什么现在不是热门语言的文章说lisp是一门创造其他编程语言的编程语言.基于这种强大的可定制能力,
Emacs的社区成员为我们提供了许多强大的配置,这些配置被整合成一个个包放在Melpa,Elpa等仓库里,类似插件形式可供用户下载使用,Emacs自带的包管理工具我只用过图形界面的,也就是点点点来安装包,
但用点点点的形式不能每次更换环境都靠点点点吧,看了下emacswiki,里面也有emacs自带的包管理工具的配置,好不好用不知道,反正我看的一些教程里都没用.网上emacs大神用的全是可再现的配置文件,跟着大神走总没错吧,在追求性价比这方面,搞编程(懒)的人总是有特殊的想法,
大神的配置总是要达到一次配置,多次使用的目标.
<a href="https://github.com/jwiegley/use-package">use-package</a>就是一位大神因为使用的包太多创建出来的一个包管理工具,尽管大神说这个是用来更好的配置他那80多个包的而不是一个包管理工具,但也是能当包管理工具使的.
我这个配置文件是跟着<a href="https://github.com/daviwil">David Wilson</a>的系列直播视频和他的配置文件学的,尽管他的包管理工具已经换成 <a href="https://github.com/raxod502/straight.el#features">straight.el</a> 了, 但暂时我还是先用着 <code>use-package</code> 再说,而且看介绍, <code>straight.el</code> 是有 <code>use-package</code> 集成的,将来再换应该不难,看David的配置文件也只加了一点额外配置,其他基本没怎么变.
上面是不正经的碎碎念,下面就是正经的配置文件
</p>
</blockquote>

<div class="org-src-container">
<pre class="src src-emacs-lisp">     <span style="color: #676E95;">;; </span><span style="color: #676E95;">&#36825;&#20010;package &#23601;&#26159;emacs&#40664;&#35748;&#30340;&#21253;&#31649;&#29702;&#24037;&#20855;&#20102;(&#21543;)</span>
     (<span style="color: #89DDFF;">require</span> '<span style="color: #f78c6c;">package</span>)   <span style="color: #676E95;">;; </span><span style="color: #676E95;">&#36825;&#37324;&#30340;require &#23601;&#20687;&#26159;python&#37324;&#30340;import&#21543;,package&#23601;&#20687;&#26159;module</span>

     <span style="color: #676E95;">;; </span><span style="color: #676E95;">&#35774;&#32622;&#21253;&#20179;&#24211;</span>
     (<span style="color: #89DDFF;">setq</span> package-archives '((<span style="color: #c3e88d;">"malpa"</span> . <span style="color: #c3e88d;">"https://melpa.org/packages/"</span>)
                              (<span style="color: #c3e88d;">"org"</span> . <span style="color: #c3e88d;">"https://orgmode.org/elpa/"</span>)
                              (<span style="color: #c3e88d;">"elpa"</span> . <span style="color: #c3e88d;">"https://elpa.gnu.org/packages/"</span>)))

     <span style="color: #676E95;">;; </span><span style="color: #676E95;">&#35774;&#32622;&#23436;&#20179;&#24211;&#21518;&#35201;&#21021;&#22987;&#21270;&#19968;&#19979;&#20179;&#24211;,&#20877;&#21435;&#25191;&#34892;&#19979;&#36733;&#21253;&#25110;&#32773;&#20854;&#20182;&#21160;&#20316;,&#20351;&#29992;&#36807;linux&#21253;&#31649;&#29702;&#24037;&#20855;&#30340;&#24212;&#35813;&#19981;&#38476;&#29983;</span>
     (package-initialize)
     (<span style="color: #89DDFF;">unless</span> package-archive-contents   <span style="color: #676E95;">;;</span><span style="color: #676E95;">&#22914;&#26524;&#28304;&#22836;&#20179;&#24211;&#30340;&#20449;&#24687;&#27809;&#26377;&#32531;&#23384;&#21040;&#26412;&#22320;&#23601;&#25191;&#34892;package-refresh-contents&#32531;&#23384;&#19968;&#19979;,&#30456;&#24403;&#19982;apt update&#21543;</span>
       (package-refresh-contents))
     <span style="color: #676E95;">;; </span><span style="color: #676E95;">Initialize use-package on non-Linux platforms,&#36825;&#26159;&#22312;&#38750;linux&#24179;&#21488;&#19978;,&#21487;&#33021;use-package&#19981;&#26159;emacs&#20869;&#32622;&#30340;&#21253;,&#37027;&#23601;&#38656;&#35201;&#20808;&#19979;&#36733;&#25165;&#33021;&#20351;&#29992;</span>
     (<span style="color: #89DDFF;">unless</span> (package-installed-p 'use-package) <span style="color: #676E95;">;;</span><span style="color: #676E95;">&#26816;&#27979;&#19968;&#19979;use-package&#26159;&#21542;&#23433;&#35013;&#20102;,&#27809;&#35013;&#23601;&#35013;&#19968;&#19979;&#21591;</span>
       (package-install 'use-package))

     <span style="color: #676E95;">;; </span><span style="color: #676E95;">&#21040;&#36825;&#37324;&#23601;&#21487;&#20197;&#24320;&#22987;&#20351;&#29992; use-package &#20102;</span>
     (<span style="color: #89DDFF;">require</span> '<span style="color: #f78c6c;">use-package</span>)
     <span style="color: #676E95;">;; </span><span style="color: #676E95;">&#40664;&#35748;&#21152;&#36733;&#27599;&#19968;&#20010;use-package&#31649;&#29702;&#30340;&#21253;,&#31561;&#20110;&#26159;&#27599;&#19968;&#20010;use-package&#37324;&#21152;&#19978;:ensure</span>
     (<span style="color: #89DDFF;">setq</span> use-package-always-ensure t)
</pre>
</div>
</div>
</div>

<div id="outline-container-org8481fd4" class="outline-3">
<h3 id="org8481fd4">默认编码格式</h3>
<div class="outline-text-3" id="text-org8481fd4">
<p>
避免windows上可能会出现的编码错误
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp">     (set-default-coding-systems 'utf-8)
</pre>
</div>
</div>
</div>
<div id="outline-container-org5b99cb8" class="outline-3">
<h3 id="org5b99cb8">Server Mode</h3>
<div class="outline-text-3" id="text-org5b99cb8">
<div class="org-src-container">
<pre class="src src-emacs-lisp">     (server-start)
</pre>
</div>
</div>
</div>
<div id="outline-container-org58f28b7" class="outline-3">
<h3 id="org58f28b7">查看启动过程耗时</h3>
<div class="outline-text-3" id="text-org58f28b7">
<div class="org-src-container">
<pre class="src src-emacs-lisp">     (<span style="color: #89DDFF;">use-package</span> <span style="color: #f78c6c;">benchmark-init</span>
       <span style="color: #82aaff;">:ensure</span> t
       <span style="color: #82aaff;">:config</span>
       <span style="color: #676E95;">;; </span><span style="color: #676E95;">To disable collection of benchmark data after init is done.</span>
       (add-hook 'after-init-hook 'benchmark-init/deactivate))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgcdb7239" class="outline-3">
<h3 id="orgcdb7239">基本的设置</h3>
<div class="outline-text-3" id="text-orgcdb7239">
</div>
<div id="outline-container-orgccab7f1" class="outline-4">
<h4 id="orgccab7f1">取消初始界面的菜单,工具栏,滚动条等</h4>
<div class="outline-text-4" id="text-orgccab7f1">
<div class="org-src-container">
<pre class="src src-emacs-lisp">      (<span style="color: #89DDFF;">setq</span> inhibit-startup-message t)
      (scroll-bar-mode 0)              <span style="color: #676E95;">;</span><span style="color: #676E95;">Disable visible scrollbar</span>
      (tool-bar-mode 0)                <span style="color: #676E95;">;</span><span style="color: #676E95;">Disable the toolbar</span>
      (tooltip-mode 0)                 <span style="color: #676E95;">;</span><span style="color: #676E95;">Disable tooltips</span>
      (set-fringe-mode 10)             <span style="color: #676E95;">;</span><span style="color: #676E95;">Give some breathing room</span>
      (menu-bar-mode 0)                <span style="color: #676E95;">;</span><span style="color: #676E95;">Disale the menu bar</span>
      <span style="color: #676E95;">;;</span><span style="color: #676E95;">set up the visible bell</span>
      (<span style="color: #89DDFF;">setq</span> visible-bell t)
</pre>
</div>
</div>
</div>

<div id="outline-container-org6702e51" class="outline-4">
<h4 id="org6702e51">优化滚动的表现</h4>
<div class="outline-text-4" id="text-org6702e51">
<div class="org-src-container">
<pre class="src src-emacs-lisp">      (<span style="color: #89DDFF;">setq</span> mouse-wheel-scroll-amount '(1 ((shift) . 1))) <span style="color: #676E95;">;; </span><span style="color: #676E95;">one line at a time</span>
      (<span style="color: #89DDFF;">setq</span> mouse-wheel-progressive-speed nil) <span style="color: #676E95;">;; </span><span style="color: #676E95;">don't accelerate scrolling</span>
      (<span style="color: #89DDFF;">setq</span> mouse-wheel-follow-mouse 't) <span style="color: #676E95;">;; </span><span style="color: #676E95;">scroll window under mouse</span>
      (<span style="color: #89DDFF;">setq</span> scroll-step 1) <span style="color: #676E95;">;; </span><span style="color: #676E95;">keyboard scroll one line at a time</span>
      (<span style="color: #89DDFF;">setq</span> use-dialog-box nil) <span style="color: #676E95;">;; </span><span style="color: #676E95;">Disable dialog boxes since they weren't working in Mac OSX</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orge41755f" class="outline-4">
<h4 id="orge41755f">窗口透明度和最大化</h4>
<div class="outline-text-4" id="text-orge41755f">
<div class="org-src-container">
<pre class="src src-emacs-lisp">      (set-frame-parameter (selected-frame) 'alpha '(90 . 90))
      (add-to-list 'default-frame-alist '(alpha . (90 . 90)))
      (set-frame-parameter (selected-frame) 'fullscreen 'maximized)
      (add-to-list 'default-frame-alist '(fullscreen . maximized))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgd6cf8d6" class="outline-4">
<h4 id="orgd6cf8d6">字体设置</h4>
<div class="outline-text-4" id="text-orgd6cf8d6">
<div class="org-src-container">
<pre class="src src-emacs-lisp">      <span style="color: #676E95;">;; </span><span style="color: #676E95;">'han &#30340;&#33050;&#26412;&#31867;&#22411;&#23545;&#24212;CJK&#19977;&#31181;&#35821;&#35328;&#30340;&#23383;&#31526; 'latin &#23545;&#24212;&#33521;&#25991;&#23383;&#31526;</span>
      <span style="color: #676E95;">;; </span><span style="color: #676E95;">(set-fontset-font "fontset-default" 'han "Xiaolai Mono SC")</span>

      (set-fontset-font <span style="color: #c3e88d;">"fontset-default"</span> 'han <span style="color: #c3e88d;">"AR PL UKai CN"</span>)
      <span style="color: #676E95;">;; </span><span style="color: #676E95;">Ubuntu Mono &#23383;&#20307;&#33021;&#24456;&#22909;&#30340;&#21644;&#20013;&#25991;1:2&#31561;&#23485;,:font &#23646;&#24615;&#30340;&#20351;&#29992;&#21644;.Xresource &#37324;&#23383;&#20307;&#30340;&#20351;&#29992;&#26041;&#24335;&#19968;&#26679;,&#21482;&#19981;&#36807;&#19981;&#33021;&#25351;&#23450;&#22810;&#20010;&#23383;&#20307;</span>
      (set-face-attribute 'default nil <span style="color: #82aaff;">:font</span> <span style="color: #c3e88d;">"Ubuntu Mono:pixelsize=20"</span>)
</pre>
</div>
</div>
</div>

<div id="outline-container-orgc6556f5" class="outline-4">
<h4 id="orgc6556f5">状态栏设置</h4>
<div class="outline-text-4" id="text-orgc6556f5">
</div>
<ul class="org-ul">
<li><a id="org856497d"></a>Basic Customization<br />
<div class="outline-text-5" id="text-org856497d">
<div class="org-src-container">
<pre class="src src-emacs-lisp">       (<span style="color: #89DDFF;">setq</span> display-time-format <span style="color: #c3e88d;">"%H:%M %p %Y-%m-%d %j"</span>
             dispaly-time-default-load-average nil)
       <span style="color: #676E95;">;;</span><span style="color: #676E95;">(setq display-time-format "%l:%M %p %b %y"</span>
       <span style="color: #676E95;">;;       </span><span style="color: #676E95;">dispaly-time-default-load-average nil)</span>
</pre>
</div>
</div>
</li>

<li><a id="org1661946"></a>Enable mode Diminishing<br />
<div class="outline-text-5" id="text-org1661946">
<p>
The diminish package hides pesky minor modes from the modelines.
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp">       (<span style="color: #89DDFF;">use-package</span> <span style="color: #f78c6c;">diminish</span>)
</pre>
</div>
</div>
</li>

<li><a id="org488eed7"></a>Smart mode line<br />
<div class="outline-text-5" id="text-org488eed7">
<div class="org-src-container">
<pre class="src src-emacs-lisp">       (<span style="color: #89DDFF;">use-package</span> <span style="color: #f78c6c;">smart-mode-line</span>
         <span style="color: #82aaff;">:disabled</span>
         <span style="color: #82aaff;">:if</span> dw/is-termux
         <span style="color: #82aaff;">:config</span>
         (<span style="color: #89DDFF;">setq</span> sml/no-confirm-load-theme t)
         (sml/setup)
         (sml/apply-theme 'respectful)  <span style="color: #676E95;">; </span><span style="color: #676E95;">Respect the theme colors</span>
         (<span style="color: #89DDFF;">setq</span> sml/mode-width 'right
               sml/name-width 60)

         (<span style="color: #89DDFF;">setq-default</span> mode-line-format
                       `(<span style="color: #c3e88d;">"%e"</span>
                         ,(<span style="color: #89DDFF;">when</span> dw/exwm-enabled
                            '(<span style="color: #82aaff;">:eval</span> (format <span style="color: #c3e88d;">"[%d] "</span> exwm-workspace-current-index)))
                         mode-line-front-space
                         evil-mode-line-tag
                         mode-line-mule-info
                         mode-line-client
                         mode-line-modified
                         mode-line-remote
                         mode-line-frame-identification
                         mode-line-buffer-identification
                         sml/pos-id-separator
                         (vc-mode vc-mode)
                         <span style="color: #c3e88d;">" "</span>
                                               <span style="color: #676E95;">;</span><span style="color: #676E95;">mode-line-position</span>
                         sml/pre-modes-separator
                         mode-line-modes
                         <span style="color: #c3e88d;">" "</span>
                         mode-line-misc-info))
         (<span style="color: #89DDFF;">setq</span> rm-excluded-modes
               (mapconcat
                'identity
                                               <span style="color: #676E95;">; </span><span style="color: #676E95;">These names must start with a space!</span>
                '(<span style="color: #c3e88d;">" GitGutter"</span> <span style="color: #c3e88d;">" MRev"</span> <span style="color: #c3e88d;">" company"</span>
                  <span style="color: #c3e88d;">" Helm"</span> <span style="color: #c3e88d;">" Undo-Tree"</span> <span style="color: #c3e88d;">" Projectile.*"</span> <span style="color: #c3e88d;">" Z"</span> <span style="color: #c3e88d;">" Ind"</span>
                  <span style="color: #c3e88d;">" Org-Agenda.*"</span> <span style="color: #c3e88d;">" ElDoc"</span> <span style="color: #c3e88d;">" SP/s"</span> <span style="color: #c3e88d;">" cider.*"</span>)
                <span style="color: #c3e88d;">"</span><span style="color: #89DDFF; font-weight: bold;">\\</span><span style="color: #89DDFF; font-weight: bold;">|</span><span style="color: #c3e88d;">"</span>)))
</pre>
</div>
</div>
</li>
<li><a id="org78d995e"></a>Doom modeline<br />
<div class="outline-text-5" id="text-org78d995e">
<div class="org-src-container">
<pre class="src src-emacs-lisp">       (<span style="color: #89DDFF;">use-package</span> <span style="color: #f78c6c;">minions</span>           <span style="color: #676E95;">; </span><span style="color: #676E95;">&#38544;&#34255;&#24403;&#21069;&#21551;&#29992;&#20102;&#21738;&#20123;minor mode</span>
         <span style="color: #82aaff;">:hook</span> (doom-modeline-mode . minions-mode))

       (<span style="color: #89DDFF;">use-package</span> <span style="color: #f78c6c;">all-the-icons</span>)    <span style="color: #676E95;">; </span><span style="color: #676E95;">modeline &#27491;&#24120;&#23637;&#31034;&#38656;&#35201;&#35768;&#22810;&#22270;&#26631;&#23383;&#20307;&#25903;&#25345;,&#23383;&#20307;&#38656;&#35201;&#20174;github&#19979;&#36733;&#23433;&#35013;</span>

       (<span style="color: #89DDFF;">use-package</span> <span style="color: #f78c6c;">doom-modeline</span>

         <span style="color: #82aaff;">:init</span>
         (doom-modeline-mode 1)
         <span style="color: #676E95;">;;</span><span style="color: #676E95;">:after eshell                ; &#30830;&#20445;&#21551;&#21160;eshell&#21518;&#21551;&#21160;doom-modeline,&#23613;&#31649;manjaro-i3&#19978;&#27491;&#20351;&#29992;&#30340;emacs&#19981;&#23384;&#22312;&#36825;&#20010;&#38382;&#39064;</span>
         <span style="color: #82aaff;">:custom-face</span>
         (mode-line ((t (<span style="color: #82aaff;">:height</span> 0.85))))
         (mode-line-inactive ((t (<span style="color: #82aaff;">:height</span> 0.85))))
         <span style="color: #82aaff;">:custom</span>
         (doom-modeline-height 15)
         (doom-modeline-bar-width 6)
         (doom-modeline-lsp t)
         (doom-modeline-github nil)
         (doom-modeline-mu4e nil)
         (doom-modeline-irc nil)
         (doom-modeline-minor-modes t)
         (doom-modeline-persp-name nil)
         (doom-modeline-buffer-file-name-style 'truncate-except-project)
         (doom-modeline-major-mode-icon nil)
         )
</pre>
</div>
</div>
</li>
</ul>
</div>

<div id="outline-container-org51169f1" class="outline-4">
<h4 id="org51169f1">更好的括号展示</h4>
<div class="outline-text-4" id="text-org51169f1">
<div class="org-src-container">
<pre class="src src-emacs-lisp">      <span style="color: #676E95;">;; </span><span style="color: #676E95;">&#25353;&#19981;&#21516;&#39068;&#33394;&#26174;&#31034;&#25104;&#23545;&#25324;&#21495;</span>
      (<span style="color: #89DDFF;">use-package</span> <span style="color: #f78c6c;">rainbow-delimiters</span>
        <span style="color: #82aaff;">:hook</span> (prog-mode . rainbow-delimiters-mode))
      <span style="color: #676E95;">;;</span><span style="color: #676E95;">&#39640;&#20142;&#24403;&#21069;&#20809;&#26631;&#19979;&#30340;&#25324;&#21495;&#23545;&#24212;&#30340;&#25324;&#21495;</span>
      (<span style="color: #89DDFF;">use-package</span> <span style="color: #f78c6c;">paren</span>
        <span style="color: #82aaff;">:config</span>
        (set-face-attribute 'show-paren-match-expression nil <span style="color: #82aaff;">:background</span> <span style="color: #c3e88d;">"#FFFFFF"</span>)
        (show-paren-mode 1))

</pre>
</div>
</div>
</div>

<div id="outline-container-org7e30148" class="outline-4">
<h4 id="org7e30148">doom主题</h4>
<div class="outline-text-4" id="text-org7e30148">
<div class="org-src-container">
<pre class="src src-emacs-lisp">      (<span style="color: #89DDFF;">use-package</span> <span style="color: #f78c6c;">doom-themes</span>
        <span style="color: #82aaff;">:init</span>
        (load-theme 'doom-palenight t)
        <span style="color: #82aaff;">:config</span>
        (doom-themes-visual-bell-config))
</pre>
</div>
</div>
</div>

<div id="outline-container-org2632d72" class="outline-4">
<h4 id="org2632d72">行号设置</h4>
<div class="outline-text-4" id="text-org2632d72">
<div class="org-src-container">
<pre class="src src-emacs-lisp">
      (column-number-mode)
      <span style="color: #676E95;">;; </span><span style="color: #676E95;">Disable line numbers for some modes</span>
      (<span style="color: #89DDFF;">dolist</span> (mode '(term-mode-hook
                      shell-mode-hook
                      eshell-mode-hook
                      markdown-mode-hook
                      org-mode-hook))
        (add-hook mode (<span style="color: #89DDFF;">lambda</span> () (display-line-numbers-mode 0))))

      (<span style="color: #89DDFF;">dolist</span> (mode '(text-mode-hook
                      prog-mode-hook
                      conf-mode-hook))
        (add-hook mode (<span style="color: #89DDFF;">lambda</span> () (display-line-numbers-mode 1))))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgc96f37b" class="outline-4">
<h4 id="orgc96f37b">Workspace</h4>
<div class="outline-text-4" id="text-orgc96f37b">
<div class="org-src-container">
<pre class="src src-emacs-lisp">      (<span style="color: #89DDFF;">use-package</span> <span style="color: #f78c6c;">perspective</span>
        <span style="color: #82aaff;">:demand</span> t
        <span style="color: #82aaff;">:bind</span> ((<span style="color: #c3e88d;">"C-M-k"</span> . persp-switch)
               (<span style="color: #c3e88d;">"C-M-n"</span> . persp-next)
               (<span style="color: #c3e88d;">"C-x k"</span> . persp-kill-buffer*))
        <span style="color: #82aaff;">:custom</span>
        (persp-initial-frame-name <span style="color: #c3e88d;">"Main"</span>)
        <span style="color: #82aaff;">:config</span>
        <span style="color: #676E95;">;; </span><span style="color: #676E95;">Running `</span><span style="color: #f78c6c;">persp-mode</span><span style="color: #676E95;">' multiple times resets the perspective list...</span>
        (<span style="color: #89DDFF;">unless</span> (equal persp-mode t)
          (persp-mode)))
</pre>
</div>
</div>
</div>
<div id="outline-container-orge25f7fa" class="outline-4">
<h4 id="orge25f7fa">NOtifications</h4>
<div class="outline-text-4" id="text-orge25f7fa">
<div class="org-src-container">
<pre class="src src-emacs-lisp">      (<span style="color: #89DDFF;">use-package</span> <span style="color: #f78c6c;">alert</span>
        <span style="color: #82aaff;">:commands</span> alert
        <span style="color: #82aaff;">:config</span>
        (<span style="color: #89DDFF;">setq</span> alert-default-style 'notifications))
</pre>
</div>
</div>
</div>
<div id="outline-container-org1f7668d" class="outline-4">
<h4 id="org1f7668d">Auto-Saving changed files</h4>
<div class="outline-text-4" id="text-org1f7668d">
<div class="org-src-container">
<pre class="src src-emacs-lisp">      (<span style="color: #89DDFF;">use-package</span> <span style="color: #f78c6c;">super-save</span>
        <span style="color: #82aaff;">:defer</span> 1
        <span style="color: #82aaff;">:diminish</span> super-save-mode
        <span style="color: #82aaff;">:config</span>
        (super-save-mode +1)
        (<span style="color: #89DDFF;">setq</span> super-save-auto-save-when-idle t) )
</pre>
</div>
</div>
</div>
<div id="outline-container-org4345793" class="outline-4">
<h4 id="org4345793">Auto-Reverting Changed Files</h4>
<div class="outline-text-4" id="text-org4345793">
<div class="org-src-container">
<pre class="src src-emacs-lisp">      (<span style="color: #89DDFF;">setq</span> global-auto-revert-non-file-buffers t)
      (global-auto-revert-mode 1)
</pre>
</div>
</div>
</div>
<div id="outline-container-org2421bc9" class="outline-4">
<h4 id="org2421bc9">UI Toggles</h4>
<div class="outline-text-4" id="text-org2421bc9">
<div class="org-src-container">
<pre class="src src-emacs-lisp">
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-org1665edb" class="outline-3">
<h3 id="org1665edb">按键设置</h3>
<div class="outline-text-3" id="text-org1665edb">
</div>
<div id="outline-container-org5f6546b" class="outline-4">
<h4 id="org5f6546b">查看使用了哪些命令</h4>
<div class="outline-text-4" id="text-org5f6546b">
<div class="org-src-container">
<pre class="src src-emacs-lisp">      (<span style="color: #89DDFF;">use-package</span> <span style="color: #f78c6c;">command-log-mode</span>)
</pre>
</div>
</div>
</div>

<div id="outline-container-orgd7f8975" class="outline-4">
<h4 id="orgd7f8975">取消ESC作为 <code>M-x</code> 的前缀按键,将其设置为和Vim类似的退出命令 <code>C-g</code></h4>
<div class="outline-text-4" id="text-orgd7f8975">
<div class="org-src-container">
<pre class="src src-emacs-lisp">      <span style="color: #676E95;">;; </span><span style="color: #676E95;">Make ESC quit prompts</span>
      (global-set-key (kbd <span style="color: #c3e88d;">"&lt;escape&gt;"</span>) 'keyboard-escape-quit)

</pre>
</div>
</div>
</div>

<div id="outline-container-org7cdc4d3" class="outline-4">
<h4 id="org7cdc4d3">取消 <code>C-u</code> 作为 <code>[count]</code> 的作用,因为要使用Vim的 <code>C-u</code> 做翻页</h4>
<div class="outline-text-4" id="text-org7cdc4d3">
<div class="org-src-container">
<pre class="src src-emacs-lisp">      (global-set-key (kbd <span style="color: #c3e88d;">"C-M-u"</span>) 'universal-argument)
</pre>
</div>
</div>
</div>


<div id="outline-container-org2ed22ce" class="outline-4">
<h4 id="org2ed22ce">Evil</h4>
<div class="outline-text-4" id="text-org2ed22ce">
</div>
<ul class="org-ul">
<li><a id="org99228a2"></a>基本的Vim按键设置<br />
<div class="outline-text-5" id="text-org99228a2">
<div class="org-src-container">
<pre class="src src-emacs-lisp">       (<span style="color: #89DDFF;">use-package</span> <span style="color: #f78c6c;">undo-tree</span>
         <span style="color: #82aaff;">:init</span>
         (global-undo-tree-mode 1))

       (<span style="color: #89DDFF;">use-package</span> <span style="color: #f78c6c;">evil</span>
         <span style="color: #82aaff;">:init</span>
         (<span style="color: #89DDFF;">setq</span> evil-want-integration t)
         (<span style="color: #89DDFF;">setq</span> evil-want-keybinding nil)
         (<span style="color: #89DDFF;">setq</span> evil-want-C-u-scroll t)
         (<span style="color: #89DDFF;">setq</span> evil-want-C-i-jump nil)
         (<span style="color: #89DDFF;">setq</span> evil-undo-system 'undo-tree)

         <span style="color: #82aaff;">:config</span>
         (evil-mode 1)
         (define-key evil-insert-state-map (kbd <span style="color: #c3e88d;">"C-g"</span>) 'evil-normal-state)
         (define-key evil-insert-state-map (kbd <span style="color: #c3e88d;">"C-h"</span>) 'evil-delete-backward-char-and-join)

         <span style="color: #676E95;">;; </span><span style="color: #676E95;">Use visual line motions even outside of visual-line-mode buffers</span>
         <span style="color: #676E95;">;;</span><span style="color: #676E95;">(evil-global-set-key 'motion "j" 'evil-next-visual-line)</span>
         <span style="color: #676E95;">;;</span><span style="color: #676E95;">(evil-global-set-key 'motion "k" 'evil-previous-visual-line)</span>

         (evil-set-initial-state 'messages-buffer-mode 'normal)
         (evil-set-initial-state 'dashboard-mode 'normal)
         <span style="color: #676E95;">;;</span><span style="color: #676E95;">(evil-set-initial-state 'treemacs-mode 'evil-normal-state)</span>
         )

       (<span style="color: #89DDFF;">use-package</span> <span style="color: #f78c6c;">evil-collection</span>
         <span style="color: #82aaff;">:after</span> evil
         <span style="color: #82aaff;">:config</span>
         (evil-collection-init))

</pre>
</div>
</div>
</li>


<li><a id="orgeb85621"></a>绑定"jk"退出插入模式<br />
<div class="outline-text-5" id="text-orgeb85621">
<div class="org-src-container">
<pre class="src src-emacs-lisp">
       (<span style="color: #89DDFF;">use-package</span> <span style="color: #f78c6c;">evil-escape</span>
         <span style="color: #82aaff;">:config</span>
         (evil-escape-mode 1)
         (<span style="color: #89DDFF;">setq-default</span> evil-escape-key-sequence <span style="color: #c3e88d;">"jk"</span>)
         (<span style="color: #89DDFF;">setq-default</span> evil-escape-delay 0.5))

</pre>
</div>
</div>
</li>


<li><a id="org8614ce3"></a>绑定&lt;leader&gt;s重新加载配置文件<br />
<div class="outline-text-5" id="text-org8614ce3">
<div class="org-src-container">
<pre class="src src-emacs-lisp">       <span style="color: #676E95;">;; </span><span style="color: #676E95;">(evil-set-leader 'normal (kbd "SPC"))</span>
       <span style="color: #676E95;">;; </span><span style="color: #676E95;">This buffer is for text that is not saved, and for Lisp evaluation.</span>
       <span style="color: #676E95;">;; </span><span style="color: #676E95;">To create a file, visit it with &lt;open&gt; and enter text in its buffer.</span>

       (<span style="color: #89DDFF;">defun</span> <span style="color: #82aaff;">reload-init-file</span> ()
         (<span style="color: #89DDFF;">interactive</span>)
         (load-file <span style="color: #c3e88d;">"~/.emacs.d/init.el"</span>)
         )
       (<span style="color: #89DDFF;">evil-define-key</span> 'normal 'global (kbd <span style="color: #c3e88d;">"&lt;leader&gt;s"</span>) 'reload-init-file)

</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div id="outline-container-org4e18bad" class="outline-3">
<h3 id="org4e18bad">编辑设置</h3>
<div class="outline-text-3" id="text-org4e18bad">
</div>
<div id="outline-container-org8a0b084" class="outline-4">
<h4 id="org8a0b084">Tab Width</h4>
<div class="outline-text-4" id="text-org8a0b084">
<div class="org-src-container">
<pre class="src src-emacs-lisp">      (<span style="color: #89DDFF;">setq-default</span> tab-width 2)
      (<span style="color: #89DDFF;">setq-default</span> evil-shift-width tab-width)
</pre>
</div>
</div>
</div>
<div id="outline-container-org56e8374" class="outline-4">
<h4 id="org56e8374">Use spaces instead of tabs for indnetation</h4>
<div class="outline-text-4" id="text-org56e8374">
<div class="org-src-container">
<pre class="src src-emacs-lisp">      (<span style="color: #89DDFF;">setq-default</span> indent-tabs-mode nil)
</pre>
</div>
</div>
</div>
<div id="outline-container-orgfdcb5cd" class="outline-4">
<h4 id="orgfdcb5cd">Commenting Lines</h4>
<div class="outline-text-4" id="text-orgfdcb5cd">
<div class="org-src-container">
<pre class="src src-emacs-lisp">      (<span style="color: #89DDFF;">use-package</span> <span style="color: #f78c6c;">evil-nerd-commenter</span>
        <span style="color: #82aaff;">:bind</span> (<span style="color: #c3e88d;">"M-c"</span> . evilnc-comment-or-uncomment-lines))
</pre>
</div>
</div>
</div>
<div id="outline-container-org5f84849" class="outline-4">
<h4 id="org5f84849">Automatically Clean whitespace</h4>
<div class="outline-text-4" id="text-org5f84849">
<div class="org-src-container">
<pre class="src src-emacs-lisp">      (<span style="color: #89DDFF;">use-package</span> <span style="color: #f78c6c;">ws-butler</span>
        <span style="color: #82aaff;">:hook</span> ((text-mode . ws-butler-mode)
               (prog-mode . ws-butler-mode)))

</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-orgfed885a" class="outline-3">
<h3 id="orgfed885a">按键面板</h3>
<div class="outline-text-3" id="text-orgfed885a">
<p>
<a href="https://github.com/justbur/emacs-which-key">which-key</a> 根据当前按下的按键展示可用(能)的快捷键组合和对应命令
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp">
     (<span style="color: #89DDFF;">use-package</span> <span style="color: #f78c6c;">which-key</span>
       <span style="color: #82aaff;">:init</span> (which-key-mode)
       <span style="color: #82aaff;">:diminish</span> which-key-mode
       <span style="color: #82aaff;">:config</span>
       (<span style="color: #89DDFF;">setq</span> which-key-idle-delay 0.3)) <span style="color: #676E95;">;</span><span style="color: #676E95;">&#35774;&#32622;&#22810;&#23569;&#24310;&#36831;&#21518;&#35843;&#29992;which-key</span>

</pre>
</div>
</div>
</div>

<div id="outline-container-org9c9c9fc" class="outline-3">
<h3 id="org9c9c9fc">按键绑定</h3>
<div class="outline-text-3" id="text-org9c9c9fc">
</div>
<div id="outline-container-org8462ce6" class="outline-4">
<h4 id="org8462ce6"><a href="https://github.com/noctuid/general.el">general.el</a> 用来管理快捷键绑定</h4>
<div class="outline-text-4" id="text-org8462ce6">
<div class="org-src-container">
<pre class="src src-emacs-lisp">      (<span style="color: #89DDFF;">use-package</span> <span style="color: #f78c6c;">general</span>
        <span style="color: #82aaff;">:config</span>
        (general-evil-setup t)
        (general-create-definer rune/leader-keys
                                <span style="color: #82aaff;">:keymaps</span> '(normal insert visual emacs)
                                <span style="color: #82aaff;">:prefix</span> <span style="color: #c3e88d;">"SPC"</span>
                                <span style="color: #82aaff;">:global-prefix</span> <span style="color: #c3e88d;">"C-SPC"</span>)

        (rune/leader-keys
         <span style="color: #c3e88d;">"t"</span>  '(<span style="color: #82aaff;">:ignore</span> t <span style="color: #82aaff;">:which-key</span> <span style="color: #c3e88d;">"toggles"</span>)
         <span style="color: #c3e88d;">"tt"</span> '(counsel-load-theme <span style="color: #82aaff;">:which-key</span> <span style="color: #c3e88d;">"choose theme"</span>)
         <span style="color: #c3e88d;">"f"</span>  '(<span style="color: #82aaff;">:ignore</span> t <span style="color: #82aaff;">:which-key</span> <span style="color: #c3e88d;">"file"</span>)
         <span style="color: #c3e88d;">"ft"</span> '(treemacs <span style="color: #82aaff;">:which-key</span> <span style="color: #c3e88d;">"file tree"</span>)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org82c2120" class="outline-4">
<h4 id="org82c2120">hydra 来绑定快捷键</h4>
<div class="outline-text-4" id="text-org82c2120">
<div class="org-src-container">
<pre class="src src-emacs-lisp">      (<span style="color: #89DDFF;">use-package</span> <span style="color: #f78c6c;">general</span>
        <span style="color: #82aaff;">:config</span>
        (general-create-definer rune/leader-keys
                                <span style="color: #82aaff;">:keymaps</span> '(normal insert visual emacs)
                                <span style="color: #82aaff;">:prefix</span> <span style="color: #c3e88d;">"SPC"</span>
                                <span style="color: #82aaff;">:global-prefix</span> <span style="color: #c3e88d;">"C-SPC"</span>))


      (<span style="color: #89DDFF;">defhydra</span> hydra-files ()
        <span style="color: #676E95;">;;</span><span style="color: #676E95;">(interactive)</span>
        <span style="color: #676E95;">;;</span><span style="color: #676E95;">("f" treemacs "file tree")</span>

        (<span style="color: #c3e88d;">"t"</span> treemacs <span style="color: #82aaff;">:which-key</span> <span style="color: #c3e88d;">"file tre"</span>)
        (<span style="color: #c3e88d;">"l"</span> text-scale-increase <span style="color: #c3e88d;">"out"</span>))
      (<span style="color: #89DDFF;">defhydra</span> hydra-leader ()
        (<span style="color: #c3e88d;">"f"</span> hydra-files/body <span style="color: #c3e88d;">"files"</span> <span style="color: #82aaff;">:exit</span> t))

      (rune/leader-keys
       <span style="color: #c3e88d;">"f"</span> '(hydra-files/body <span style="color: #82aaff;">:which-key</span> <span style="color: #c3e88d;">"files"</span>)
       )

      <span style="color: #676E95;">;;</span><span style="color: #676E95;">(global-set-key (kbd "SPC") 'hydra-leader/body)</span>
      <span style="color: #676E95;">;;     </span><span style="color: #676E95;">(define-key evil-normal-state-map (kbd "SPC") 'hydra-leader/body)</span>
      (<span style="color: #89DDFF;">defhydra</span> hydra-zoom ()
        <span style="color: #8d92af;">"zoom"</span>
        (<span style="color: #c3e88d;">"g"</span> text-scale-increase <span style="color: #c3e88d;">"in"</span>)
        (<span style="color: #c3e88d;">"l"</span> text-scale-decrease <span style="color: #c3e88d;">"out"</span>))

      (global-set-key (kbd <span style="color: #c3e88d;">"C-c"</span>) 'hydra-zoom/body)

</pre>
</div>
</div>
</div>

<div id="outline-container-org9f686d3" class="outline-4">
<h4 id="org9f686d3">Evil 快捷键绑定</h4>
<div class="outline-text-4" id="text-org9f686d3">
<div class="org-src-container">
<pre class="src src-emacs-lisp">

      <span style="color: #676E95;">;;</span><span style="color: #676E95;">(add-hook 'special-mode-hook 'evil-normal-state)</span>
      (define-key evil-normal-state-map (kbd <span style="color: #c3e88d;">"&lt;SPC&gt;ft"</span>) '(<span style="color: #c3e88d;">"File tree"</span> . treemacs))
      (which-key-add-key-based-replacements
        <span style="color: #c3e88d;">"&lt;SPC&gt;f"</span> <span style="color: #c3e88d;">"Files"</span>)
      <span style="color: #676E95;">;;</span><span style="color: #676E95;">(define-key evil-normal-state-map (kbd "&lt;SPC&gt;ft")'("File tree" . treemacs))</span>
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-orgb9c142c" class="outline-3">
<h3 id="orgb9c142c">文件浏览器</h3>
<div class="outline-text-3" id="text-orgb9c142c">
<div class="org-src-container">
<pre class="src src-emacs-lisp">     (<span style="color: #89DDFF;">use-package</span> <span style="color: #f78c6c;">treemacs</span>
       <span style="color: #82aaff;">:ensure</span> t
       <span style="color: #82aaff;">:defer</span> t)
     (<span style="color: #89DDFF;">use-package</span> <span style="color: #f78c6c;">treemacs-evil</span>
       <span style="color: #82aaff;">:after</span> (treemacs evil)
       <span style="color: #82aaff;">:ensure</span> t)
</pre>
</div>
</div>
</div>

<div id="outline-container-org3575224" class="outline-3">
<h3 id="org3575224">Minibuffer补全(Emacs 命令补全)</h3>
<div class="outline-text-3" id="text-org3575224">
<p>
Emacs有两种类型的补全，一种是写代码或文本时的补全(text completion),另一种就是使用emacs 命令时的补全(Minibuffer completion).
<a href="https://github.com/kenmcmil/ivy">Ivy</a> 是一个使用minibuffer的补全机制,提供针对emacs命令的各种补全功能,<a href="https://github.com/abo-abo/swiper">swpier</a> 是基于Ivy的更好用的 <code>Isearch</code> 工具, <a href="https://github.com/abo-abo/swiper#counsel">counsel</a> 是基于Ivy的 <code>execute-extended-command</code> (M-x) 增强版本,用正则更方便的选择emacs命令
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">     (<span style="color: #89DDFF;">use-package</span> <span style="color: #f78c6c;">ivy</span>
       <span style="color: #82aaff;">:diminish</span>
       <span style="color: #82aaff;">:bind</span> ((<span style="color: #c3e88d;">"C-s"</span> . swiper)
              <span style="color: #82aaff;">:map</span> ivy-minibuffer-map
              (<span style="color: #c3e88d;">"TAB"</span> . ivy-alt-done)
              (<span style="color: #c3e88d;">"C-l"</span> . ivy-alt-done)
              (<span style="color: #c3e88d;">"C-j"</span> . ivy-next-line)
              (<span style="color: #c3e88d;">"C-k"</span> . ivy-previous-line)
              <span style="color: #82aaff;">:map</span> ivy-switch-buffer-map
              (<span style="color: #c3e88d;">"C-k"</span> . ivy-previous-line)
              (<span style="color: #c3e88d;">"C-l"</span> . ivy-done)
              (<span style="color: #c3e88d;">"C-d"</span> . ivy-switch-buffer-kill)
              <span style="color: #82aaff;">:map</span> ivy-reverse-i-search-map
              (<span style="color: #c3e88d;">"C-k"</span> . ivy-previous-line)
              (<span style="color: #c3e88d;">"C-d"</span> . ivy-reverse-i-search-kill))
       <span style="color: #82aaff;">:config</span>
       (ivy-mode 1))

     (<span style="color: #89DDFF;">use-package</span> <span style="color: #f78c6c;">ivy-rich</span>
       <span style="color: #82aaff;">:init</span>
       (ivy-rich-mode 1))

     (<span style="color: #89DDFF;">use-package</span> <span style="color: #f78c6c;">counsel</span>
       <span style="color: #82aaff;">:bind</span> ((<span style="color: #c3e88d;">"M-x"</span> . counsel-M-x)
              (<span style="color: #c3e88d;">"C-x b"</span> . counsel-ibuffer)
              (<span style="color: #c3e88d;">"C-x C-f"</span> . counsel-find-file)
              <span style="color: #82aaff;">:map</span> minibuffer-local-map
              (<span style="color: #c3e88d;">"C-r"</span> . 'counsel-minibuffer-history)))
</pre>
</div>
</div>
</div>

<div id="outline-container-org1bcb17f" class="outline-3">
<h3 id="org1bcb17f">Development</h3>
<div class="outline-text-3" id="text-org1bcb17f">
</div>
<div id="outline-container-org2f63bfe" class="outline-4">
<h4 id="org2f63bfe">Lsp-mode</h4>
<div class="outline-text-4" id="text-org2f63bfe">
</div>
<ul class="org-ul">
<li><a id="org5588b76"></a>Lsp<br />
<div class="outline-text-5" id="text-org5588b76">
<div class="org-src-container">
<pre class="src src-emacs-lisp">

       (<span style="color: #89DDFF;">use-package</span> <span style="color: #f78c6c;">lsp-mode</span>
         <span style="color: #82aaff;">:init</span>
         <span style="color: #676E95;">;; </span><span style="color: #676E95;">set prefix for lsp-command-keymap (few alternatives - "C-l", "C-c l")</span>
         (<span style="color: #89DDFF;">setq</span> lsp-keymap-prefix <span style="color: #c3e88d;">"C-c l"</span>)
         <span style="color: #82aaff;">:hook</span> (<span style="color: #676E95;">;; </span><span style="color: #676E95;">replace XXX-mode with concrete major-mode(e. g. python-mode)</span>
                (python-mode . lsp)
                (json-mode .lsp)
                (html-mode .lsp)
                <span style="color: #676E95;">;; </span><span style="color: #676E95;">if you want which-key integration</span>
                (lsp-mode . lsp-enable-which-key-integration))
         <span style="color: #82aaff;">:commands</span> lsp lsp-deferred)

       <span style="color: #676E95;">;; </span><span style="color: #676E95;">optionally</span>

       <span style="color: #676E95;">;; </span><span style="color: #676E95;">company provide completion function</span>
       (<span style="color: #89DDFF;">use-package</span> <span style="color: #f78c6c;">company</span>)

       (<span style="color: #89DDFF;">use-package</span> <span style="color: #f78c6c;">flycheck</span>
         <span style="color: #676E95;">;; </span><span style="color: #676E95;">:init (global-flycheck-mode)</span>
         )

       (<span style="color: #89DDFF;">use-package</span> <span style="color: #f78c6c;">lsp-ui</span> <span style="color: #82aaff;">:commands</span> lsp-ui-mode)
       <span style="color: #676E95;">;; </span><span style="color: #676E95;">if you are helm user</span>
       <span style="color: #676E95;">;;</span><span style="color: #676E95;">(use-package helm-lsp :commands helm-lsp-workspace-symbol)</span>
       <span style="color: #676E95;">;; </span><span style="color: #676E95;">if you are ivy user</span>
       (<span style="color: #89DDFF;">use-package</span> <span style="color: #f78c6c;">lsp-ivy</span> <span style="color: #82aaff;">:commands</span> lsp-ivy-workspace-symbol)
       (<span style="color: #89DDFF;">use-package</span> <span style="color: #f78c6c;">lsp-treemacs</span> <span style="color: #82aaff;">:commands</span> lsp-treemacs-errors-list)

       <span style="color: #676E95;">;; </span><span style="color: #676E95;">optionally if you want to use debugger</span>
       <span style="color: #676E95;">;; </span><span style="color: #676E95;">(use-package dap-mode</span>
         <span style="color: #676E95;">;; </span><span style="color: #676E95;">:defer)</span>

       <span style="color: #676E95;">;; </span><span style="color: #676E95;">(use-package dap-LANGUAGE) to load the dap adapter for your language</span>
       <span style="color: #676E95;">;; </span><span style="color: #676E95;">(require 'dap-python)</span>

       <span style="color: #676E95;">;; </span><span style="color: #676E95;">optional if you want which-key integration</span>
       <span style="color: #676E95;">;;</span><span style="color: #676E95;">(use-package which-key</span>
       <span style="color: #676E95;">;;</span><span style="color: #676E95;">:config</span>
       <span style="color: #676E95;">;;</span><span style="color: #676E95;">(which-key-mode))</span>

</pre>
</div>

<div class="org-src-container">
<pre class="src src-emacs-lisp">       (<span style="color: #89DDFF;">use-package</span> <span style="color: #f78c6c;">lsp-mode</span>
         <span style="color: #82aaff;">:init</span>
         <span style="color: #676E95;">;; </span><span style="color: #676E95;">set prefix for lsp-command-keymap (few alternatives - "C-l", "C-c l")</span>
         (<span style="color: #89DDFF;">setq</span> lsp-keymap-prefix <span style="color: #c3e88d;">"C-c l"</span>)
         <span style="color: #82aaff;">:hook</span> (<span style="color: #676E95;">;; </span><span style="color: #676E95;">replace XXX-mode with concrete major-mode(e. g. python-mode)</span>
                (python-mode . lsp-defer)
                <span style="color: #676E95;">;; </span><span style="color: #676E95;">if you want which-key integration</span>
                (lsp-mode . lsp-enable-which-key-integration))
         <span style="color: #82aaff;">:commands</span> lsp)

       <span style="color: #676E95;">;; </span><span style="color: #676E95;">optionally</span>
       (<span style="color: #89DDFF;">use-package</span> <span style="color: #f78c6c;">lsp-ui</span> <span style="color: #82aaff;">:commands</span> lsp-ui-mode)
       <span style="color: #676E95;">;; </span><span style="color: #676E95;">if you are helm user</span>
       <span style="color: #676E95;">;;</span><span style="color: #676E95;">(use-package helm-lsp :commands helm-lsp-workspace-symbol)</span>
       <span style="color: #676E95;">;; </span><span style="color: #676E95;">if you are ivy user</span>
       (<span style="color: #89DDFF;">use-package</span> <span style="color: #f78c6c;">lsp-ivy</span> <span style="color: #82aaff;">:commands</span> lsp-ivy-workspace-symbol)
       (<span style="color: #89DDFF;">use-package</span> <span style="color: #f78c6c;">lsp-treemacs</span> <span style="color: #82aaff;">:commands</span> lsp-treemacs-errors-list)

       <span style="color: #676E95;">;; </span><span style="color: #676E95;">optionally if you want to use debugger</span>
       (<span style="color: #89DDFF;">use-package</span> <span style="color: #f78c6c;">dap-mode</span>)
       <span style="color: #676E95;">;; </span><span style="color: #676E95;">(use-package dap-LANGUAGE) to load the dap adapter for your language</span>

       <span style="color: #676E95;">;; </span><span style="color: #676E95;">optional if you want which-key integration</span>
       <span style="color: #676E95;">;;</span><span style="color: #676E95;">(use-package which-key</span>
       <span style="color: #676E95;">;;</span><span style="color: #676E95;">:config</span>
       <span style="color: #676E95;">;;</span><span style="color: #676E95;">(which-key-mode))</span>
</pre>
</div>
</div>
</li>

<li><a id="orga12a7b7"></a>Lsp for python<br />
<ul class="org-ul">
<li><a id="org3037922"></a>Pylsp<br />
<div class="outline-text-6" id="text-org3037922">
<div class="org-src-container">
<pre class="src src-emacs-lisp">        (<span style="color: #89DDFF;">setq</span> lsp-pylsp-plugins-yapf-enabled t)
        (<span style="color: #89DDFF;">setq</span> lsp-pylsp-plugins-jedi-use-pyenv-environment t)
</pre>
</div>
</div>
</li>
<li><a id="org2741747"></a>Pyright<br />
<div class="outline-text-6" id="text-org2741747">
<div class="org-src-container">
<pre class="src src-emacs-lisp">        (<span style="color: #89DDFF;">use-package</span> <span style="color: #f78c6c;">lsp-pyright</span>
          <span style="color: #82aaff;">:ensure</span> t
          <span style="color: #82aaff;">:hook</span> (python-mode . (<span style="color: #89DDFF;">lambda</span> ()
                                 (<span style="color: #89DDFF;">require</span> '<span style="color: #f78c6c;">lsp-pyright</span>)
                                 (lsp))))  <span style="color: #676E95;">; </span><span style="color: #676E95;">or lsp-deferred</span>
        <span style="color: #676E95;">;; </span><span style="color: #676E95;">(use-package company)</span>
</pre>
</div>
</div>
</li>
<li><a id="org1cac7d9"></a>Mspyls<br />
<div class="outline-text-6" id="text-org1cac7d9">
<div class="org-src-container">
<pre class="src src-emacs-lisp">        (<span style="color: #89DDFF;">use-package</span> <span style="color: #f78c6c;">lsp-python-ms</span>
          <span style="color: #82aaff;">:ensure</span> t
          <span style="color: #82aaff;">:init</span> (<span style="color: #89DDFF;">setq</span> lsp-python-ms-auto-install-server t)
          <span style="color: #82aaff;">:hook</span> (python-mode . (<span style="color: #89DDFF;">lambda</span> ()
                                 (<span style="color: #89DDFF;">require</span> '<span style="color: #f78c6c;">lsp-python-ms</span>)
                                 (lsp))))  <span style="color: #676E95;">;</span><span style="color: #676E95;">lsp or lsp-deferred</span>

</pre>
</div>
</div>
</li>
<li><a id="orgf21e7a8"></a>jedi<br />
<div class="outline-text-6" id="text-orgf21e7a8">
<div class="org-src-container">
<pre class="src src-emacs-lisp">        (<span style="color: #89DDFF;">use-package</span> <span style="color: #f78c6c;">lsp-jedi</span>
          <span style="color: #82aaff;">:ensure</span> t
          <span style="color: #82aaff;">:config</span>
          (<span style="color: #89DDFF;">with-eval-after-load</span> <span style="color: #c3e88d;">"lsp-mode"</span>
            (add-to-list 'lsp-disabled-clients 'pyls)
            (add-to-list 'lsp-disabled-clients 'mspyls)
            (add-to-list 'lsp-disabled-clients 'pylsp)
            <span style="color: #676E95;">;; </span><span style="color: #676E95;">(add-to-list 'lsp-enabled-clients 'jedi)</span>
            ))
</pre>
</div>
</div>
</li>
</ul>
</li>

<li><a id="org6c7cb45"></a>LSP for Html<br />
<div class="outline-text-5" id="text-org6c7cb45">
<div class="org-src-container">
<pre class="src src-emacs-lisp">
</pre>
</div>
</div>
</li>
</ul>
</div>

<div id="outline-container-orgbc6f352" class="outline-4">
<h4 id="orgbc6f352">Python_settings</h4>
<div class="outline-text-4" id="text-orgbc6f352">
<div class="org-src-container">
<pre class="src src-emacs-lisp">      <span style="color: #676E95;">;; </span><span style="color: #676E95;">&#35774;&#32622;&#32553;&#36827;&#20026;4</span>
      (<span style="color: #89DDFF;">setq</span>
       python-indent-offset 4
       python-indent-guess-indent-offset nil)
      (add-hook 'python-mode-hook (electric-pair-mode 1))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgc6d1fd0" class="outline-4">
<h4 id="orgc6d1fd0">Format python code</h4>
<div class="outline-text-4" id="text-orgc6d1fd0">
<div class="org-src-container">
<pre class="src src-emacs-lisp">      (<span style="color: #89DDFF;">use-package</span> <span style="color: #f78c6c;">yapfify</span>
        <span style="color: #82aaff;">:config</span>
        (add-hook 'python-mode-hook 'yapf-mode))
</pre>
</div>
</div>
</div>

<div id="outline-container-org7809db2" class="outline-4">
<h4 id="org7809db2">Format All</h4>
<div class="outline-text-4" id="text-org7809db2">
<div class="org-src-container">
<pre class="src src-emacs-lisp">      (<span style="color: #89DDFF;">use-package</span> <span style="color: #f78c6c;">format-all</span>)
</pre>
</div>
</div>
</div>
<div id="outline-container-org8dce4b8" class="outline-4">
<h4 id="org8dce4b8">Elpy &#x2013; IDE for py</h4>
<div class="outline-text-4" id="text-org8dce4b8">
<div class="org-src-container">
<pre class="src src-emacs-lisp">      (<span style="color: #89DDFF;">use-package</span> <span style="color: #f78c6c;">elpy</span>
        <span style="color: #82aaff;">:ensure</span> t
        <span style="color: #82aaff;">:init</span>
        (elpy-enable))
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org25bfb6e" class="outline-3">
<h3 id="org25bfb6e">Orgmode</h3>
<div class="outline-text-3" id="text-org25bfb6e">
</div>
<div id="outline-container-org0626849" class="outline-4">
<h4 id="org0626849">CodeBlock模版</h4>
<div class="outline-text-4" id="text-org0626849">
<div class="org-src-container">
<pre class="src src-emacs-lisp">      (<span style="color: #89DDFF;">require</span> '<span style="color: #f78c6c;">org-tempo</span>)
      (add-to-list 'org-structure-template-alist '(<span style="color: #c3e88d;">"py"</span> . <span style="color: #c3e88d;">"src python :results output"</span>))
      (add-to-list 'org-structure-template-alist '(<span style="color: #c3e88d;">"el"</span> . <span style="color: #c3e88d;">"src emacs-lisp"</span>))
      (add-to-list 'org-structure-template-alist '(<span style="color: #c3e88d;">"ipy"</span> . <span style="color: #c3e88d;">"src ipython :session"</span>))
      (add-to-list 'org-structure-template-alist '(<span style="color: #c3e88d;">"bash"</span> . <span style="color: #c3e88d;">"src bash"</span>))
</pre>
</div>
</div>
</div>

<div id="outline-container-org4f3858a" class="outline-4">
<h4 id="org4f3858a">outline</h4>
<div class="outline-text-4" id="text-org4f3858a">
<p>
配置headline的项目符号(bullet point)
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp">      (<span style="color: #89DDFF;">use-package</span> <span style="color: #f78c6c;">org-superstar</span>
        <span style="color: #82aaff;">:after</span> org
        <span style="color: #82aaff;">:hook</span> (org-mode . org-superstar-mode)
        <span style="color: #82aaff;">:config</span>
        (<span style="color: #89DDFF;">setq</span> org-superstar-leading-bullet  ?\s)

        <span style="color: #82aaff;">:custom</span>
        <span style="color: #676E95;">;;</span><span style="color: #676E95;">(org-superstar-remove-leading-stars t)</span>

        (org-superstar-headline-bullets-list '(<span style="color: #c3e88d;">"&#9673;"</span> <span style="color: #c3e88d;">"&#9675;"</span> <span style="color: #c3e88d;">"&#9679;"</span> <span style="color: #c3e88d;">"&#9675;"</span> <span style="color: #c3e88d;">"&#9679;"</span> <span style="color: #c3e88d;">"&#9675;"</span> <span style="color: #c3e88d;">"&#9679;"</span>))
        <span style="color: #676E95;">;; </span><span style="color: #676E95;">(org-superstar-headline-bullets-list '("&#9775;" "&#9776;" "&#9777;" "&#9778;" "&#9779;" "&#9780;" "&#9781;" "&#9782;" "&#9783;"))</span>
        )


</pre>
</div>

<p>
配置折叠后的省略号
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp">      (<span style="color: #89DDFF;">setq</span> org-ellipsis <span style="color: #c3e88d;">" &#9660; "</span>)
</pre>
</div>
</div>
</div>

<div id="outline-container-orgf9c17c0" class="outline-4">
<h4 id="orgf9c17c0">Org-roam</h4>
<div class="outline-text-4" id="text-orgf9c17c0">
<div class="org-src-container">
<pre class="src src-emacs-lisp">            <span style="color: #676E95;">;;</span><span style="color: #676E95;">(use-package org-roam</span>
              <span style="color: #676E95;">;;</span><span style="color: #676E95;">:ensure t</span>
              <span style="color: #676E95;">;;</span><span style="color: #676E95;">:init</span>
              <span style="color: #676E95;">;;</span><span style="color: #676E95;">(setq org-roam-v2-ack t)</span>
              <span style="color: #676E95;">;;</span><span style="color: #676E95;">:custom</span>
              <span style="color: #676E95;">;;</span><span style="color: #676E95;">(org-roam-directory "~/MyLife/org-roam")</span>
              <span style="color: #676E95;">;;</span><span style="color: #676E95;">:bind (("C-c n l" . org-roam-buffer-toggle)</span>
                     <span style="color: #676E95;">;;</span><span style="color: #676E95;">("C-c n f" . org-roam-node-find)</span>
                     <span style="color: #676E95;">;;</span><span style="color: #676E95;">("C-c n i" . org-roam-node-insert))</span>
              <span style="color: #676E95;">;;</span><span style="color: #676E95;">:config</span>
              <span style="color: #676E95;">;;</span><span style="color: #676E95;">(org-roam-setup))</span>
      (<span style="color: #89DDFF;">use-package</span> <span style="color: #f78c6c;">org-roam</span>
        <span style="color: #82aaff;">:ensure</span> t
        <span style="color: #82aaff;">:init</span>
        (<span style="color: #89DDFF;">setq</span> org-roam-v2-ack t)
        <span style="color: #82aaff;">:custom</span>
        (org-roam-directory <span style="color: #c3e88d;">"~/MyLife/org-roam"</span>)
        (org-roam-completion-everywhere t)
        (org-roam-dailies-capture-templates
          '((<span style="color: #c3e88d;">"d"</span> <span style="color: #c3e88d;">"default"</span> entry <span style="color: #c3e88d;">"* %&lt;%I:%M %p&gt;: %?"</span>
             <span style="color: #82aaff;">:if-new</span> (file+head <span style="color: #c3e88d;">"%&lt;%Y-%m-%d&gt;.org"</span> <span style="color: #c3e88d;">"#+title: %&lt;%Y-%m-%d&gt;\n"</span>))))
        <span style="color: #82aaff;">:bind</span> ((<span style="color: #c3e88d;">"C-c n l"</span> . org-roam-buffer-toggle)
               (<span style="color: #c3e88d;">"C-c n f"</span> . org-roam-node-find)
               (<span style="color: #c3e88d;">"C-c n i"</span> . org-roam-node-insert)
               <span style="color: #82aaff;">:map</span> org-mode-map
               (<span style="color: #c3e88d;">"C-M-i"</span> . completion-at-point)
               <span style="color: #82aaff;">:map</span> org-roam-dailies-map
               (<span style="color: #c3e88d;">"Y"</span> . org-roam-dailies-capture-yesterday)
               (<span style="color: #c3e88d;">"T"</span> . org-roam-dailies-capture-tomorrow))
        <span style="color: #82aaff;">:bind-keymap</span>
        (<span style="color: #c3e88d;">"C-c n d"</span> . org-roam-dailies-map)
        <span style="color: #82aaff;">:config</span>
        (<span style="color: #89DDFF;">require</span> '<span style="color: #f78c6c;">org-roam-dailies</span>) <span style="color: #676E95;">;; </span><span style="color: #676E95;">Ensure the keymap is available</span>
        (org-roam-db-autosync-mode))

</pre>
</div>
</div>
</div>
<div id="outline-container-orgc62cb83" class="outline-4">
<h4 id="orgc62cb83">Org-mode</h4>
<div class="outline-text-4" id="text-orgc62cb83">
</div>
<ul class="org-ul">
<li><a id="org6d57479"></a>Init set up<br />
<div class="outline-text-5" id="text-org6d57479">
<div class="org-src-container">
<pre class="src src-emacs-lisp">      (<span style="color: #89DDFF;">setq</span> org-directory <span style="color: #c3e88d;">"~/MyLife/org"</span>)
      (global-set-key (kbd <span style="color: #c3e88d;">"C-c l"</span>) 'org-store-link)
      (global-set-key (kbd <span style="color: #c3e88d;">"C-c a"</span>) 'org-agenda)
      (global-set-key (kbd <span style="color: #c3e88d;">"C-c c"</span>) 'org-capture)
</pre>
</div>
</div>
</li>

<li><a id="org9db46ee"></a>Hide emphasis markers<br />
<div class="outline-text-5" id="text-org9db46ee">
<div class="org-src-container">
<pre class="src src-emacs-lisp">       (<span style="color: #89DDFF;">setq</span> org-hide-emphasis-markers t)
</pre>
</div>
</div>
</li>

<li><a id="orgc9352c3"></a>org-drill<br />
<div class="outline-text-5" id="text-orgc9352c3">
<div class="org-src-container">
<pre class="src src-emacs-lisp">       (<span style="color: #89DDFF;">use-package</span> <span style="color: #f78c6c;">org-drill</span>)
</pre>
</div>
</div>
</li>
</ul>
</div>

<div id="outline-container-orgd51d39a" class="outline-4">
<h4 id="orgd51d39a">Pomodoro</h4>
<div class="outline-text-4" id="text-orgd51d39a">
<div class="org-src-container">
<pre class="src src-emacs-lisp">      (<span style="color: #89DDFF;">use-package</span> <span style="color: #f78c6c;">org-pomodoro</span>
        <span style="color: #82aaff;">:config</span>
        (<span style="color: #89DDFF;">setq</span> org-pomodoro-start-sound (expand-file-name <span style="color: #c3e88d;">"~/MyLife/Emacs/sounds/meditation_bell.wav"</span>))
        (<span style="color: #89DDFF;">setq</span> org-pomodoro-short-break-sound (expand-file-name <span style="color: #c3e88d;">"~/MyLife/Emacs/sounds/meditation_bell.wav"</span>))
        (<span style="color: #89DDFF;">setq</span> org-pomodoro-long-break-sound (expand-file-name <span style="color: #c3e88d;">"~/MyLife/Emacs/sounds/meditation_bell.wav"</span>))
        (<span style="color: #89DDFF;">setq</span> org-pomodoro-finished-sound (expand-file-name <span style="color: #c3e88d;">"~/MyLife/Emacs/sounds/meditation_bell.wav"</span>)))
      <span style="color: #676E95;">;; </span><span style="color: #676E95;">org-pomodoro use sound-wav pavkage to play the sound</span>
      (<span style="color: #89DDFF;">use-package</span> <span style="color: #f78c6c;">sound-wav</span>)

</pre>
</div>
</div>
</div>

<div id="outline-container-orga5c1b4a" class="outline-4">
<h4 id="orga5c1b4a">tracking habits</h4>
<div class="outline-text-4" id="text-orga5c1b4a">
<div class="org-src-container">
<pre class="src src-emacs-lisp">      (add-to-list 'org-modules 'org-habit)
</pre>
</div>
</div>
</div>

<div id="outline-container-orgad48171" class="outline-4">
<h4 id="orgad48171">Auto insert newline</h4>
<div class="outline-text-4" id="text-orgad48171">
<div class="org-src-container">
<pre class="src src-emacs-lisp">      (add-hook 'org-mode-hook '(lambda () (<span style="color: #89DDFF;">setq</span> fill-column 80)))
      (add-hook 'org-mode-hook 'auto-fill-mode)
</pre>
</div>
</div>
</div>

<div id="outline-container-orgab1b849" class="outline-4">
<h4 id="orgab1b849">org-capture-template</h4>
<div class="outline-text-4" id="text-orgab1b849">
<div class="org-src-container">
<pre class="src src-emacs-lisp">      (<span style="color: #89DDFF;">setq</span> org-capture-templates
      '(
        (<span style="color: #c3e88d;">"t"</span> <span style="color: #c3e88d;">"Tasks"</span>)
        (<span style="color: #c3e88d;">"tt"</span> <span style="color: #c3e88d;">"TODO"</span> entry (file+headline <span style="color: #c3e88d;">"GTD.org"</span> <span style="color: #c3e88d;">"Tasks"</span>) <span style="color: #c3e88d;">"* TODO %?\n %i\n %a"</span>)
        (<span style="color: #c3e88d;">"T"</span> <span style="color: #c3e88d;">"Thoughts"</span>)
        (<span style="color: #c3e88d;">"TT"</span> <span style="color: #c3e88d;">"Thought  To be done"</span> entry (file+headline <span style="color: #c3e88d;">"GTD.org"</span> <span style="color: #c3e88d;">"&#26410;&#23454;&#29616;&#30340;&#24819;&#27861;"</span>) <span style="color: #c3e88d;">"* %?\n"</span> <span style="color: #82aaff;">:jump-to-captured</span> t)
        (<span style="color: #c3e88d;">"d"</span> <span style="color: #c3e88d;">"Drills"</span>)
        (<span style="color: #c3e88d;">"dE"</span> <span style="color: #c3e88d;">"Drills for English"</span> entry (file+headline <span style="color: #c3e88d;">"GTD.org"</span> <span style="color: #c3e88d;">"English"</span>)  <span style="color: #c3e88d;">"* %? :drill:"</span>)
        (<span style="color: #c3e88d;">"dP"</span> <span style="color: #c3e88d;">"Drills for Python"</span> entry (file+headline <span style="color: #c3e88d;">"~/MyLife/Python/Learning_Python/README.org"</span> <span style="color: #c3e88d;">"&#32451;&#20064;&#39064;"</span>) <span style="color: #c3e88d;">"* %? :drill:\n** Answer\n** Note\n"</span> <span style="color: #82aaff;">:jump-to-captured</span> t)
        )
      )
</pre>
</div>
</div>
</div>

<div id="outline-container-org213800e" class="outline-4">
<h4 id="org213800e">Encrypt</h4>
<div class="outline-text-4" id="text-org213800e">
<div class="org-src-container">
<pre class="src src-emacs-lisp">      (<span style="color: #89DDFF;">require</span> '<span style="color: #f78c6c;">org-crypt</span>)
      (org-crypt-use-before-save-magic)
      (<span style="color: #89DDFF;">setq</span> org-tags-exclude-from-inheritance (<span style="color: #89DDFF;">quote</span> (<span style="color: #c3e88d;">"crypt"</span>)))
      <span style="color: #676E95;">;; </span><span style="color: #676E95;">GPG key to use for encryption</span>
      <span style="color: #676E95;">;; </span><span style="color: #676E95;">Either the Key ID or set to nil to use symmetric encryption.</span>
      (<span style="color: #89DDFF;">setq</span> org-crypt-key <span style="color: #c3e88d;">"kamisama"</span>)
</pre>
</div>
</div>
</div>
</div>



<div id="outline-container-org902652f" class="outline-3">
<h3 id="org902652f">Productivity</h3>
<div class="outline-text-3" id="text-org902652f">
<p>
一些能提高编辑效率的配置
</p>
</div>

<div id="outline-container-org729b7bd" class="outline-4">
<h4 id="org729b7bd">括号补全</h4>
<div class="outline-text-4" id="text-org729b7bd">
<p>
自动补全各种括号和引号
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp">
      <span style="color: #676E95;">;;</span><span style="color: #676E95;">(electric-pair-mode 1)</span>

      (<span style="color: #89DDFF;">use-package</span> <span style="color: #f78c6c;">smartparens</span>
        <span style="color: #82aaff;">:hook</span>
        (prog-mode . smartparens-mode)
        (org-mode . smartparens-mode ))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgf9303da" class="outline-4">
<h4 id="orgf9303da">Snippet</h4>
<div class="outline-text-4" id="text-orgf9303da">
<div class="org-src-container">
<pre class="src src-emacs-lisp">      <span style="color: #676E95;">;; </span><span style="color: #676E95;">snippet engine</span>
      (<span style="color: #89DDFF;">use-package</span> <span style="color: #f78c6c;">yasnippet</span>
        <span style="color: #82aaff;">:defer</span>
        <span style="color: #82aaff;">:hook</span> (prog-mode . yas-minor-mode)
        <span style="color: #82aaff;">:config</span>
        (yas-reload-all))
      <span style="color: #676E95;">;; </span><span style="color: #676E95;">snippets</span>
      <span style="color: #676E95;">;; </span><span style="color: #676E95;">(use-package yasnippet-snippets</span>
        <span style="color: #676E95;">;; </span><span style="color: #676E95;">:hook (prog-mode .))</span>
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-orgef02dae" class="outline-3">
<h3 id="orgef02dae">Ebook</h3>
<div class="outline-text-3" id="text-orgef02dae">
<div class="org-src-container">
<pre class="src src-emacs-lisp">     (<span style="color: #89DDFF;">use-package</span> <span style="color: #f78c6c;">nov</span>
       <span style="color: #82aaff;">:config</span>
       (add-to-list 'auto-mode-alist '(<span style="color: #c3e88d;">"\\.epub\\'"</span> . nov-mode)))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgce48b51" class="outline-3">
<h3 id="orgce48b51">Magit</h3>
<div class="outline-text-3" id="text-orgce48b51">
<div class="org-src-container">
<pre class="src src-emacs-lisp">     <span style="color: #676E95;">;; </span><span style="color: #676E95;">(use-package magit)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org1797fea" class="outline-3">
<h3 id="org1797fea">Save Emacs Sessions</h3>
<div class="outline-text-3" id="text-org1797fea">
<div class="org-src-container">
<pre class="src src-emacs-lisp">     (desktop-save-mode 1)
</pre>
</div>
</div>
</div>
</div>
</div>
<div id="postamble" class="status">
<p class="author">Author: kamisama</p>
</div>
</body>
</html>