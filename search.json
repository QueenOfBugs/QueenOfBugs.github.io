[{"categories":null,"content":"VimHacking Vimé…ç½®pythonå¼€å‘ç¯å¢ƒ :EXPORT_FILE_NAME: Vimé…ç½®pythonå¼€å‘ç¯å¢ƒ\nåŠŸèƒ½:ä»£ç æç¤º,ä»£ç è¡¥å…¨,è¯­æ³•æ£€æŸ¥,snippetè¡¥å…¨\nç³»ç»Ÿå’Œè½¯ä»¶ç‰ˆæœ¬:\n1 2 3 4 5 6 7 8  $ vim --version VIM - Vi IMproved 8.2 (2019 Dec 12, compiled Mar 26 2021 00:21:09) Included patches: 1-2653 Compiled by Arch Linux $ uname -a Linux kamisama-20e0a013cd 5.10.30-1-MANJARO #1 SMP Wed Apr 14 08:07:27 UTC 2021 x86_64 GNU/Linux   æ’ä»¶ç®¡ç†å™¨Vim-Plug  é€šè¿‡å‘½ä»¤è¡Œç›´æ¥å®‰è£…  Unix:\n è¿™ç§æ–¹å¼å¯èƒ½éœ€è¦ä»£ç†æ‰èƒ½ä½¿ç”¨ï¼Œä¸‹è½½çš„ç½‘å€è²Œä¼¼è¢«å¢™,è‡³å°‘åœ¨æˆ‘å†™è¿™æ¡è®°å½•çš„æ—¶å€™ä¸‹è½½ä¸äº†,å¢™å¯¹äºgayhubçš„ç­–ç•¥çœŸæ˜¯æä¸æ‡‚\n 1 2  $ curl -fLo ~/.vim/autoload/plug.vim --create-dirs \\  https://raw.githubusercontent.com/junegunn/vim-plug/master/plug.vim    ç”±äºè¿™ç§æ–¹å¼ä¸‹è½½ä¸äº†ï¼Œæ‰€ä»¥å®˜ç½‘æ¨èçš„è‡ªåŠ¨å®‰è£…çš„æ–¹æ³•ä¸é€‚ç”¨\n  æ‰‹åŠ¨ä¸‹è½½å®‰è£…:  å°†å‘½ä»¤è¡Œé‡Œçš„ç½‘å€å¤åˆ¶åˆ°æµè§ˆå™¨ï¼Œè®¿é—®å¹¶å¤åˆ¶ç½‘é¡µå†…å®¹ï¼Œä¿å­˜ä¸ºplug.vimæ–‡ä»¶ï¼Œæ”¾ç½®åˆ°`.vim/autoload/`ç›®å½•\næ’ä»¶å®‰è£…(åŠ è½½) ~/.vimrc:\n1 2 3 4 5 6 7 8 9  call plug#begin('~/.vim/plugged')Plug 'prabirshrestha/vim-lsp'Plug 'mattn/vim-lsp-settings'Plug 'prabirshrestha/asyncomplete.vim'Plug 'prabirshrestha/asyncomplete-lsp.vim'Plug 'prabirshrestha/asyncomplete-ultisnips.vim'Plug 'honza/vim-snippets'Plug 'SirVer/ultisnips'call plug#end()  ç¼–è¾‘å®Œåä¿å­˜`:w`,æ‰§è¡Œ`:source %`é‡æ–°åŠ è½½vimrcæ–‡ä»¶,æ‰§è¡Œ`:PlugInstall`ä¸‹è½½æ’ä»¶\næ’ä»¶é…ç½® ~/.vimrc:(é…ç½®æ”¾åœ¨æ’ä»¶åŠ è½½ä¹‹å)\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31  if \u0026runtimepath =~ 'asyncomplete'\" inoremap \u003cexpr\u003e \u003cTab\u003e pumvisible() ? \"\\\u003cC-n\u003e\" : \"\\\u003cTab\u003e\"\" inoremap \u003cexpr\u003e \u003cS-Tab\u003e pumvisible() ? \"\\\u003cC-p\u003e\" : \"\\\u003cS-Tab\u003e\"\" inoremap \u003cexpr\u003e \u003ccr\u003e pumvisible() ? asyncomplete#close_popup() : \"\\\u003ccr\u003e\"inoremap \u003cexpr\u003e \u003cTab\u003e pumvisible() ? \"\\\u003cC-n\u003e\" : \"\\\u003cTab\u003e\"inoremap \u003cexpr\u003e \u003cS-Tab\u003e pumvisible() ? \"\\\u003cC-p\u003e\" : \"\\\u003cS-Tab\u003e\"inoremap \u003cexpr\u003e \u003ccr\u003e pumvisible() ? \"\\\u003cC-y\u003e\" : \"\\\u003ccr\u003e\"imap \u003cc-space\u003e \u003cPlug\u003e(asyncomplete_force_refresh)endifif \u0026runtimepath =~ 'asyncomplete-ultisnips' if has('python3')\" let g:UltiSnipsExpandTrigger=\"\u003ccr\u003e\"\" ctrl + e è§¦å‘snippet let g:UltiSnipsExpandTrigger=\"\u003cc-e\u003e\" let g:UltiSnipsJumpForwardTrigger=\"\u003cc-b\u003e\" let g:UltiSnipsJumpBackwardTrigger=\"\u003cc-z\u003e\" let g:UltiSnipsEditSplit=\"vertical\" call asyncomplete#register_source(asyncomplete#sources#ultisnips#get_source_options({ \\ 'name': 'ultisnips', \\ 'allowlist': ['*'], \\ 'completor': function('asyncomplete#sources#ultisnips#completor'), \\ })) endifendifif \u0026runtimepath =~ 'vim-lsp'nmap gd :LspDefinition\u003ccr\u003enmap \u003cleader\u003ef :LspDocumentFormat\u003ccr\u003elet g:lsp_diagnostics_float_cursor=1let g:lsp_diagnostics_virtual_text_enabled=1endif  ä¸Šé¢çš„é…ç½®å°±èƒ½å®ç°ç±»ä¼¼pycharmçš„ä»£ç è¡¥å…¨åŠŸèƒ½äº†\næ’ä»¶è¯¦è§£:  vim-lsp:vimçš„language server protocolæ’ä»¶ vim-lsp-setting:æ–¹ä¾¿é…ç½®vim-lspçš„æ’ä»¶  ä¸Šé¢ä¸¤ä¸ªæ’ä»¶å®‰è£…å®Œåæ‰“å¼€ä¸€ä¸ªpyæ–‡ä»¶ï¼Œå°±ä¼šæç¤ºå®‰è£…è¯­è¨€æœåŠ¡å™¨,é€‰æ‹©yesï¼›æˆ–è€…æ‰§è¡Œ`:LspInstallServer pyls-all`,pyls-allå¯ä»¥æ¢æˆå…¶ä»–ï¼Œåœ¨`LspInstallServer`åæŒ‰``å°±ä¼šåˆ‡æ¢å¯ç”¨çš„è¯­è¨€æœåŠ¡å™¨\n asyncomplete:è‡ªåŠ¨è¡¥å…¨æ’ä»¶.  å®‰è£…lspåå¯ä»¥ç›´æ¥ç”¨lspçš„è¡¥å…¨åŠŸèƒ½ï¼Œä½†æ˜¯ç”¨çš„ä¸æ˜¯å¾ˆæ–¹ä¾¿ï¼Œéœ€è¦é˜…è¯»æ–‡æ¡£åè‡ªå·±å®šåˆ¶ï¼Œæ²¡æ—¶é—´å’Œè€å¿ƒçš„å°±ä¸åˆé€‚äº†ï¼Œæ‰€ä»¥ä½¿ç”¨è‡ªåŠ¨è¡¥å…¨æ’ä»¶\n  asyncomplete-lsp:è®©asyncompleteä½¿ç”¨lspçš„è¡¥å…¨\n  vim-snippets:å¤§é‡çš„snippetä»£ç ï¼Œä¸æä¾›è¡¥å…¨ï¼Œæ‰€ä»¥éœ€è¦è¡¥å…¨å¼•æ“ï¼Œä¾‹å¦‚:ultisnips\n  ultisnips:snippetçš„è¡¥å…¨å¼•æ“\n  asyncomplete-ultisnips:å°†ultisnipsçš„è¡¥å…¨é›†æˆåˆ°asyncomplete\n  æ•ˆæœå›¾  :smile:\nğŸ™ˆ\n","description":"","tags":null,"title":"test","uri":"/post/blog/"}]